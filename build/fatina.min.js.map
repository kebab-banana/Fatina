{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///fatina.min.js","webpack:///webpack/bootstrap c9948b0f6963dc0852ba?cd43","webpack:///./src/fatina/index.ts?519f","webpack:///./src/fatina/tweens/sequence.ts?13df","webpack:///./src/fatina/tweens/baseTween.ts?af98","webpack:///./src/fatina/core/enum/state.ts?be58","webpack:///./src/fatina/tweens/callback.ts?1585","webpack:///./src/fatina/tweens/delay.ts?46ec","webpack:///./src/fatina/tweens/tween.ts?44b5","webpack:///./src/fatina/easing/easing.ts?fa18","webpack:///./src/fatina/easing/easingType.ts?2639","webpack:///./src/fatina/ticker.ts?1998","webpack:///./src/fatina/core/eventList.ts?0b7c"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Elapsed","tickerManager","elapsed","Ticker","Init","disableAutoTick","poolSize","initialized","ticker_1","Start","lastFrame","requestFrame","updateLoop","SetTimescale","scale","Pause","Resume","Destroy","Kill","cancelFrame","Update","timestamp","Tick","time","Tween","obj","properties","tween_1","SetParent","Sequence","sequence_1","dt","lastTime","isFirstUpdate","console","warn","Math","round","Object","defineProperty","value","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","prototype","create","baseTween_1","callback_1","delay_1","state_1","_super","_this","eventTick","tweens","sequenceIndex","tickCb","bind","LoopInit","i","length","tweenArray","j","tween","Reset","ticker","AddTickListener","cb","unshift","RemoveTickListener","index","indexOf","splice","state","State","Finished","Killed","localDt","timescale","LocalTick","remains","currentTween","NextTween","EmitUpdateEvent","remainsDt","first","duration","StepEnded","undefined","loop","Complete","ResetAndStart","StepStarted","eventStepStart","e","eventStepEnd","Append","AppendCallback","playable","Callback","AppendInterval","Delay","Prepend","PrependCallback","PrependInterval","Skip","Join","push","SetLoop","Default","OnStart","eventStart","OnUpdate","eventUpdate","OnKilled","eventKill","OnComplete","eventComplete","OnStepStart","OnStepEnd","BaseTween","Idle","firstStart","Validate","CheckPosition","Run","parent","EmitEvent","dtRemains","listeners","progress","callback","max","min","easing_1","easingType_1","object","relative","Error","prop","ease","easeTypes","EasingType","Linear","currentFrom","currentTo","from","to","val","From","To","SetRelative","Modify","diff","updateTo","ToSequence","Easing","type","name","isNumber","isNaN","parseFloat","parseInt","easeNames","SetEasing","PI","PI_OVER_TWO","BACK","easingByType","easingByName","t","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","t2","InOutQuart","InSine","cos","OutSine","sin","InOutSine","InCirc","sqrt","pow","OutCirc","InOutCirc","InQuint","OutQuint","InOutQuint","InExponential","OutExponential","InOutExponential","InElastic","OutElastic","InOutElastic","InBack","s","OutBack","InOutBack","OutBounce","InBounce","InOutBounce","eventList_1","apply","arguments","update","eventToAdd","eventToRemove","UpdateListener","Add","Remove","tick","node_next","EventList","newNode","GetNode","last","Pop","node","log","node_list","node_previous","node_valid","previous","next","list"],"mappings":"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","file":"fatina.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar tween_1 = __webpack_require__(6);\r\n\tvar ticker_1 = __webpack_require__(9);\r\n\tvar tickerManager;\r\n\tvar initialized = false;\r\n\tvar isFirstUpdate = true;\r\n\tvar lastFrame;\r\n\tvar lastTime = 0;\r\n\texports.time = 0;\r\n\tfunction Elapsed() {\r\n\t    return tickerManager.elapsed;\r\n\t}\r\n\texports.Elapsed = Elapsed;\r\n\tfunction Ticker() {\r\n\t    return tickerManager;\r\n\t}\r\n\texports.Ticker = Ticker;\r\n\tfunction Init(disableAutoTick, poolSize) {\r\n\t    if (initialized) {\r\n\t        return false;\r\n\t    }\r\n\t    if (!tickerManager) {\r\n\t        tickerManager = new ticker_1.Ticker();\r\n\t        tickerManager.Start();\r\n\t    }\r\n\t    if (typeof (window) !== 'undefined' && !disableAutoTick) {\r\n\t        lastFrame = requestFrame(updateLoop);\r\n\t    }\r\n\t    initialized = true;\r\n\t    return true;\r\n\t}\r\n\texports.Init = Init;\r\n\tfunction SetTimescale(scale) {\r\n\t    tickerManager.SetTimescale(scale);\r\n\t}\r\n\texports.SetTimescale = SetTimescale;\r\n\tfunction Pause() {\r\n\t    tickerManager.Pause();\r\n\t}\r\n\texports.Pause = Pause;\r\n\tfunction Resume() {\r\n\t    tickerManager.Resume();\r\n\t}\r\n\texports.Resume = Resume;\r\n\tfunction Destroy() {\r\n\t    if (tickerManager) {\r\n\t        tickerManager.Kill();\r\n\t    }\r\n\t    if (lastFrame) {\r\n\t        cancelFrame(lastFrame);\r\n\t    }\r\n\t    initialized = false;\r\n\t}\r\n\texports.Destroy = Destroy;\r\n\tfunction Update(timestamp) {\r\n\t    if (!initialized || !tickerManager) {\r\n\t        return;\r\n\t    }\r\n\t    tickerManager.Tick(timestamp);\r\n\t    exports.time += timestamp;\r\n\t}\r\n\texports.Update = Update;\r\n\tfunction Tween(obj, properties) {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    return new tween_1.Tween(obj, properties).SetParent(tickerManager);\r\n\t}\r\n\texports.Tween = Tween;\r\n\tfunction Sequence() {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    return new sequence_1.Sequence().SetParent(tickerManager);\r\n\t}\r\n\texports.Sequence = Sequence;\r\n\tvar requestFrame;\r\n\tvar cancelFrame;\r\n\tif (typeof (window) !== 'undefined') {\r\n\t    requestFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\t    cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n\t}\r\n\tfunction updateLoop(timestamp) {\r\n\t    var dt = timestamp - lastTime;\r\n\t    if (isFirstUpdate) {\r\n\t        dt = 1;\r\n\t        isFirstUpdate = false;\r\n\t    }\r\n\t    if (dt > 500) {\r\n\t        console.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\r\n\t        dt = 500;\r\n\t    }\r\n\t    Update(dt);\r\n\t    lastTime = timestamp;\r\n\t    lastFrame = requestFrame(updateLoop);\r\n\t}\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar callback_1 = __webpack_require__(4);\r\n\tvar delay_1 = __webpack_require__(5);\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar Sequence = (function (_super) {\r\n\t    __extends(Sequence, _super);\r\n\t    function Sequence() {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.eventTick = [];\r\n\t        _this.tweens = [];\r\n\t        _this.sequenceIndex = 0;\r\n\t        _this.tickCb = _this.Tick.bind(_this);\r\n\t        return _this;\r\n\t    }\r\n\t    Sequence.prototype.Start = function () {\r\n\t        _super.prototype.Start.call(this);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.LoopInit = function () {\r\n\t        this.sequenceIndex = 0;\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                tween.Reset();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AddTickListener = function (cb) {\r\n\t        this.eventTick.unshift(cb);\r\n\t    };\r\n\t    Sequence.prototype.RemoveTickListener = function (cb) {\r\n\t        var index = this.eventTick.indexOf(cb);\r\n\t        if (index !== -1) {\r\n\t            this.eventTick.splice(index, 1);\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Tick = function (dt) {\r\n\t        if (this.state === state_1.State.Finished || this.state === state_1.State.Killed) {\r\n\t            return;\r\n\t        }\r\n\t        var localDt = dt * this.timescale;\r\n\t        this.elapsed += localDt;\r\n\t        this.LocalTick(localDt);\r\n\t    };\r\n\t    Sequence.prototype.LocalTick = function (dt, remains) {\r\n\t        if (!this.currentTween) {\r\n\t            this.NextTween();\r\n\t        }\r\n\t        if (this.currentTween) {\r\n\t            for (var i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t                this.eventTick[i](dt);\r\n\t            }\r\n\t            if (remains !== true) {\r\n\t                this.EmitUpdateEvent(dt, 0);\r\n\t            }\r\n\t        }\r\n\t        var remainsDt = dt;\r\n\t        if (this.currentTween) {\r\n\t            for (var i = 0; i < this.currentTween.length; i++) {\r\n\t                if (this.currentTween[i].state !== state_1.State.Finished) {\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t            var first = this.currentTween[0];\r\n\t            remainsDt = first.elapsed - first.duration;\r\n\t            this.StepEnded(this.currentTween[0]);\r\n\t            this.currentTween = undefined;\r\n\t            this.sequenceIndex++;\r\n\t            if (remainsDt > 0.01) {\r\n\t                this.LocalTick(remainsDt, true);\r\n\t                return;\r\n\t            }\r\n\t        }\r\n\t        if (!this.currentTween && this.tweens.length === this.sequenceIndex) {\r\n\t            this.loop--;\r\n\t            if (this.loop === 0) {\r\n\t                this.Complete();\r\n\t            }\r\n\t            else {\r\n\t                this.ResetAndStart(remainsDt);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.NextTween = function () {\r\n\t        this.currentTween = this.tweens[this.sequenceIndex];\r\n\t        if (this.currentTween) {\r\n\t            for (var i = 0; i < this.currentTween.length; i++) {\r\n\t                var tween = this.currentTween[i];\r\n\t                tween.Start();\r\n\t            }\r\n\t            this.StepStarted(this.currentTween[0]);\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.StepStarted = function (tween) {\r\n\t        if (!this.eventStepStart) {\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.eventStepStart.length; i++) {\r\n\t            try {\r\n\t                this.eventStepStart[i](tween);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.StepEnded = function (tween) {\r\n\t        if (!this.eventStepEnd) {\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.eventStepEnd.length; i++) {\r\n\t            try {\r\n\t                this.eventStepEnd[i](tween);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Append = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [tween];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [playable];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [playable];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Prepend = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens.unshift([tween]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Skip = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant skip this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                if (tween.state === state_1.State.Killed || tween.state === state_1.State.Finished) {\r\n\t                    continue;\r\n\t                }\r\n\t                if (tween.elapsed === 0) {\r\n\t                    this.StepStarted(tween);\r\n\t                }\r\n\t                tween.Skip();\r\n\t                this.StepEnded(tween);\r\n\t            }\r\n\t        }\r\n\t        _super.prototype.Skip.call(this);\r\n\t    };\r\n\t    Sequence.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                if (tween.state === state_1.State.Killed || tween.state === state_1.State.Finished) {\r\n\t                    continue;\r\n\t                }\r\n\t                tween.Kill();\r\n\t            }\r\n\t        }\r\n\t        _super.prototype.Kill.call(this);\r\n\t    };\r\n\t    Sequence.prototype.Join = function (tween) {\r\n\t        if (this.tweens.length === 0) {\r\n\t            return this.Append(tween);\r\n\t        }\r\n\t        tween.SetParent(this);\r\n\t        this.tweens[this.tweens.length - 1].push(tween);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.tweens.length = 0;\r\n\t        this.currentTween = undefined;\r\n\t        this.sequenceIndex = 0;\r\n\t    };\r\n\t    Sequence.prototype.OnStart = function (cb) {\r\n\t        if (!this.eventStart) {\r\n\t            this.eventStart = [];\r\n\t        }\r\n\t        this.eventStart[this.eventStart.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnUpdate = function (cb) {\r\n\t        if (!this.eventUpdate) {\r\n\t            this.eventUpdate = [];\r\n\t        }\r\n\t        this.eventUpdate[this.eventUpdate.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnKilled = function (cb) {\r\n\t        if (!this.eventKill) {\r\n\t            this.eventKill = [];\r\n\t        }\r\n\t        this.eventKill[this.eventKill.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnComplete = function (cb) {\r\n\t        if (!this.eventComplete) {\r\n\t            this.eventComplete = [];\r\n\t        }\r\n\t        this.eventComplete[this.eventComplete.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepStart = function (cb) {\r\n\t        if (!this.eventStepStart) {\r\n\t            this.eventStepStart = [];\r\n\t        }\r\n\t        this.eventStepStart[this.eventStepStart.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepEnd = function (cb) {\r\n\t        if (!this.eventStepEnd) {\r\n\t            this.eventStepEnd = [];\r\n\t        }\r\n\t        this.eventStepEnd[this.eventStepEnd.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    return Sequence;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Sequence = Sequence;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar BaseTween = (function () {\r\n\t    function BaseTween() {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.state = state_1.State.Idle;\r\n\t        this.firstStart = true;\r\n\t    }\r\n\t    BaseTween.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            console.warn('cant start this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.firstStart) {\r\n\t            this.Validate();\r\n\t        }\r\n\t        else {\r\n\t            this.CheckPosition();\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t        if (this.firstStart) {\r\n\t            this.EmitEvent(this.eventStart);\r\n\t            this.firstStart = false;\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Reset = function () {\r\n\t        this.state = state_1.State.Idle;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.loop = 1;\r\n\t        this.LoopInit();\r\n\t    };\r\n\t    BaseTween.prototype.ResetAndStart = function (dtRemains) {\r\n\t        this.LoopInit();\r\n\t        this.state = state_1.State.Run;\r\n\t        if (dtRemains > 0) {\r\n\t            this.tickCb(dtRemains);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Skip = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant skip this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.state === state_1.State.Idle) {\r\n\t            this.EmitEvent(this.eventStart);\r\n\t        }\r\n\t        this.elapsed = this.duration;\r\n\t        this.Complete();\r\n\t    };\r\n\t    BaseTween.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            console.warn('cant pause this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            console.warn('cant resume this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t    };\r\n\t    BaseTween.prototype.Complete = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant complete this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Finished;\r\n\t        this.EmitEvent(this.eventComplete);\r\n\t    };\r\n\t    BaseTween.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t        this.EmitEvent(this.eventKill);\r\n\t    };\r\n\t    BaseTween.prototype.CheckPosition = function () { };\r\n\t    BaseTween.prototype.Validate = function () { };\r\n\t    BaseTween.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    BaseTween.prototype.SetParent = function (ticker) {\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.parent = ticker;\r\n\t    };\r\n\t    BaseTween.prototype.Default = function () {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.firstStart = true;\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    BaseTween.prototype.EmitEvent = function (listeners) {\r\n\t        if (!listeners) {\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < listeners.length; i++) {\r\n\t            try {\r\n\t                listeners[i]();\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.EmitUpdateEvent = function (dt, progress) {\r\n\t        if (!this.eventUpdate) {\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.eventUpdate.length; i++) {\r\n\t            try {\r\n\t                this.eventUpdate[i](dt, progress);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    return BaseTween;\r\n\t}());\r\n\texports.BaseTween = BaseTween;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar State;\r\n\t(function (State) {\r\n\t    State[State[\"Idle\"] = 0] = \"Idle\";\r\n\t    State[State[\"Run\"] = 1] = \"Run\";\r\n\t    State[State[\"Pause\"] = 2] = \"Pause\";\r\n\t    State[State[\"Finished\"] = 3] = \"Finished\";\r\n\t    State[State[\"Killed\"] = 4] = \"Killed\";\r\n\t})(State = exports.State || (exports.State = {}));\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar Callback = (function (_super) {\r\n\t    __extends(Callback, _super);\r\n\t    function Callback(cb) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.callback = cb;\r\n\t        _this.tickCb = _this.Tick.bind(_this);\r\n\t        return _this;\r\n\t    }\r\n\t    Callback.prototype.Tick = function (dt) {\r\n\t        this.elapsed += dt;\r\n\t        this.duration = 0;\r\n\t        this.callback();\r\n\t        this.EmitUpdateEvent(dt, 1);\r\n\t        this.Complete();\r\n\t    };\r\n\t    return Callback;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Callback = Callback;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar Delay = (function (_super) {\r\n\t    __extends(Delay, _super);\r\n\t    function Delay(duration) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.duration = duration;\r\n\t        _this.tickCb = _this.Tick.bind(_this);\r\n\t        return _this;\r\n\t    }\r\n\t    Delay.prototype.Tick = function (dt) {\r\n\t        this.elapsed += dt;\r\n\t        var progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t        this.EmitUpdateEvent(dt, progress);\r\n\t        if (this.elapsed >= this.duration) {\r\n\t            this.Complete();\r\n\t        }\r\n\t    };\r\n\t    return Delay;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Delay = Delay;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar easing_1 = __webpack_require__(7);\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar easingType_1 = __webpack_require__(8);\r\n\tvar Tween = (function (_super) {\r\n\t    __extends(Tween, _super);\r\n\t    function Tween(object, properties) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.relative = false;\r\n\t        _this.object = object;\r\n\t        _this.properties = properties;\r\n\t        _this.tickCb = _this.Tick.bind(_this);\r\n\t        return _this;\r\n\t    }\r\n\t    Tween.prototype.Init = function (object, properties) {\r\n\t        this.object = object;\r\n\t        this.properties = properties;\r\n\t    };\r\n\t    Tween.prototype.Start = function () {\r\n\t        _super.prototype.Start.call(this);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.Validate = function () {\r\n\t        if (!this.object) {\r\n\t            throw new Error('Cant Tween a undefined object');\r\n\t        }\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            if (!(prop in this.object)) {\r\n\t                throw new Error('Cant Tween an unknown property' + prop);\r\n\t            }\r\n\t        }\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant Start a tween without ticker');\r\n\t        }\r\n\t        if (!this.ease) {\r\n\t            this.ease = easing_1.easeTypes[easingType_1.EasingType.Linear];\r\n\t        }\r\n\t        this.CheckPosition();\r\n\t    };\r\n\t    Tween.prototype.CheckPosition = function () {\r\n\t        this.currentFrom = {};\r\n\t        this.currentTo = {};\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            if (!this.from) {\r\n\t                this.currentFrom[prop] = this.object[prop];\r\n\t            }\r\n\t            else {\r\n\t                this.currentFrom[prop] = this.from[prop];\r\n\t                this.object[prop] = this.from[prop];\r\n\t            }\r\n\t            if (this.relative) {\r\n\t                this.currentTo[prop] = this.object[prop] + this.to[prop];\r\n\t            }\r\n\t            else {\r\n\t                this.currentTo[prop] = this.to[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.Tick = function (dt) {\r\n\t        if (this.state === state_1.State.Finished || this.state === state_1.State.Killed) {\r\n\t            return;\r\n\t        }\r\n\t        this.remainsDt = dt * this.timescale;\r\n\t        while (this.remainsDt > 0) {\r\n\t            this.elapsed += this.remainsDt;\r\n\t            var progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t            var val = this.ease(progress);\r\n\t            for (var i = 0; i < this.properties.length; i++) {\r\n\t                var prop = this.properties[i];\r\n\t                this.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\r\n\t            }\r\n\t            this.EmitUpdateEvent(this.remainsDt, progress);\r\n\t            if (this.elapsed < this.duration) {\r\n\t                return;\r\n\t            }\r\n\t            this.remainsDt = this.elapsed - this.duration;\r\n\t            this.loop--;\r\n\t            if (this.loop === 0) {\r\n\t                this.Complete();\r\n\t                return;\r\n\t            }\r\n\t            this.CheckPosition();\r\n\t            this.ResetAndStart(0);\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.From = function (from) {\r\n\t        this.from = from;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.To = function (to, duration) {\r\n\t        this.to = to;\r\n\t        this.duration = duration;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetRelative = function (relative) {\r\n\t        this.relative = relative;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.Modify = function (diff, updateTo) {\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            if (!diff.hasOwnProperty(prop)) {\r\n\t                continue;\r\n\t            }\r\n\t            this.object[prop] += diff[prop];\r\n\t            if (updateTo) {\r\n\t                this.currentTo[prop] += diff[prop];\r\n\t            }\r\n\t            else {\r\n\t                this.currentFrom[prop] += diff[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.ToSequence = function () {\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t        }\r\n\t        return new sequence_1.Sequence().SetParent(this.parent).Append(this);\r\n\t    };\r\n\t    Tween.prototype.Easing = function (type) {\r\n\t        var name = type;\r\n\t        var isNumber = !isNaN(parseFloat(name));\r\n\t        if (isNumber) {\r\n\t            var index = parseInt(name, 10);\r\n\t            if (index in easing_1.easeTypes) {\r\n\t                return easing_1.easeTypes[index];\r\n\t            }\r\n\t        }\r\n\t        if (name in easing_1.easeNames) {\r\n\t            return easing_1.easeNames[name];\r\n\t        }\r\n\t        throw new Error('Unknown ease method ' + type);\r\n\t    };\r\n\t    Tween.prototype.SetEasing = function (type) {\r\n\t        this.ease = this.Easing(type);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Tween.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.object = undefined;\r\n\t        this.properties.length = 0;\r\n\t        this.from = undefined;\r\n\t        this.to = undefined;\r\n\t        this.currentFrom = undefined;\r\n\t        this.currentTo = undefined;\r\n\t        this.relative = false;\r\n\t    };\r\n\t    Tween.prototype.OnStart = function (cb) {\r\n\t        if (!this.eventStart) {\r\n\t            this.eventStart = [];\r\n\t        }\r\n\t        this.eventStart[this.eventStart.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnUpdate = function (cb) {\r\n\t        if (!this.eventUpdate) {\r\n\t            this.eventUpdate = [];\r\n\t        }\r\n\t        this.eventUpdate[this.eventUpdate.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnKilled = function (cb) {\r\n\t        if (!this.eventKill) {\r\n\t            this.eventKill = [];\r\n\t        }\r\n\t        this.eventKill[this.eventKill.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnComplete = function (cb) {\r\n\t        if (!this.eventComplete) {\r\n\t            this.eventComplete = [];\r\n\t        }\r\n\t        this.eventComplete[this.eventComplete.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    return Tween;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Tween = Tween;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar easingType_1 = __webpack_require__(8);\r\n\tvar PI = Math.PI;\r\n\tvar PI_OVER_TWO = Math.PI / 2;\r\n\tvar BACK = 1.70158;\r\n\tvar easingByType = [];\r\n\tvar easingByName = {};\r\n\teasingByType[easingType_1.EasingType.Linear] = easingByName['linear'] = function (t) {\r\n\t    return t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuad] = easingByName['inQuad'] = function (t) {\r\n\t    return t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuad] = easingByName['outQuad'] = function (t) {\r\n\t    return 2 * t - t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 2 * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 2 * (2 * t - t * t) - 1;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCubic] = easingByName['inCubic'] = function (t) {\r\n\t    return t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCubic] = easingByName['outCubic'] = function (t) {\r\n\t    return 3 * t - 3 * t * t + t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 4 * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuart] = easingByName['inQuart'] = function (t) {\r\n\t    return t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuart] = easingByName['outQuart'] = function (t) {\r\n\t    var t2 = t * t;\r\n\t    return 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 8 * t * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        var t2 = t * t;\r\n\t        return 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InSine] = easingByName['inSine'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return 1 - Math.cos(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutSine] = easingByName['outSine'] = function (t) {\r\n\t    return Math.sin(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutSine] = easingByName['inOutSine'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.cos(PI * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCirc] = easingByName['inCirc'] = function (t) {\r\n\t    return 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCirc] = easingByName['outCirc'] = function (t) {\r\n\t    return Math.sqrt(1 - Math.pow(1 - t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuint] = easingByName['inQuint'] = function (t) {\r\n\t    return t * t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuint] = easingByName['outQuint'] = function (t) {\r\n\t    return --t * t * t * t * t + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t) {\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * t * t * t * t * t;\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InExponential] = easingByName['inExponential'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return t === 0 ? 0 : Math.pow(1024, t - 1);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutExponential] = easingByName['outExponential'] = function (t) {\r\n\t    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * Math.pow(1024, t - 1);\r\n\t    }\r\n\t    return 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InElastic] = easingByName['inElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    return -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutElastic] = easingByName['outElastic'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    t *= 2;\r\n\t    if (t < 1) {\r\n\t        return -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t    }\r\n\t    return 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBack] = easingByName['inBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBack] = easingByName['outBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBack] = easingByName['inOutBack'] = function (t) {\r\n\t    var s = BACK * 1.525;\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * (t * t * ((s + 1) * t - s));\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBounce] = easingByName['outBounce'] = function (t) {\r\n\t    if (t < (1 / 2.75)) {\r\n\t        return 7.5625 * t * t;\r\n\t    }\r\n\t    else if (t < (2 / 2.75)) {\r\n\t        return 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t    }\r\n\t    else if (t < (2.5 / 2.75)) {\r\n\t        return 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t    }\r\n\t    else {\r\n\t        return 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBounce] = easingByName['inBounce'] = function (t) {\r\n\t    return 1 - easingByType[easingType_1.EasingType.OutBounce](1 - t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return easingByType[easingType_1.EasingType.InBounce](t * 2) * 0.5;\r\n\t    }\r\n\t    return easingByType[easingType_1.EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n\t};\r\n\texports.easeTypes = easingByType;\r\n\texports.easeNames = easingByName;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar EasingType;\r\n\t(function (EasingType) {\r\n\t    EasingType[EasingType[\"Linear\"] = 0] = \"Linear\";\r\n\t    EasingType[EasingType[\"InQuad\"] = 1] = \"InQuad\";\r\n\t    EasingType[EasingType[\"OutQuad\"] = 2] = \"OutQuad\";\r\n\t    EasingType[EasingType[\"InOutQuad\"] = 3] = \"InOutQuad\";\r\n\t    EasingType[EasingType[\"InCubic\"] = 4] = \"InCubic\";\r\n\t    EasingType[EasingType[\"OutCubic\"] = 5] = \"OutCubic\";\r\n\t    EasingType[EasingType[\"InOutCubic\"] = 6] = \"InOutCubic\";\r\n\t    EasingType[EasingType[\"InQuart\"] = 7] = \"InQuart\";\r\n\t    EasingType[EasingType[\"OutQuart\"] = 8] = \"OutQuart\";\r\n\t    EasingType[EasingType[\"InOutQuart\"] = 9] = \"InOutQuart\";\r\n\t    EasingType[EasingType[\"InSine\"] = 10] = \"InSine\";\r\n\t    EasingType[EasingType[\"OutSine\"] = 11] = \"OutSine\";\r\n\t    EasingType[EasingType[\"InOutSine\"] = 12] = \"InOutSine\";\r\n\t    EasingType[EasingType[\"InCirc\"] = 13] = \"InCirc\";\r\n\t    EasingType[EasingType[\"OutCirc\"] = 14] = \"OutCirc\";\r\n\t    EasingType[EasingType[\"InOutCirc\"] = 15] = \"InOutCirc\";\r\n\t    EasingType[EasingType[\"InQuint\"] = 16] = \"InQuint\";\r\n\t    EasingType[EasingType[\"OutQuint\"] = 17] = \"OutQuint\";\r\n\t    EasingType[EasingType[\"InOutQuint\"] = 18] = \"InOutQuint\";\r\n\t    EasingType[EasingType[\"InExponential\"] = 19] = \"InExponential\";\r\n\t    EasingType[EasingType[\"OutExponential\"] = 20] = \"OutExponential\";\r\n\t    EasingType[EasingType[\"InOutExponential\"] = 21] = \"InOutExponential\";\r\n\t    EasingType[EasingType[\"InElastic\"] = 22] = \"InElastic\";\r\n\t    EasingType[EasingType[\"OutElastic\"] = 23] = \"OutElastic\";\r\n\t    EasingType[EasingType[\"InOutElastic\"] = 24] = \"InOutElastic\";\r\n\t    EasingType[EasingType[\"InBack\"] = 25] = \"InBack\";\r\n\t    EasingType[EasingType[\"OutBack\"] = 26] = \"OutBack\";\r\n\t    EasingType[EasingType[\"InOutBack\"] = 27] = \"InOutBack\";\r\n\t    EasingType[EasingType[\"InBounce\"] = 28] = \"InBounce\";\r\n\t    EasingType[EasingType[\"OutBounce\"] = 29] = \"OutBounce\";\r\n\t    EasingType[EasingType[\"InOutBounce\"] = 30] = \"InOutBounce\";\r\n\t})(EasingType = exports.EasingType || (exports.EasingType = {}));\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar eventList_1 = __webpack_require__(10);\r\n\tvar Ticker = (function (_super) {\r\n\t    __extends(Ticker, _super);\r\n\t    function Ticker() {\r\n\t        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\t        _this.state = state_1.State.Idle;\r\n\t        _this.timescale = 1;\r\n\t        _this.elapsed = 0;\r\n\t        _this.duration = 0;\r\n\t        _this.update = 0;\r\n\t        _this.eventToAdd = [];\r\n\t        _this.eventToRemove = [];\r\n\t        return _this;\r\n\t    }\r\n\t    Ticker.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t    };\r\n\t    Ticker.prototype.AddTickListener = function (cb) {\r\n\t        this.eventToAdd.push(cb);\r\n\t    };\r\n\t    Ticker.prototype.RemoveTickListener = function (cb) {\r\n\t        this.eventToRemove.push(cb);\r\n\t    };\r\n\t    Ticker.prototype.UpdateListener = function () {\r\n\t        if (this.eventToAdd.length > 0) {\r\n\t            for (var i = 0; i < this.eventToAdd.length; i++) {\r\n\t                this.Add(this.eventToAdd[i]);\r\n\t            }\r\n\t            this.eventToAdd = [];\r\n\t        }\r\n\t        if (this.eventToRemove.length > 0) {\r\n\t            for (var i = 0; i < this.eventToRemove.length; i++) {\r\n\t                this.Remove(this.eventToRemove[i]);\r\n\t            }\r\n\t            this.eventToRemove = [];\r\n\t        }\r\n\t    };\r\n\t    Ticker.prototype.Tick = function (dt) {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        this.UpdateListener();\r\n\t        var localDt = dt * this.timescale;\r\n\t        for (var tick = this.first; tick; tick = tick.node_next) {\r\n\t            tick(localDt);\r\n\t        }\r\n\t        this.elapsed += localDt;\r\n\t        this.update++;\r\n\t        this.UpdateListener();\r\n\t    };\r\n\t    Ticker.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t    };\r\n\t    Ticker.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t    };\r\n\t    Ticker.prototype.Skip = function () {\r\n\t        throw new Error('The main ticker cannot be skipped');\r\n\t    };\r\n\t    Ticker.prototype.Reset = function () {\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    return Ticker;\r\n\t}(eventList_1.EventList));\r\n\texports.Ticker = Ticker;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar EventList = (function () {\r\n\t    function EventList() {\r\n\t        this.length = 0;\r\n\t    }\r\n\t    EventList.prototype.Add = function (obj) {\r\n\t        var newNode = this.GetNode(obj, this.last, undefined, this);\r\n\t        if (this.first === undefined) {\r\n\t            this.first = newNode;\r\n\t            this.last = newNode;\r\n\t        }\r\n\t        else if (this.last !== undefined) {\r\n\t            this.last.node_next = newNode;\r\n\t            this.last = newNode;\r\n\t        }\r\n\t        this.length += 1;\r\n\t    };\r\n\t    EventList.prototype.Pop = function () {\r\n\t        var first = this.first;\r\n\t        this.Remove(first);\r\n\t        return first;\r\n\t    };\r\n\t    EventList.prototype.Remove = function (obj) {\r\n\t        var node = obj;\r\n\t        if (node === undefined) {\r\n\t            console.log('Trying to remove an object which is not a node');\r\n\t            return;\r\n\t        }\r\n\t        if (node.node_list !== this) {\r\n\t            return;\r\n\t        }\r\n\t        if (node.node_next === undefined) {\r\n\t            this.last = node.node_previous;\r\n\t        }\r\n\t        else {\r\n\t            node.node_next.node_previous = node.node_previous;\r\n\t        }\r\n\t        if (node.node_previous === undefined) {\r\n\t            this.first = node.node_next;\r\n\t        }\r\n\t        else {\r\n\t            node.node_previous.node_next = node.node_next;\r\n\t        }\r\n\t        node.node_valid = false;\r\n\t        node.node_previous = undefined;\r\n\t        node.node_next = undefined;\r\n\t        node.node_list = undefined;\r\n\t        this.length -= 1;\r\n\t    };\r\n\t    EventList.prototype.GetNode = function (obj, previous, next, list) {\r\n\t        var node = obj;\r\n\t        if (!node.node_valid) {\r\n\t            node.node_valid = true;\r\n\t            node.node_previous = previous;\r\n\t            node.node_next = next;\r\n\t            node.node_list = list;\r\n\t        }\r\n\t        return node;\r\n\t    };\r\n\t    return EventList;\r\n\t}());\r\n\texports.EventList = EventList;\r\n\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// fatina.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c9948b0f6963dc0852ba","import { Sequence as sequence } from './tweens/sequence';\r\nimport { Tween as tween } from './tweens/tween';\r\nimport { Ticker as ticker } from './ticker';\r\nimport { ITween } from './core/interfaces/ITween';\r\nimport { ISequence } from './core/interfaces/ISequence';\r\nimport { ITicker } from './core/interfaces/ITicker';\r\n\r\nlet tickerManager: ticker;\r\nlet initialized = false;\r\nlet isFirstUpdate = true;\r\nlet lastFrame: any;\r\nlet lastTime = 0;\r\n\r\n// real time of Fatina (not affected by timescale, pause, ...)\r\nexport let time = 0;\r\n\r\n// time updated internally (affected by timescale, pause, ...)\r\nexport function Elapsed() {\r\n\treturn tickerManager.elapsed;\r\n}\r\n\r\nexport function Ticker() {\r\n\treturn tickerManager;\r\n}\r\n\r\n/**\r\n * Method used when Fatina is used for the first time.\r\n * Can take few ms. (pool initialization & object creation)\r\n *\r\n * @export\r\n * @param {boolean} [disableAutoTick]\r\n * @returns {boolean}\r\n */\r\nexport function Init(disableAutoTick?: boolean, poolSize?: number): boolean {\r\n\tif (initialized) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (!tickerManager) {\r\n\t\ttickerManager = new ticker();\r\n\t\ttickerManager.Start();\r\n\t}\r\n\r\n\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\r\n\t\tlastFrame = requestFrame(updateLoop);\r\n\t}\r\n\r\n\tinitialized = true;\r\n\treturn true;\r\n}\r\n\r\n/**\r\n * Used to change the timescale of the whole game\r\n *\r\n * @export\r\n * @param {number} scale\r\n */\r\nexport function SetTimescale(scale: number): void {\r\n\ttickerManager.SetTimescale(scale);\r\n}\r\n\r\n/**\r\n * This method pause the update loop (update are not called anymore)\r\n *\r\n * @export\r\n */\r\nexport function Pause(): void {\r\n\ttickerManager.Pause();\r\n}\r\n\r\n/**\r\n * This method resume the update loop (works only if the game was paused before)\r\n *\r\n * @export\r\n */\r\nexport function Resume(): void {\r\n\ttickerManager.Resume();\r\n}\r\n\r\n/**\r\n * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\r\n *\r\n * @export\r\n */\r\nexport function Destroy() {\r\n\tif (tickerManager) {\r\n\t\ttickerManager.Kill();\r\n\t}\r\n\r\n\tif (lastFrame) {\r\n\t\tcancelFrame(lastFrame);\r\n\t}\r\n\r\n\tinitialized = false;\r\n}\r\n\r\n/**\r\n * Method used to tick all the child (tween or sequence)\r\n * This takes cares of recycling the old tween/sequence\r\n *\r\n * @export\r\n * @param {number} timestamp\r\n * @returns {*}\r\n */\r\nexport function Update(timestamp: number): any {\r\n\tif (!initialized || !tickerManager) {\r\n\t\treturn;\r\n\t}\r\n\ttickerManager.Tick(timestamp);\r\n\ttime += timestamp;\r\n}\r\n\r\n/**\r\n * Helper to create a tween (use the tween pool)\r\n *\r\n * @export\r\n * @param {*} obj\r\n * @param {string[]} properties\r\n * @returns {ITween}\r\n */\r\nexport function Tween(obj: any, properties: string[]): ITween {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\r\n\treturn new tween(obj, properties).SetParent(tickerManager as ITicker);\r\n}\r\n\r\n/**\r\n * Helper to create a Sequence (use the sequence pool)\r\n *\r\n * @export\r\n * @returns {ISequence}\r\n */\r\nexport function Sequence(): ISequence {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\r\n\treturn new sequence().SetParent(tickerManager as ITicker);\r\n}\r\n\r\n/**\r\n * This part manage the auto-update loop if necessary (browser only)\r\n */\r\nlet requestFrame: any;\r\nlet cancelFrame: any;\r\nif (typeof(window) !== 'undefined') {\r\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame || window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\r\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\r\n}\r\n\r\nfunction updateLoop(timestamp: number) {\r\n\tlet dt = timestamp - lastTime;\r\n\tif (isFirstUpdate) {\r\n\t\tdt = 1;\r\n\t\tisFirstUpdate = false;\r\n\t}\r\n\r\n\t// cap to 500 ms\r\n\tif (dt > 500) {\r\n\t\tconsole.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\r\n\t\tdt = 500;\r\n\t}\r\n\r\n\tUpdate(dt);\r\n\tlastTime = timestamp;\r\n\tlastFrame = requestFrame(updateLoop);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/index.ts","import { BaseTween } from './baseTween';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITween } from '../core/interfaces/ITween';\nimport { IPlayable } from '../core/interfaces/IPlayable';\nimport { Callback } from './callback';\nimport { Delay } from './delay';\nimport { State } from '../core/enum/state';\n\nexport class Sequence extends BaseTween implements ISequence, ITicker, IPlayable {\n\tprivate eventTick: {(dt: number): void}[] = [];\n\tprivate tweens: ((ITween | IPlayable)[])[] = [];\n\tprivate eventStepStart: {(tween: ITween | IPlayable): void}[] | undefined;\n\tprivate eventStepEnd: {(tween: ITween | IPlayable): void}[] | undefined;\n\tpublic currentTween: (ITween | IPlayable)[] | undefined;\n\tprivate sequenceIndex = 0;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\tpublic Start(): ISequence {\n\t\tsuper.Start();\n\t\treturn this;\n\t}\n\n\tprotected LoopInit() {\n\t\tthis.sequenceIndex = 0;\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\t(tween as BaseTween).Reset();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic SetParent(ticker: ITicker): ISequence {\n\t\tsuper.SetParent(ticker);\n\t\treturn this;\n\t}\n\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventTick.unshift(cb);\n\t}\n\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tlet index = this.eventTick.indexOf(cb);\n\t\tif (index !== -1) {\n\t\t\tthis.eventTick.splice(index, 1);\n\t\t}\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\n\t\t\treturn;\n\t\t}\n\t\tlet localDt = dt * this.timescale;\n\t\tthis.elapsed += localDt;\n\t\tthis.LocalTick(localDt);\n\t}\n\n\tprivate LocalTick(dt: number, remains?: boolean) {\n\t\t// If no current tween, take the first one and start it\n\t\tif (!this.currentTween) {\n\t\t\tthis.NextTween();\n\t\t}\n\n\t\tif (this.currentTween) {\n\t\t\t// Tick every listener\n\t\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\n\t\t\t\tthis.eventTick[i](dt);\n\t\t\t}\n\n\t\t\t// Dont emit update event for remains dt\n\t\t\tif (remains !== true) {\n\t\t\t\tthis.EmitUpdateEvent(dt, 0);\n\t\t\t}\n\t\t}\n\n\t\tlet remainsDt = dt;\n\n\t\t// Current tween over\n\t\tif (this.currentTween) {\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\tif (this.currentTween[i].state !== State.Finished) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet first = this.currentTween[0];\n\t\t\tremainsDt = first.elapsed - first.duration;\n\n\t\t\tthis.StepEnded(this.currentTween[0]);\n\t\t\tthis.currentTween = undefined;\n\t\t\tthis.sequenceIndex++;\n\n\t\t\tif (remainsDt > 0.01) {\n\t\t\t\tthis.LocalTick(remainsDt, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Complete\n\t\tif (!this.currentTween && this.tweens.length === this.sequenceIndex) {\n\t\t\tthis.loop--;\n\t\t\tif (this.loop === 0) {\n\t\t\t\tthis.Complete();\n\t\t\t} else {\n\t\t\t\tthis.ResetAndStart(remainsDt);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate NextTween() {\n\t\tthis.currentTween = this.tweens[this.sequenceIndex];\n\t\tif (this.currentTween) {\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\tlet tween = this.currentTween[i];\n\t\t\t\ttween.Start();\n\t\t\t}\n\n\t\t\tthis.StepStarted(this.currentTween[0]);\n\t\t}\n\t}\n\n\tprivate StepStarted(tween: (ITween | IPlayable)) {\n\t\tif (!this.eventStepStart) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.eventStepStart.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventStepStart[i](tween);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate StepEnded(tween: (ITween | IPlayable)) {\n\t\tif (!this.eventStepEnd) {\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.eventStepEnd.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventStepEnd[i](tween);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic Append(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [tween];\n\t\treturn this;\n\t}\n\n\tpublic AppendCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic AppendInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic Prepend(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens.unshift([tween]);\n\t\treturn this;\n\t}\n\n\tpublic PrependCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic PrependInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic Skip(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant skip this tween', this.state);\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\tif (tween.state === State.Killed || tween.state === State.Finished) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (tween.elapsed === 0) {\n\t\t\t\t\tthis.StepStarted(tween);\n\t\t\t\t}\n\t\t\t\ttween.Skip();\n\t\t\t\tthis.StepEnded(tween);\n\t\t\t}\n\t\t}\n\t\tsuper.Skip();\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant kill this tween', this.state);\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\tif (tween.state === State.Killed || tween.state === State.Finished) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttween.Kill();\n\t\t\t}\n\t\t}\n\t\tsuper.Kill();\n\t}\n\n\tpublic Join(tween: ITween | ISequence): ISequence {\n\t\tif (this.tweens.length === 0) {\n\t\t\treturn this.Append(tween);\n\t\t}\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\n\t\treturn this;\n\t}\n\n\tpublic SetTimescale(scale: number): ISequence {\n\t\tthis.timescale = scale;\n\t\treturn this;\n\t}\n\n\tpublic SetLoop(loop: number): ISequence {\n\t\tthis.loop = Math.round(loop);\n\t\treturn this;\n\t}\n\n\tpublic Default() {\n\t\tsuper.Default();\n\t\tthis.tweens.length = 0;\n\t\tthis.currentTween = undefined;\n\t\tthis.sequenceIndex = 0;\n\t}\n\n\tpublic OnStart(cb: () => void): ISequence {\n\t\tif (!this.eventStart) {\n\t\t\tthis.eventStart = [];\n\t\t}\n\t\tthis.eventStart[this.eventStart.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ISequence {\n\t\tif (!this.eventUpdate) {\n\t\t\tthis.eventUpdate = [];\n\t\t}\n\t\tthis.eventUpdate[this.eventUpdate.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnKilled(cb: () => void): ISequence {\n\t\tif (!this.eventKill) {\n\t\t\tthis.eventKill = [];\n\t\t}\n\t\tthis.eventKill[this.eventKill.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnComplete(cb: () => void): ISequence {\n\t\tif (!this.eventComplete) {\n\t\t\tthis.eventComplete = [];\n\t\t}\n\t\tthis.eventComplete[this.eventComplete.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tif (!this.eventStepStart) {\n\t\t\tthis.eventStepStart = [];\n\t\t}\n\t\tthis.eventStepStart[this.eventStepStart.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tif (!this.eventStepEnd) {\n\t\t\tthis.eventStepEnd = [];\n\t\t}\n\t\tthis.eventStepEnd[this.eventStepEnd.length] = cb;\n\t\treturn this;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/sequence.ts","import { ITicker } from '../core/interfaces/ITicker';\nimport { State } from '../core/enum/state';\n\nexport abstract class BaseTween {\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\tpublic timescale = 1;\n\tprotected loop = 1;\n\n\tprotected parent: ITicker;\n\tprotected tickCb: (dt: number) => void;\n\tpublic state: State = State.Idle;\n\n\tprotected eventStart: {(): void}[] | undefined;\n\tprotected eventUpdate: {(dt: number, progress: number): void}[] | undefined;\n\tprotected eventKill: {(): void}[] | undefined;\n\tprotected eventComplete: {(): void}[] | undefined;\n\tprivate firstStart = true;\n\n\tpublic Start(): void {\n\t\tif (this.state !== State.Idle) {\n\t\t\tconsole.warn('cant start this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.firstStart) {\n\t\t\tthis.Validate();\n\t\t} else {\n\t\t\tthis.CheckPosition();\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\n\t\tif (this.firstStart) {\n\t\t\tthis.EmitEvent(this.eventStart);\n\t\t\tthis.firstStart = false;\n\t\t}\n\t}\n\n\tpublic Reset(): void {\n\t\tthis.state = State.Idle;\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tthis.loop = 1;\n\t\tthis.LoopInit();\n\t}\n\n\tpublic ResetAndStart(dtRemains: number) {\n\t\tthis.LoopInit();\n\n\t\tthis.state = State.Run;\n\t\tif (dtRemains > 0) {\n\t\t\tthis.tickCb(dtRemains);\n\t\t}\n\t}\n\n\tpublic Skip(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant skip this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.EmitEvent(this.eventStart);\n\t\t}\n\n\t\tthis.elapsed = this.duration;\n\t\tthis.Complete();\n\t}\n\n\tpublic Pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\tconsole.warn('cant pause this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Pause;\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\t}\n\n\tpublic Resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\tconsole.warn('cant resume this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\t}\n\n\tprotected Complete(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant complete this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tthis.state = State.Finished;\n\t\tthis.EmitEvent(this.eventComplete);\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant kill this tween', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tthis.state = State.Killed\n\t\tthis.EmitEvent(this.eventKill);\n\t}\n\n\tprotected CheckPosition(): void {}\n\tprotected Validate(): void {}\n\tprotected LoopInit(): void {\n\t\tthis.elapsed = 0;\n\t}\n\n\tpublic SetParent(ticker: ITicker): void {\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\t\tthis.parent = ticker;\n\t}\n\n\tpublic Default() {\n\t\tthis.elapsed = 0;\n\t\tthis.duration = 0;\n\t\tthis.timescale = 1;\n\t\tthis.loop = 1;\n\t\tthis.firstStart = true;\n\t\tthis.state = State.Idle;\n\t}\n\n\tprotected EmitEvent(listeners: {(): void}[] | undefined) {\n\t\tif (!listeners) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\ttry {\n\t\t\t\tlisteners[i]();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected EmitUpdateEvent(dt: number, progress: number) {\n\t\tif (!this.eventUpdate) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < this.eventUpdate.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventUpdate[i](dt, progress);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/baseTween.ts","export enum State {\r\n\tIdle,\r\n\tRun,\r\n\tPause,\r\n\tFinished,\r\n\tKilled\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/state.ts","import { BaseTween } from './baseTween';\nimport { IPlayable } from '../core/interfaces/IPlayable';\n\nexport class Callback extends BaseTween implements IPlayable {\n\tprivate callback: () => void;\n\n\tconstructor(cb: () => void) {\n\t\tsuper();\n\t\tthis.callback = cb;\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tthis.elapsed += dt;\n\t\tthis.duration = 0;\n\t\tthis.callback();\n\t\tthis.EmitUpdateEvent(dt, 1);\n\t\tthis.Complete();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/callback.ts","import { BaseTween } from './baseTween';\nimport { IPlayable } from '../core/interfaces/IPlayable';\n\nexport class Delay extends BaseTween implements IPlayable {\n\n\tconstructor(duration: number) {\n\t\tsuper();\n\t\tthis.duration = duration;\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tthis.elapsed += dt;\n\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\tthis.EmitUpdateEvent(dt, progress);\n\t\tif (this.elapsed >= this.duration) {\n\t\t\tthis.Complete();\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/delay.ts","import { BaseTween } from './baseTween';\nimport { ITween } from '../core/interfaces/ITween';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { easeNames, easeTypes } from '../easing/easing';\nimport { Sequence } from './sequence';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { State } from '../core/enum/state';\nimport { EasingType } from '../easing/easingType';\n\n/**\n * Tween class\n * Takes control of a/many values of one object and animates them.\n *\n * @export\n * @class Tween\n * @extends {BaseTween}\n * @implements {ITween}\n */\nexport class Tween extends BaseTween implements ITween {\n\tprivate object: any;\n\tprivate properties: string[];\n\tprivate from: any;\n\tprivate to: any;\n\tprivate currentFrom: any;\n\tprivate currentTo: any;\n\tprivate remainsDt: number;\n\tprivate relative = false;\n\tprivate ease: (t: number) => number;\n\n\tconstructor(object: any, properties: string[]) {\n\t\tsuper();\n\n\t\tthis.object = object;\n\t\tthis.properties = properties;\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\t/**\n\t * Used to define the object and the properties modified by this tween\n\t *\n\t * @param {*} object\n\t * @param {string[]} properties\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Init(object: any, properties: string[]) {\n\t\tthis.object = object;\n\t\tthis.properties = properties;\n\t}\n\n\t/**\n\t * Method used to start a tween\n\t *\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Start(): ITween {\n\t\tsuper.Start();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used on start to check the values of this tween\n\t *\n\t * @protected\n\t *\n\t * @memberOf Tween\n\t */\n\tprotected Validate() {\n\t\t// Check the object\n\t\tif (!this.object) {\n\t\t\tthrow new Error('Cant Tween a undefined object');\n\t\t}\n\n\t\t// Check the properties of that object\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\t\t\tif (!(prop in this.object)) {\n\t\t\t\tthrow new Error('Cant Tween an unknown property' + prop);\n\t\t\t}\n\t\t}\n\n\t\t// Check this tween will be updated\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('Cant Start a tween without ticker');\n\t\t}\n\n\t\t// Easing\n\t\tif (!this.ease) {\n\t\t\tthis.ease = easeTypes[EasingType.Linear];\n\t\t}\n\n\t\tthis.CheckPosition();\n\t}\n\n\tprotected CheckPosition() {\n\t\tthis.currentFrom = {};\n\t\tthis.currentTo = {};\n\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\n\t\t\t// From\n\t\t\tif (!this.from) {\n\t\t\t\tthis.currentFrom[prop] = this.object[prop];\n\t\t\t} else {\n\t\t\t\tthis.currentFrom[prop] = this.from[prop];\n\t\t\t\tthis.object[prop] = this.from[prop];\n\t\t\t}\n\n\t\t\t// Relative\n\t\t\tif (this.relative) {\n\t\t\t\tthis.currentTo[prop] = this.object[prop] + this.to[prop];\n\t\t\t} else {\n\t\t\t\tthis.currentTo[prop] = this.to[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t *\n\t * @private\n\t * @param {number} dt\n\t * @returns\n\t *\n\t * @memberOf Tween\n\t */\n\tprivate Tick(dt: number) {\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.remainsDt = dt * this.timescale;\n\n\t\twhile (this.remainsDt > 0) {\n\t\t\tthis.elapsed += this.remainsDt;\n\t\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\t\tlet val = this.ease(progress);\n\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\tlet prop = this.properties[i];\n\t\t\t\tthis.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\n\t\t\t}\n\t\t\tthis.EmitUpdateEvent(this.remainsDt, progress);\n\n\t\t\tif (this.elapsed < this.duration) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.remainsDt = this.elapsed - this.duration;\n\t\t\tthis.loop--;\n\t\t\tif (this.loop === 0) {\n\t\t\t\tthis.Complete();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.CheckPosition();\n\t\t\tthis.ResetAndStart(0);\n\t\t}\n\t}\n\n\t/**\n\t * Method used to define the ticker of this tween\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\n\t *\n\t * @param {ITicker} ticker\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetParent(ticker: ITicker): ITween {\n\t\tsuper.SetParent(ticker);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to set the values at the beginning of the tween\n\t *\n\t * @param {*} from\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic From(from: any): ITween {\n\t\tthis.from = from;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to set the values at the end of the tween\n\t *\n\t * @param {*} to\n\t * @param {number} duration\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic To(to: any, duration: number): ITween {\n\t\tthis.to = to;\n\t\tthis.duration = duration;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to define how many time the tween has to loop\n\t * Extra: if -1 the tween will loop forever\n\t *\n\t * @param {number} loop\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetLoop(loop: number): ITween {\n\t\tthis.loop = Math.round(loop);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to define if the tween as to work in relative or not\n\t *\n\t * @param {boolean} relative\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetRelative(relative: boolean): ITween {\n\t\tthis.relative = relative;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to change the timescale of the tween\n\t *\n\t * @param {number} scale\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetTimescale(scale: number): ITween {\n\t\tthis.timescale = scale;\n\t\treturn this;\n\t}\n\n\t/**\n\t * To apply a modifier on a current tween\n\t *\n\t * @param {*} diff\n\t * @param {boolean} updateTo\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Modify(diff: any, updateTo: boolean): void {\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\t\t\tif (!diff.hasOwnProperty(prop)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.object[prop] += diff[prop];\n\t\t\tif (updateTo) {\n\t\t\t\tthis.currentTo[prop] += diff[prop];\n\t\t\t} else {\n\t\t\t\tthis.currentFrom[prop] += diff[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Method used to create a sequence with this tween as first value.\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\n\t *\n\t * @returns {ISequence}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic ToSequence(): ISequence {\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('Cant convert to a sequence, parent ticker not defined');\n\t\t}\n\t\treturn new Sequence().SetParent(this.parent).Append(this);\n\t}\n\n\tprivate Easing(type: EasingType | string): (t: number) => number {\n\t\tlet name = type as string;\n\t\tlet isNumber = !isNaN(parseFloat(name));\n\n\t\tif (isNumber) {\n\t\t\tlet index = parseInt(name, 10);\n\t\t\tif (index in easeTypes) {\n\t\t\t\treturn easeTypes[index];\n\t\t\t}\n\t\t}\n\n\t\tif (name in easeNames) {\n\t\t\treturn easeNames[name];\n\t\t}\n\n\t\tthrow new Error('Unknown ease method ' + type);\n\t}\n\n\t/**\n\t * Method used to set the type of easing for this tween\n\t *\n\t * @param {(EasingType | string)} type\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetEasing(type: EasingType | string): ITween {\n\t\tthis.ease = this.Easing(type)\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used when the tween is reset (loop)\n\t *\n\t * @protected\n\t *\n\t * @memberOf Tween\n\t */\n\tprotected LoopInit() {\n\t\tthis.elapsed = 0;\n\t}\n\n\t/**\n\t * Method used set everything back to normal values\n\t *\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Default() {\n\t\tsuper.Default();\n\t\tthis.object = undefined;\n\t\tthis.properties.length = 0;\n\t\tthis.from = undefined;\n\t\tthis.to = undefined;\n\t\tthis.currentFrom = undefined;\n\t\tthis.currentTo = undefined;\n\t\tthis.relative = false;\n\t}\n\n\tpublic OnStart(cb: () => void): ITween {\n\t\tif (!this.eventStart) {\n\t\t\tthis.eventStart = [];\n\t\t}\n\t\tthis.eventStart[this.eventStart.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ITween {\n\t\tif (!this.eventUpdate) {\n\t\t\tthis.eventUpdate = [];\n\t\t}\n\t\tthis.eventUpdate[this.eventUpdate.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnKilled(cb: () => void): ITween {\n\t\tif (!this.eventKill) {\n\t\t\tthis.eventKill = [];\n\t\t}\n\t\tthis.eventKill[this.eventKill.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnComplete(cb: () => void): ITween {\n\t\tif (!this.eventComplete) {\n\t\t\tthis.eventComplete = [];\n\t\t}\n\t\tthis.eventComplete[this.eventComplete.length] = cb;\n\t\treturn this;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/tween.ts","/**\n * List of easing method\n *\n * Mostly based on http://easings.net/\n */\nimport { EasingType } from './easingType';\n\nlet PI = Math.PI;\nlet PI_OVER_TWO = Math.PI / 2;\nlet BACK = 1.70158;\n\nlet easingByType: ((t: number, args?: any) => number)[] = [];\nlet easingByName: { [id: string]: (t: number, args?: any) => number } = {};\n\n// Linear\neasingByType[EasingType.Linear] = easingByName['linear'] = function (t: number): number {\n\treturn t;\n};\n\n// Quad\neasingByType[EasingType.InQuad] = easingByName['inQuad'] = function (t: number): number {\n\treturn t * t;\n};\n\neasingByType[EasingType.OutQuad] = easingByName['outQuad'] = function (t: number): number {\n\treturn 2 * t - t * t;\n};\n\neasingByType[EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn 2 * t * t;\n\t} else {\n\t\treturn 2 * (2 * t - t * t) - 1;\n\t}\n};\n\n// Cubic\neasingByType[EasingType.InCubic] = easingByName['inCubic'] = function (t: number): number {\n\treturn t * t * t;\n};\n\neasingByType[EasingType.OutCubic] = easingByName['outCubic'] = function (t: number): number {\n\treturn 3 * t - 3 * t * t + t * t * t;\n};\n\neasingByType[EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn 4 * t * t * t;\n\t} else {\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\n\t}\n};\n\n// Quart\neasingByType[EasingType.InQuart] = easingByName['inQuart'] = function (t: number): number {\n\treturn t * t * t * t;\n};\n\neasingByType[EasingType.OutQuart] = easingByName['outQuart'] = function (t: number): number {\n\tlet t2 = t * t;\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\n};\n\neasingByType[EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn 8 * t * t * t * t;\n\t} else {\n\t\tlet t2 = t * t;\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\n\t}\n};\n\n// Sine\neasingByType[EasingType.InSine] = easingByName['inSine'] = function (t: number): number {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\n};\n\neasingByType[EasingType.OutSine] = easingByName['outSine'] = function (t: number): number {\n\treturn Math.sin(PI_OVER_TWO * t);\n};\n\neasingByType[EasingType.InOutSine] = easingByName['inOutSine'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn (1 - Math.cos(PI * t)) / 2;\n\t} else {\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\n\t}\n};\n\n// Circular\neasingByType[EasingType.InCirc] = easingByName['inCirc'] = function (t: number): number {\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\n};\n\neasingByType[EasingType.OutCirc] = easingByName['outCirc'] = function (t: number): number {\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\n};\n\neasingByType[EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\n\t} else {\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\n\t}\n};\n\n// Quint\neasingByType[EasingType.InQuint] = easingByName['inQuint'] = function (t: number): number {\n\treturn t * t * t * t * t;\n};\n\neasingByType[EasingType.OutQuint] = easingByName['outQuint'] = function (t: number): number {\n\treturn --t * t * t * t * t + 1;\n};\n\neasingByType[EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t: number): number {\n\tif ((t *= 2) < 1) {\n\t\treturn 0.5 * t * t * t * t * t;\n\t}\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n};\n\n// Exponential\neasingByType[EasingType.InExponential] = easingByName['inExponential'] = function (t: number): number {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\n};\n\neasingByType[EasingType.OutExponential] = easingByName['outExponential'] = function (t: number): number {\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\n};\n\neasingByType[EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t: number): number {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\tif ((t *= 2) < 1) {\n\t\treturn 0.5 * Math.pow(1024, t - 1);\n\t}\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\n};\n\n// Elastic\neasingByType[EasingType.InElastic] = easingByName['inElastic'] = function (t: number): number {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\n};\n\neasingByType[EasingType.OutElastic] = easingByName['outElastic'] = function (t: number): number {\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\n};\n\neasingByType[EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t: number): number {\n\tif (t === 0) {\n\t\treturn 0;\n\t}\n\tif (t === 1) {\n\t\treturn 1;\n\t}\n\tt *= 2;\n\tif (t < 1) {\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\n\t}\n\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\n};\n\n// Back\neasingByType[EasingType.InBack] = easingByName['inBack'] = function (t: number): number {\n\tlet s = BACK;\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\n\n};\n\neasingByType[EasingType.OutBack] = easingByName['outBack'] = function (t: number): number {\n\tlet s = BACK;\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\n};\n\neasingByType[EasingType.InOutBack] = easingByName['inOutBack'] = function (t: number): number {\n\tlet s = BACK * 1.525;\n\tif ((t *= 2) < 1) {\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\n\t}\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n};\n\n// Bounce\neasingByType[EasingType.OutBounce] = easingByName['outBounce'] = function (t: number): number {\n\tif (t < (1 / 2.75)) {\n\t\treturn 7.5625 * t * t;\n\t} else if (t < (2 / 2.75)) {\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\n\t} else if (t < (2.5 / 2.75)) {\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\n\t} else {\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\n\t}\n};\n\neasingByType[EasingType.InBounce] = easingByName['inBounce'] = function (t: number): number {\n\treturn 1 - easingByType[EasingType.OutBounce](1 - t);\n};\n\neasingByType[EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t: number): number {\n\tif (t < 0.5) {\n\t\treturn easingByType[EasingType.InBounce](t * 2) * 0.5;\n\t}\n\treturn easingByType[EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\n};\n\n// Export both array\nexport let easeTypes = easingByType;\nexport let easeNames = easingByName;\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easing.ts","\nexport enum EasingType {\n\tLinear,\n\tInQuad,\n\tOutQuad,\n\tInOutQuad,\n\tInCubic,\n\tOutCubic,\n\tInOutCubic,\n\tInQuart,\n\tOutQuart,\n\tInOutQuart,\n\tInSine,\n\tOutSine,\n\tInOutSine,\n\tInCirc,\n\tOutCirc,\n\tInOutCirc,\n\tInQuint,\n\tOutQuint,\n\tInOutQuint,\n\tInExponential,\n\tOutExponential,\n\tInOutExponential,\n\tInElastic,\n\tOutElastic,\n\tInOutElastic,\n\tInBack,\n\tOutBack,\n\tInOutBack,\n\tInBounce,\n\tOutBounce,\n\tInOutBounce\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easingType.ts","import { ITicker } from './core/interfaces/ITicker';\nimport { State } from './core/enum/state';\nimport { EventList } from './core/eventList';\n\n/**\n * Main Fatina Ticker\n * Parent of all the normal tween and sequence\n *\n * @export\n * @class Ticker\n * @extends {EventList}\n * @implements {ITicker}\n */\nexport class Ticker extends EventList implements ITicker {\n\tpublic state = State.Idle;\n\tprivate timescale = 1;\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\tprivate update = 0;\n\tprivate eventToAdd: { (dt: number): void }[] = [];\n\tprivate eventToRemove: { (dt: number): void }[] = [];\n\n\t/**\n\t * Method used to change the timescale\n\t *\n\t * @param {number} scale\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic SetTimescale(scale: number): void {\n\t\tthis.timescale = scale;\n\t}\n\n\t/**\n\t * Method used by the child to be updated\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventToAdd.push(cb);\n\t}\n\n\t/**\n\t * Method used by the child to not receive update anymore\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventToRemove.push(cb);\n\t}\n\n\t/**\n\t * Method used to update the array of listener\n\t * This is mostly for performance reason, being able to batch this operation in the updateLoop\n\t *\n\t * @private\n\t *\n\t * @memberOf Ticker\n\t */\n\tprivate UpdateListener() {\n\t\tif (this.eventToAdd.length > 0) {\n\t\t\tfor (let i = 0; i < this.eventToAdd.length; i++) {\n\t\t\t\tthis.Add(this.eventToAdd[i]);\n\t\t\t}\n\t\t\tthis.eventToAdd = [];\n\t\t}\n\n\t\tif (this.eventToRemove.length > 0) {\n\t\t\tfor (let i = 0; i < this.eventToRemove.length; i++) {\n\t\t\t\tthis.Remove(this.eventToRemove[i]);\n\t\t\t}\n\t\t\tthis.eventToRemove = [];\n\t\t}\n\t}\n\n\t/**\n\t * Method used to tick all the child (tick listeners)\n\t *\n\t * @param {number} dt\n\t * @returns\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic Tick(dt: number) {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.UpdateListener();\n\n\t\tlet localDt = dt * this.timescale;\n\t\tfor (let tick: any = this.first; tick; tick = tick.node_next) {\n\t\t\ttick(localDt);\n\t\t}\n\t\tthis.elapsed += localDt;\n\t\tthis.update++;\n\n\t\tthis.UpdateListener();\n\t}\n\n\tpublic Start(): void {\n\t\tif (this.state !== State.Idle) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Run;\n\t}\n\n\tpublic Pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Pause;\n\t}\n\n\tpublic Resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Run;\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Killed;\n\t}\n\n\tpublic Skip(): void {\n\t\tthrow new Error('The main ticker cannot be skipped');\n\t}\n\n\tpublic Reset(): void {\n\t\tthis.state = State.Idle;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/ticker.ts","export abstract class EventList {\r\n\tpublic first: INode | undefined;\r\n\tpublic last: INode | undefined;\r\n\tpublic length = 0;\r\n\r\n\tpublic Add(obj: any): void {\r\n\t\tlet newNode = this.GetNode(obj, this.last, undefined, this);\r\n\t\tif (this.first === undefined) {\r\n\t\t\tthis.first = newNode;\r\n\t\t\tthis.last = newNode;\r\n\t\t} else if (this.last !== undefined) {\r\n\t\t\tthis.last.node_next = newNode;\r\n\t\t\tthis.last = newNode;\r\n\t\t}\r\n\t\tthis.length += 1;\r\n\t}\r\n\r\n\tpublic Pop(): INode | undefined {\r\n\t\tlet first = this.first;\r\n\t\tthis.Remove(first);\r\n\t\treturn first;\r\n\t}\r\n\r\n\tpublic Remove(obj: any): void {\r\n\t\tlet node = obj as INode;\r\n\t\tif (node === undefined) {\r\n\t\t\tconsole.log('Trying to remove an object which is not a node');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (node.node_list !== this) {\r\n\t\t\t// console.warn('Trying to remove a node that does not belong to the list');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Removing any existing reference to the node\r\n\t\tif (node.node_next === undefined) {\r\n\t\t\tthis.last = node.node_previous;\r\n\t\t} else {\r\n\t\t\tnode.node_next.node_previous = node.node_previous;\r\n\t\t}\r\n\r\n\t\tif (node.node_previous === undefined) {\r\n\t\t\tthis.first = node.node_next;\r\n\t\t} else {\r\n\t\t\tnode.node_previous.node_next = node.node_next;\r\n\t\t}\r\n\r\n\t\t// Removing any existing reference from the node\r\n\t\tnode.node_valid = false;\r\n\t\tnode.node_previous = undefined;\r\n\t\tnode.node_next = undefined;\r\n\t\tnode.node_list = undefined;\r\n\r\n\t\t// One less node in the list\r\n\t\tthis.length -= 1;\r\n\t}\r\n\r\n\tprivate GetNode(obj: any, previous: INode | undefined, next: INode | undefined, list: EventList): INode {\r\n\t\tlet node = obj as INode;\r\n\t\tif (!node.node_valid) {\r\n\t\t\tnode.node_valid = true;\r\n\t\t\tnode.node_previous = previous;\r\n\t\t\tnode.node_next = next;\r\n\t\t\tnode.node_list = list;\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n}\r\n\r\nexport interface INode {\r\n\tnode_valid: boolean;\r\n\tnode_previous: INode | undefined;\r\n\tnode_next: INode | undefined;\r\n\tnode_list: EventList | undefined;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/eventList.ts"],"sourceRoot":""}