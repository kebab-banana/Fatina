{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///fatina.min.js","webpack:///webpack/bootstrap b7177aafd56719d8f477?d1ed","webpack:///./src/fatina/index.ts?519f","webpack:///./src/fatina/tweens/sequence.ts?13df","webpack:///./src/fatina/tweens/baseTween.ts?af98","webpack:///./src/fatina/core/enum/state.ts?be58","webpack:///./src/fatina/tweens/callback.ts?1585","webpack:///./src/fatina/core/enum/tweenType.ts?79be","webpack:///./src/fatina/tweens/delay.ts?46ec","webpack:///./src/fatina/ticker.ts?1998","webpack:///./src/fatina/pooling.ts?52d2","webpack:///./src/fatina/tweens/tween.ts?44b5","webpack:///./src/fatina/core/enum/easingType.ts?a29b","webpack:///./src/fatina/easing/easing.ts?fa18"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","updateLoop","timestamp","dt","time","Update","lastFrame","requestFrame","Init","disableAutoTick","initialized","tickerManager","ticker_1","Ticker","Start","pooling","pooling_1","Pooling","Destroy","Kill","undefined","cancelFrame","toClean","GetCleanTweens","Tick","_i","toClean_1","length","clean","Type","tweenType_1","TweenType","Tween","PushTween","Sequence","PushSequence","obj","properties","tween","PopTween","SetParent","sequence_1","Object","defineProperty","value","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","prototype","create","baseTween_1","callback_1","delay_1","state_1","_super","_this","eventTick","eventStepStart","eventStepEnd","tweens","sequenceIndex","cleanTweens","tickCb","localDt","timescale","elapsed","get","enumerable","configurable","currentTween","Validate","LoopInit","_a","tweenArray","_b","tweenArray_1","Reset","ticker","AddTickListener","cb","unshift","RemoveTickListener","index","indexOf","splice","remains","i","Updated","some","x","IsCompleted","first","remainsDt","Elapsed","Duration","loop","Complete","ResetAndStart","Append","push","AppendCallback","playable","Callback","AppendInterval","duration","Delay","Prepend","PrependCallback","PrependInterval","state","State","Killed","Finished","console","warn","tweenArray_2","IsKilled","Join","SetTimescale","scale","SetLoop","Math","round","Default","Cleanup","parent","Clean","data","OnStart","OnUpdate","OnKilled","OnComplete","OnStepStart","OnStepEnd","BaseTween","Idle","eventStart","eventUpdate","eventKill","eventComplete","firstStart","IsRunning","Run","Started","resetloop","Pause","Resume","Completed","progress","max","min","val","data_1","tween_1","size","sequences","created","poped","pushed","CreateTween","pop","CreateSequence","PopSequence","sequence","easingType_1","easing_1","object","relative","Error","prop","ease","easeTypes","EasingType","Linear","from","_d","_e","_c","_f","_g","to","From","To","SetRelative","ToSequence","Easing","type","args","name","isNumber","isNaN","parseFloat","parseInt","easeNames","SetEasing","PI","PI_OVER_TWO","BACK","easingByType","easingByName","t","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","t2","InOutQuart","InSine","cos","OutSine","sin","InOutSine","InCirc","sqrt","pow","OutCirc","InOutCirc","InQuint","OutQuint","InOutQuint","InExponential","OutExponential","InOutExponential","InElastic","OutElastic","InOutElastic","InBack","s","OutBack","InOutBack","OutBounce","InBounce","InOutBounce"],"mappings":"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","file":"fatina.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar ticker_1 = __webpack_require__(7);\r\n\tvar pooling_1 = __webpack_require__(8);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar requestFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\tvar cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n\tfunction updateLoop(timestamp) {\r\n\t    var dt = timestamp - time;\r\n\t    Update(dt);\r\n\t    time = timestamp;\r\n\t    lastFrame = requestFrame(function () { return updateLoop; });\r\n\t}\r\n\tvar tickerManager;\r\n\tvar pooling;\r\n\tvar initialized = false;\r\n\tvar lastFrame;\r\n\tvar time = 0;\r\n\tfunction Init(disableAutoTick) {\r\n\t    if (initialized) {\r\n\t        return false;\r\n\t    }\r\n\t    if (!tickerManager) {\r\n\t        tickerManager = new ticker_1.Ticker();\r\n\t        tickerManager.Start();\r\n\t    }\r\n\t    if (!disableAutoTick) {\r\n\t        lastFrame = requestFrame(updateLoop);\r\n\t    }\r\n\t    pooling = new pooling_1.Pooling(2000);\r\n\t    initialized = true;\r\n\t    return true;\r\n\t}\r\n\texports.Init = Init;\r\n\tfunction Destroy() {\r\n\t    if (tickerManager) {\r\n\t        tickerManager.Kill();\r\n\t        tickerManager = undefined;\r\n\t    }\r\n\t    if (lastFrame) {\r\n\t        cancelFrame(lastFrame);\r\n\t    }\r\n\t    initialized = false;\r\n\t}\r\n\texports.Destroy = Destroy;\r\n\tfunction Update(timestamp) {\r\n\t    if (!initialized || !tickerManager) {\r\n\t        return;\r\n\t    }\r\n\t    var toClean = tickerManager.GetCleanTweens();\r\n\t    tickerManager.Tick(timestamp);\r\n\t    for (var _i = 0, toClean_1 = toClean; _i < toClean_1.length; _i++) {\r\n\t        var clean = toClean_1[_i];\r\n\t        if (clean.Type === tweenType_1.TweenType.Tween) {\r\n\t            pooling.PushTween(clean);\r\n\t        }\r\n\t        else if (clean.Type === tweenType_1.TweenType.Sequence) {\r\n\t            pooling.PushSequence(clean);\r\n\t        }\r\n\t    }\r\n\t}\r\n\texports.Update = Update;\r\n\tfunction Tween(obj, properties) {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    var tween = pooling.PopTween();\r\n\t    tween.Init(obj, properties);\r\n\t    tween.SetParent(tickerManager);\r\n\t    return tween;\r\n\t}\r\n\texports.Tween = Tween;\r\n\tfunction Sequence() {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    return new sequence_1.Sequence().SetParent(tickerManager);\r\n\t}\r\n\texports.Sequence = Sequence;\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar callback_1 = __webpack_require__(4);\r\n\tvar delay_1 = __webpack_require__(6);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar Sequence = (function (_super) {\r\n\t    __extends(Sequence, _super);\r\n\t    function Sequence() {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.eventTick = [];\r\n\t        _this.eventStepStart = [];\r\n\t        _this.eventStepEnd = [];\r\n\t        _this.tweens = [];\r\n\t        _this.sequenceIndex = 0;\r\n\t        _this.cleanTweens = [];\r\n\t        _this.tickCb = function (dt) {\r\n\t            var localDt = dt * _this.timescale;\r\n\t            _this.elapsed += localDt;\r\n\t            _this.Tick(localDt);\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Sequence.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Sequence;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(Sequence.prototype, \"CurrentTween\", {\r\n\t        get: function () {\r\n\t            return this.currentTween;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Sequence.prototype.Validate = function () {\r\n\t    };\r\n\t    Sequence.prototype.LoopInit = function () {\r\n\t        this.sequenceIndex = 0;\r\n\t        for (var _i = 0, _a = this.tweens; _i < _a.length; _i++) {\r\n\t            var tweenArray = _a[_i];\r\n\t            for (var _b = 0, tweenArray_1 = tweenArray; _b < tweenArray_1.length; _b++) {\r\n\t                var tween = tweenArray_1[_b];\r\n\t                tween.Reset(true);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AddTickListener = function (cb) {\r\n\t        this.eventTick.unshift(cb);\r\n\t    };\r\n\t    Sequence.prototype.RemoveTickListener = function (cb) {\r\n\t        var index = this.eventTick.indexOf(cb);\r\n\t        if (index !== -1) {\r\n\t            this.eventTick.splice(index, 1);\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Tick = function (dt, remains) {\r\n\t        if (!this.currentTween) {\r\n\t            this.currentTween = this.tweens[this.sequenceIndex];\r\n\t            if (this.currentTween) {\r\n\t                for (var _i = 0, _a = this.currentTween; _i < _a.length; _i++) {\r\n\t                    var tween = _a[_i];\r\n\t                    tween.Start();\r\n\t                }\r\n\t                for (var i = 0; i < this.eventStepStart.length; i++) {\r\n\t                    this.eventStepStart[i](this.currentTween[0]);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        for (var i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t            this.eventTick[i](dt);\r\n\t        }\r\n\t        if (remains !== true) {\r\n\t            _super.prototype.Updated.call(this, dt, 0);\r\n\t        }\r\n\t        if (this.currentTween) {\r\n\t            if (this.currentTween.some(function (x) { return !x.IsCompleted(); })) {\r\n\t                return;\r\n\t            }\r\n\t            var first = this.currentTween[0];\r\n\t            var remainsDt = first.Elapsed - first.Duration;\r\n\t            for (var i = 0; i < this.eventStepEnd.length; i++) {\r\n\t                this.eventStepEnd[i](this.currentTween[0]);\r\n\t            }\r\n\t            this.currentTween = undefined;\r\n\t            this.sequenceIndex++;\r\n\t            if (remainsDt > 0.01) {\r\n\t                this.Tick(remainsDt, true);\r\n\t                return;\r\n\t            }\r\n\t        }\r\n\t        if (!this.currentTween && this.tweens.length === this.sequenceIndex) {\r\n\t            this.loop--;\r\n\t            if (this.loop === 0) {\r\n\t                this.Complete();\r\n\t            }\r\n\t            else {\r\n\t                this.ResetAndStart();\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Append = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens.push([tween]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.push([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.push([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Prepend = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens.unshift([tween]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        for (var _i = 0, _a = this.tweens; _i < _a.length; _i++) {\r\n\t            var tweenArray = _a[_i];\r\n\t            for (var _b = 0, tweenArray_2 = tweenArray; _b < tweenArray_2.length; _b++) {\r\n\t                var tween = tweenArray_2[_b];\r\n\t                if (tween.IsKilled() || tween.IsCompleted()) {\r\n\t                    continue;\r\n\t                }\r\n\t                tween.Kill();\r\n\t            }\r\n\t        }\r\n\t        _super.prototype.Kill.call(this);\r\n\t    };\r\n\t    Sequence.prototype.Join = function (tween) {\r\n\t        if (this.tweens.length === 0) {\r\n\t            return this.Append(tween);\r\n\t        }\r\n\t        tween.SetParent(this);\r\n\t        this.tweens[this.tweens.length - 1].push(tween);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.eventTick = [];\r\n\t        this.eventStepStart = [];\r\n\t        this.eventStepEnd = [];\r\n\t        this.tweens = [];\r\n\t        this.currentTween = undefined;\r\n\t        this.sequenceIndex = 0;\r\n\t        this.cleanTweens = [];\r\n\t    };\r\n\t    Sequence.prototype.Cleanup = function () {\r\n\t        if (!this.parent) {\r\n\t            return;\r\n\t        }\r\n\t        this.cleanTweens.push(this);\r\n\t        this.parent.Clean(this.cleanTweens);\r\n\t    };\r\n\t    Sequence.prototype.Clean = function (data) {\r\n\t        for (var i = 0; i < data.length; i++) {\r\n\t            this.cleanTweens.push(data[i]);\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.OnStart = function (cb) {\r\n\t        _super.prototype.OnStart.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnUpdate = function (cb) {\r\n\t        _super.prototype.OnUpdate.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnKilled = function (cb) {\r\n\t        _super.prototype.OnKilled.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnComplete = function (cb) {\r\n\t        _super.prototype.OnComplete.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepStart = function (cb) {\r\n\t        this.eventStepStart.push(cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepEnd = function (cb) {\r\n\t        this.eventStepEnd.push(cb);\r\n\t        return this;\r\n\t    };\r\n\t    return Sequence;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Sequence = Sequence;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar BaseTween = (function () {\r\n\t    function BaseTween() {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.state = state_1.State.Idle;\r\n\t        this.eventStart = [];\r\n\t        this.eventUpdate = [];\r\n\t        this.eventKill = [];\r\n\t        this.eventComplete = [];\r\n\t        this.firstStart = true;\r\n\t    }\r\n\t    Object.defineProperty(BaseTween.prototype, \"Elapsed\", {\r\n\t        get: function () {\r\n\t            return this.elapsed;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(BaseTween.prototype, \"Duration\", {\r\n\t        get: function () {\r\n\t            return this.duration;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    BaseTween.prototype.SetParent = function (ticker) {\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.parent = ticker;\r\n\t    };\r\n\t    BaseTween.prototype.IsRunning = function () {\r\n\t        return this.state === state_1.State.Run;\r\n\t    };\r\n\t    BaseTween.prototype.IsCompleted = function () {\r\n\t        return this.state === state_1.State.Finished;\r\n\t    };\r\n\t    BaseTween.prototype.IsKilled = function () {\r\n\t        return this.state === state_1.State.Killed;\r\n\t    };\r\n\t    BaseTween.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            console.warn('cant start this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.firstStart) {\r\n\t            this.Validate();\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t        if (this.firstStart) {\r\n\t            this.Started();\r\n\t            this.firstStart = false;\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Reset = function (resetloop) {\r\n\t        this.state = state_1.State.Idle;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        if (resetloop === true) {\r\n\t            this.loop = 1;\r\n\t        }\r\n\t        this.LoopInit();\r\n\t    };\r\n\t    BaseTween.prototype.ResetAndStart = function (resetloop) {\r\n\t        if (resetloop === true) {\r\n\t            this.loop = 1;\r\n\t        }\r\n\t        this.LoopInit();\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    BaseTween.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            console.warn('cant pause this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            console.warn('cant resume this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t    };\r\n\t    BaseTween.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t        this.Killed();\r\n\t        this.Cleanup();\r\n\t    };\r\n\t    BaseTween.prototype.Default = function () {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.eventStart = [];\r\n\t        this.eventUpdate = [];\r\n\t        this.eventKill = [];\r\n\t        this.eventComplete = [];\r\n\t        this.firstStart = true;\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    BaseTween.prototype.Complete = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant complete this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Finished;\r\n\t        this.Completed();\r\n\t        this.Cleanup();\r\n\t    };\r\n\t    BaseTween.prototype.Started = function () {\r\n\t        for (var i = 0; i < this.eventStart.length; i++) {\r\n\t            this.eventStart[i]();\r\n\t        }\r\n\t        this.eventStart = [];\r\n\t    };\r\n\t    BaseTween.prototype.Updated = function (dt, progress) {\r\n\t        for (var i = 0; i < this.eventUpdate.length; i++) {\r\n\t            this.eventUpdate[i](dt, progress);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Killed = function () {\r\n\t        for (var i = 0; i < this.eventKill.length; i++) {\r\n\t            this.eventKill[i]();\r\n\t        }\r\n\t        this.eventKill = [];\r\n\t    };\r\n\t    BaseTween.prototype.Completed = function () {\r\n\t        for (var i = 0; i < this.eventComplete.length; i++) {\r\n\t            this.eventComplete[i]();\r\n\t        }\r\n\t        this.eventComplete = [];\r\n\t    };\r\n\t    BaseTween.prototype.OnStart = function (cb) {\r\n\t        this.eventStart.push(cb);\r\n\t    };\r\n\t    BaseTween.prototype.OnUpdate = function (cb) {\r\n\t        this.eventUpdate.push(cb);\r\n\t    };\r\n\t    BaseTween.prototype.OnKilled = function (cb) {\r\n\t        this.eventKill.push(cb);\r\n\t    };\r\n\t    BaseTween.prototype.OnComplete = function (cb) {\r\n\t        this.eventComplete.push(cb);\r\n\t    };\r\n\t    return BaseTween;\r\n\t}());\r\n\texports.BaseTween = BaseTween;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar State;\r\n\t(function (State) {\r\n\t    State[State[\"Idle\"] = 0] = \"Idle\";\r\n\t    State[State[\"Run\"] = 1] = \"Run\";\r\n\t    State[State[\"Pause\"] = 2] = \"Pause\";\r\n\t    State[State[\"Finished\"] = 3] = \"Finished\";\r\n\t    State[State[\"Killed\"] = 4] = \"Killed\";\r\n\t})(State = exports.State || (exports.State = {}));\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Callback = (function (_super) {\r\n\t    __extends(Callback, _super);\r\n\t    function Callback(cb) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.tickCb = function (dt) {\r\n\t            _this.elapsed += dt;\r\n\t            _this.duration = 0;\r\n\t            cb();\r\n\t            _this.Updated(dt, 1);\r\n\t            _this.Complete();\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Callback.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Callback;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Callback.prototype.Validate = function () { };\r\n\t    Callback.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Callback.prototype.Cleanup = function () { };\r\n\t    return Callback;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Callback = Callback;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar TweenType;\r\n\t(function (TweenType) {\r\n\t    TweenType[TweenType[\"Ticker\"] = 0] = \"Ticker\";\r\n\t    TweenType[TweenType[\"Sequence\"] = 1] = \"Sequence\";\r\n\t    TweenType[TweenType[\"Tween\"] = 2] = \"Tween\";\r\n\t    TweenType[TweenType[\"Callback\"] = 3] = \"Callback\";\r\n\t    TweenType[TweenType[\"Delay\"] = 4] = \"Delay\";\r\n\t    TweenType[TweenType[\"None\"] = 5] = \"None\";\r\n\t})(TweenType = exports.TweenType || (exports.TweenType = {}));\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Delay = (function (_super) {\r\n\t    __extends(Delay, _super);\r\n\t    function Delay(duration) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.duration = duration;\r\n\t        _this.tickCb = function (dt) {\r\n\t            _this.elapsed += dt;\r\n\t            var progress = Math.max(Math.min(_this.elapsed / _this.duration, 1), 0);\r\n\t            _super.prototype.Updated.call(_this, dt, progress);\r\n\t            if (_this.elapsed >= _this.duration) {\r\n\t                _this.Complete();\r\n\t            }\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Delay.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Delay;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Delay.prototype.Validate = function () { };\r\n\t    Delay.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Delay.prototype.Cleanup = function () { };\r\n\t    return Delay;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Delay = Delay;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Ticker = (function () {\r\n\t    function Ticker() {\r\n\t        this.state = state_1.State.Idle;\r\n\t        this.timescale = 1;\r\n\t        this.elapsed = 0;\r\n\t        this.eventTick = [];\r\n\t        this.cleanTweens = [];\r\n\t    }\r\n\t    Object.defineProperty(Ticker.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Ticker;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Ticker.prototype.GetCleanTweens = function () {\r\n\t        var val = this.cleanTweens;\r\n\t        this.cleanTweens = [];\r\n\t        return val;\r\n\t    };\r\n\t    Object.defineProperty(Ticker.prototype, \"Elapsed\", {\r\n\t        get: function () {\r\n\t            return this.elapsed;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(Ticker.prototype, \"Duration\", {\r\n\t        get: function () {\r\n\t            return 0;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Ticker.prototype.AddTickListener = function (cb) {\r\n\t        this.eventTick.unshift(cb);\r\n\t    };\r\n\t    Ticker.prototype.RemoveTickListener = function (cb) {\r\n\t        var index = this.eventTick.indexOf(cb);\r\n\t        if (index !== -1) {\r\n\t            this.eventTick.splice(index, 1);\r\n\t        }\r\n\t    };\r\n\t    Ticker.prototype.Tick = function (dt) {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        var localDt = dt * this.timescale;\r\n\t        for (var i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t            this.eventTick[i](localDt);\r\n\t        }\r\n\t        this.elapsed += localDt;\r\n\t    };\r\n\t    Ticker.prototype.IsCompleted = function () {\r\n\t        return this.state === state_1.State.Finished;\r\n\t    };\r\n\t    Ticker.prototype.IsRunning = function () {\r\n\t        return this.state === state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.IsKilled = function () {\r\n\t        return this.state === state_1.State.Killed;\r\n\t    };\r\n\t    Ticker.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t    };\r\n\t    Ticker.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t    };\r\n\t    Ticker.prototype.Reset = function () {\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    Ticker.prototype.Clean = function (data) {\r\n\t        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\r\n\t            var obj = data_1[_i];\r\n\t            this.cleanTweens.push(obj);\r\n\t        }\r\n\t    };\r\n\t    return Ticker;\r\n\t}());\r\n\texports.Ticker = Ticker;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar tween_1 = __webpack_require__(9);\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar Pooling = (function () {\r\n\t    function Pooling(size) {\r\n\t        this.tweens = [];\r\n\t        this.sequences = [];\r\n\t        this.created = 0;\r\n\t        this.poped = 0;\r\n\t        this.pushed = 0;\r\n\t        for (var i = 0; i < size; i++) {\r\n\t            this.CreateTween();\r\n\t        }\r\n\t        for (var i = 0; i < size / 4; i++) {\r\n\t            this.CreateTween();\r\n\t        }\r\n\t    }\r\n\t    Pooling.prototype.CreateTween = function () {\r\n\t        this.created++;\r\n\t        return new tween_1.Tween(null, []);\r\n\t    };\r\n\t    Pooling.prototype.PopTween = function () {\r\n\t        if (this.tweens.length === 0) {\r\n\t            this.tweens.push(this.CreateTween());\r\n\t        }\r\n\t        this.poped++;\r\n\t        return this.tweens.pop();\r\n\t    };\r\n\t    Pooling.prototype.PushTween = function (tween) {\r\n\t        if (tween === undefined) {\r\n\t            return;\r\n\t        }\r\n\t        tween.Default();\r\n\t        this.pushed++;\r\n\t        this.tweens.push(tween);\r\n\t    };\r\n\t    Pooling.prototype.CreateSequence = function () {\r\n\t        this.created++;\r\n\t        return new sequence_1.Sequence();\r\n\t    };\r\n\t    Pooling.prototype.PopSequence = function () {\r\n\t        if (this.sequences.length === 0) {\r\n\t            this.sequences.push(this.CreateSequence());\r\n\t        }\r\n\t        this.poped++;\r\n\t        return this.sequences.pop();\r\n\t    };\r\n\t    Pooling.prototype.PushSequence = function (sequence) {\r\n\t        if (sequence === undefined) {\r\n\t            return;\r\n\t        }\r\n\t        sequence.Default();\r\n\t        this.pushed++;\r\n\t        this.sequences.push(sequence);\r\n\t    };\r\n\t    return Pooling;\r\n\t}());\r\n\texports.Pooling = Pooling;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar easingType_1 = __webpack_require__(10);\r\n\tvar easing_1 = __webpack_require__(11);\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Tween = (function (_super) {\r\n\t    __extends(Tween, _super);\r\n\t    function Tween(object, properties) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.relative = false;\r\n\t        _this.object = object;\r\n\t        _this.properties = properties;\r\n\t        _this.tickCb = function (dt) {\r\n\t            var localDt = dt * _this.timescale;\r\n\t            _this.elapsed += localDt;\r\n\t            var progress = Math.max(Math.min(_this.elapsed / _this.duration, 1), 0);\r\n\t            _this.Update(localDt, progress);\r\n\t            if (_this.elapsed >= _this.duration) {\r\n\t                _this.loop--;\r\n\t                if (_this.loop === 0) {\r\n\t                    _this.Complete();\r\n\t                }\r\n\t                else {\r\n\t                    _this.ResetAndStart();\r\n\t                }\r\n\t            }\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Tween.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Tween;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Tween.prototype.Init = function (object, properties) {\r\n\t        this.object = object;\r\n\t        this.properties = properties;\r\n\t    };\r\n\t    Tween.prototype.Validate = function () {\r\n\t        if (!this.object) {\r\n\t            throw new Error('Cant Tween a undefined object');\r\n\t        }\r\n\t        for (var _i = 0, _a = this.properties; _i < _a.length; _i++) {\r\n\t            var prop = _a[_i];\r\n\t            if (!(prop in this.object)) {\r\n\t                throw new Error('Cant Tween an unknown property' + prop);\r\n\t            }\r\n\t        }\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant Start a tween without ticker');\r\n\t        }\r\n\t        if (!this.ease) {\r\n\t            this.ease = easing_1.easeTypes[easingType_1.EasingType.Linear];\r\n\t        }\r\n\t        if (!this.from) {\r\n\t            this.from = {};\r\n\t            for (var _b = 0, _c = this.properties; _b < _c.length; _b++) {\r\n\t                var prop = _c[_b];\r\n\t                this.from[prop] = this.object[prop];\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            for (var _d = 0, _e = this.properties; _d < _e.length; _d++) {\r\n\t                var prop = _e[_d];\r\n\t                this.object[prop] = this.from[prop];\r\n\t            }\r\n\t        }\r\n\t        if (this.relative) {\r\n\t            for (var _f = 0, _g = this.properties; _f < _g.length; _f++) {\r\n\t                var prop = _g[_f];\r\n\t                this.to[prop] = this.object[prop] + this.to[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t        if (this.from) {\r\n\t            for (var _i = 0, _a = this.properties; _i < _a.length; _i++) {\r\n\t                var prop = _a[_i];\r\n\t                this.object[prop] = this.from[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.Update = function (dt, progress) {\r\n\t        var val = this.ease(progress);\r\n\t        for (var _i = 0, _a = this.properties; _i < _a.length; _i++) {\r\n\t            var prop = _a[_i];\r\n\t            this.object[prop] = this.from[prop] + (this.to[prop] - this.from[prop]) * val;\r\n\t        }\r\n\t        _super.prototype.Updated.call(this, dt, progress);\r\n\t    };\r\n\t    Tween.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.Cleanup = function () {\r\n\t        if (!this.parent) {\r\n\t            return;\r\n\t        }\r\n\t        this.parent.Clean([this]);\r\n\t    };\r\n\t    Tween.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.object = undefined;\r\n\t        this.properties = [];\r\n\t        this.from = undefined;\r\n\t        this.to = undefined;\r\n\t        this.relative = false;\r\n\t        this.ease = easing_1.easeTypes[0];\r\n\t    };\r\n\t    Tween.prototype.From = function (from) {\r\n\t        this.from = from;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.To = function (to, duration) {\r\n\t        this.to = to;\r\n\t        this.duration = duration;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetRelative = function (relative) {\r\n\t        this.relative = relative;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.ToSequence = function () {\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t        }\r\n\t        return new sequence_1.Sequence().SetParent(this.parent).Append(this);\r\n\t    };\r\n\t    Tween.prototype.Easing = function (type, args) {\r\n\t        var name = type;\r\n\t        var isNumber = !isNaN(parseFloat(name));\r\n\t        if (isNumber) {\r\n\t            var index = parseInt(name, 10);\r\n\t            if (index in easing_1.easeTypes) {\r\n\t                return easing_1.easeTypes[index];\r\n\t            }\r\n\t        }\r\n\t        if (name in easing_1.easeNames) {\r\n\t            return easing_1.easeNames[name];\r\n\t        }\r\n\t        throw new Error('Unknown ease method ' + type);\r\n\t    };\r\n\t    Tween.prototype.SetEasing = function (type, args) {\r\n\t        this.ease = this.Easing(type, args);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnStart = function (cb) {\r\n\t        _super.prototype.OnStart.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnUpdate = function (cb) {\r\n\t        _super.prototype.OnUpdate.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnKilled = function (cb) {\r\n\t        _super.prototype.OnKilled.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnComplete = function (cb) {\r\n\t        _super.prototype.OnComplete.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    return Tween;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Tween = Tween;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar EasingType;\r\n\t(function (EasingType) {\r\n\t    EasingType[EasingType[\"Linear\"] = 0] = \"Linear\";\r\n\t    EasingType[EasingType[\"InQuad\"] = 1] = \"InQuad\";\r\n\t    EasingType[EasingType[\"OutQuad\"] = 2] = \"OutQuad\";\r\n\t    EasingType[EasingType[\"InOutQuad\"] = 3] = \"InOutQuad\";\r\n\t    EasingType[EasingType[\"InCubic\"] = 4] = \"InCubic\";\r\n\t    EasingType[EasingType[\"OutCubic\"] = 5] = \"OutCubic\";\r\n\t    EasingType[EasingType[\"InOutCubic\"] = 6] = \"InOutCubic\";\r\n\t    EasingType[EasingType[\"InQuart\"] = 7] = \"InQuart\";\r\n\t    EasingType[EasingType[\"OutQuart\"] = 8] = \"OutQuart\";\r\n\t    EasingType[EasingType[\"InOutQuart\"] = 9] = \"InOutQuart\";\r\n\t    EasingType[EasingType[\"InSine\"] = 10] = \"InSine\";\r\n\t    EasingType[EasingType[\"OutSine\"] = 11] = \"OutSine\";\r\n\t    EasingType[EasingType[\"InOutSine\"] = 12] = \"InOutSine\";\r\n\t    EasingType[EasingType[\"InCirc\"] = 13] = \"InCirc\";\r\n\t    EasingType[EasingType[\"OutCirc\"] = 14] = \"OutCirc\";\r\n\t    EasingType[EasingType[\"InOutCirc\"] = 15] = \"InOutCirc\";\r\n\t    EasingType[EasingType[\"InQuint\"] = 16] = \"InQuint\";\r\n\t    EasingType[EasingType[\"OutQuint\"] = 17] = \"OutQuint\";\r\n\t    EasingType[EasingType[\"InOutQuint\"] = 18] = \"InOutQuint\";\r\n\t    EasingType[EasingType[\"InExponential\"] = 19] = \"InExponential\";\r\n\t    EasingType[EasingType[\"OutExponential\"] = 20] = \"OutExponential\";\r\n\t    EasingType[EasingType[\"InOutExponential\"] = 21] = \"InOutExponential\";\r\n\t    EasingType[EasingType[\"InElastic\"] = 22] = \"InElastic\";\r\n\t    EasingType[EasingType[\"OutElastic\"] = 23] = \"OutElastic\";\r\n\t    EasingType[EasingType[\"InOutElastic\"] = 24] = \"InOutElastic\";\r\n\t    EasingType[EasingType[\"InBack\"] = 25] = \"InBack\";\r\n\t    EasingType[EasingType[\"OutBack\"] = 26] = \"OutBack\";\r\n\t    EasingType[EasingType[\"InOutBack\"] = 27] = \"InOutBack\";\r\n\t    EasingType[EasingType[\"InBounce\"] = 28] = \"InBounce\";\r\n\t    EasingType[EasingType[\"OutBounce\"] = 29] = \"OutBounce\";\r\n\t    EasingType[EasingType[\"InOutBounce\"] = 30] = \"InOutBounce\";\r\n\t})(EasingType = exports.EasingType || (exports.EasingType = {}));\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar easingType_1 = __webpack_require__(10);\r\n\tvar PI = Math.PI;\r\n\tvar PI_OVER_TWO = Math.PI / 2;\r\n\tvar BACK = 1.70158;\r\n\tvar easingByType = [];\r\n\tvar easingByName = {};\r\n\teasingByType[easingType_1.EasingType.Linear] = easingByName['linear'] = function (t) {\r\n\t    return t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuad] = easingByName['inQuad'] = function (t) {\r\n\t    return t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuad] = easingByName['outQuad'] = function (t) {\r\n\t    return 2 * t - t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 2 * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 2 * (2 * t - t * t) - 1;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCubic] = easingByName['inCubic'] = function (t) {\r\n\t    return t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCubic] = easingByName['outCubic'] = function (t) {\r\n\t    return 3 * t - 3 * t * t + t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 4 * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuart] = easingByName['inQuart'] = function (t) {\r\n\t    return t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuart] = easingByName['outQuart'] = function (t) {\r\n\t    var t2 = t * t;\r\n\t    return 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 8 * t * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        var t2 = t * t;\r\n\t        return 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InSine] = easingByName['inSine'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return 1 - Math.cos(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutSine] = easingByName['outSine'] = function (t) {\r\n\t    return Math.sin(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutSine] = easingByName['inOutSine'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.cos(PI * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCirc] = easingByName['inCirc'] = function (t) {\r\n\t    return 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCirc] = easingByName['outCirc'] = function (t) {\r\n\t    return Math.sqrt(1 - Math.pow(1 - t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuint] = easingByName['inQuint'] = function (t) {\r\n\t    return t * t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuint] = easingByName['outQuint'] = function (t) {\r\n\t    return --t * t * t * t * t + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t) {\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * t * t * t * t * t;\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InExponential] = easingByName['inExponential'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return t === 0 ? 0 : Math.pow(1024, t - 1);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutExponential] = easingByName['outExponential'] = function (t) {\r\n\t    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * Math.pow(1024, t - 1);\r\n\t    }\r\n\t    return 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InElastic] = easingByName['inElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    return -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutElastic] = easingByName['outElastic'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    t *= 2;\r\n\t    if (t < 1) {\r\n\t        return -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t    }\r\n\t    return 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBack] = easingByName['inBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBack] = easingByName['outBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBack] = easingByName['inOutBack'] = function (t) {\r\n\t    var s = BACK * 1.525;\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * (t * t * ((s + 1) * t - s));\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBounce] = easingByName['outBounce'] = function (t) {\r\n\t    if (t < (1 / 2.75)) {\r\n\t        return 7.5625 * t * t;\r\n\t    }\r\n\t    else if (t < (2 / 2.75)) {\r\n\t        return 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t    }\r\n\t    else if (t < (2.5 / 2.75)) {\r\n\t        return 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t    }\r\n\t    else {\r\n\t        return 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBounce] = easingByName['inBounce'] = function (t) {\r\n\t    return 1 - easingByType[easingType_1.EasingType.OutBounce](1 - t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return easingByType[easingType_1.EasingType.InBounce](t * 2) * 0.5;\r\n\t    }\r\n\t    return easingByType[easingType_1.EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n\t};\r\n\texports.easeTypes = easingByType;\r\n\texports.easeNames = easingByName;\r\n\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// fatina.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b7177aafd56719d8f477","import { Sequence as sequence } from './tweens/sequence';\nimport { Ticker as ticker } from './ticker';\nimport { ITween } from './core/interfaces/ITween';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { ITicker } from './core/interfaces/ITicker';\nimport { Pooling } from './pooling';\nimport { TweenType } from './core/enum/tweenType';\n\nlet requestFrame: any = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame || window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\nlet cancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\n\nfunction updateLoop(timestamp: number) {\n\tlet dt = timestamp - time;\n\tUpdate(dt);\n\ttime = timestamp;\n\tlastFrame = requestFrame(() => updateLoop);\n}\n\nlet tickerManager: ticker | undefined;\nlet pooling: Pooling;\nlet initialized = false;\nlet lastFrame: any;\nlet time = 0;\n\nexport function Init(disableAutoTick?: boolean): boolean {\n\tif (initialized) {\n\t\treturn false;\n\t}\n\n\tif (!tickerManager) {\n\t\ttickerManager = new ticker();\n\t\ttickerManager.Start();\n\t}\n\n\tif (!disableAutoTick) {\n\t\tlastFrame = requestFrame(updateLoop);\n\t}\n\n\tpooling = new Pooling(2000);\n\n\tinitialized = true;\n\treturn true;\n}\n\nexport function Destroy() {\n\tif (tickerManager) {\n\t\ttickerManager.Kill();\n\t\ttickerManager = undefined;\n\t}\n\n\tif (lastFrame) {\n\t\tcancelFrame(lastFrame);\n\t}\n\n\tinitialized = false;\n}\n\nexport function Update(timestamp: number): any {\n\tif (!initialized || !tickerManager) {\n\t\treturn;\n\t}\n\n\tlet toClean = tickerManager.GetCleanTweens();\n\n\ttickerManager.Tick(timestamp);\n\n\tfor (let clean of toClean) {\n\t\tif (clean.Type === TweenType.Tween) {\n\t\t\tpooling.PushTween(clean as ITween);\n\t\t} else if (clean.Type === TweenType.Sequence) {\n\t\t\tpooling.PushSequence(clean as ISequence);\n\t\t}\n\t}\n}\n\nexport function Tween(obj: any, properties: string[]): ITween {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\n\tlet tween = pooling.PopTween();\n\ttween.Init(obj, properties);\n\ttween.SetParent(tickerManager as ITicker);\n\treturn tween;\n}\n\nexport function Sequence(): ISequence {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\treturn new sequence().SetParent(tickerManager as ITicker);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/index.ts","import { BaseTween } from './baseTween';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITween } from '../core/interfaces/ITween';\nimport { IPlayable } from '../core/interfaces/IPlayable';\nimport { Callback } from './callback';\nimport { Delay } from './delay';\nimport { TweenType } from '../core/enum/tweenType';\nimport { State } from '../core/enum/state';\n\nexport class Sequence extends BaseTween implements ISequence, ITicker {\n\tpublic get Type() {\n\t\treturn TweenType.Sequence;\n\t}\n\n\tprivate eventTick: {(dt: number): void}[] = [];\n\tprivate eventStepStart: {(tween: ITween | IPlayable): void}[] = [];\n\tprivate eventStepEnd: {(tween: ITween | IPlayable): void}[] = [];\n\tprivate tweens: ((ITween | IPlayable)[])[] = [];\n\tprivate currentTween: (ITween | IPlayable)[] | undefined;\n\tprivate sequenceIndex = 0;\n\tprivate cleanTweens: (ITween | ISequence)[] = [];\n\n\tpublic get CurrentTween(): (ITween | IPlayable)[] | undefined {\n\t\treturn this.currentTween;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.tickCb = (dt: number) => {\n\t\t\tlet localDt = dt * this.timescale;\n\t\t\tthis.elapsed += localDt;\n\t\t\tthis.Tick(localDt);\n\t\t};\n\t}\n\n\tprotected Validate() {\n\t}\n\n\tprotected LoopInit() {\n\t\tthis.sequenceIndex = 0;\n\t\tfor (let tweenArray of this.tweens) {\n\t\t\tfor (let tween of tweenArray) {\n\t\t\t\t(tween as BaseTween).Reset(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic SetParent(ticker: ITicker): ISequence {\n\t\tsuper.SetParent(ticker);\n\t\treturn this;\n\t}\n\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventTick.unshift(cb);\n\t}\n\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tlet index = this.eventTick.indexOf(cb);\n\t\tif (index !== -1) {\n\t\t\tthis.eventTick.splice(index, 1);\n\t\t}\n\t}\n\n\tprivate Tick(dt: number, remains?: boolean) {\n\t\t// If no current tween, take the first one and start it\n\t\tif (!this.currentTween) {\n\t\t\tthis.currentTween = this.tweens[this.sequenceIndex];\n\t\t\tif (this.currentTween) {\n\t\t\t\tfor (let tween of this.currentTween) {\n\t\t\t\t\ttween.Start();\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < this.eventStepStart.length; i++) {\n\t\t\t\t\tthis.eventStepStart[i](this.currentTween[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Tick every listener\n\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\n\t\t\tthis.eventTick[i](dt);\n\t\t}\n\n\t\t// Dont emit update event for remains dt\n\t\tif (remains !== true) {\n\t\t\tsuper.Updated(dt, 0);\n\t\t}\n\n\t\t// Current tween over\n\t\tif (this.currentTween) {\n\t\t\tif (this.currentTween.some(x => !x.IsCompleted())) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet first = this.currentTween[0];\n\t\t\tlet remainsDt = first.Elapsed - first.Duration;\n\n\t\t\tfor (let i = 0; i < this.eventStepEnd.length; i++) {\n\t\t\t\tthis.eventStepEnd[i](this.currentTween[0]);\n\t\t\t}\n\t\t\tthis.currentTween = undefined;\n\t\t\tthis.sequenceIndex++;\n\n\t\t\tif (remainsDt > 0.01) {\n\t\t\t\tthis.Tick(remainsDt, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Complete\n\t\tif (!this.currentTween && this.tweens.length === this.sequenceIndex) {\n\t\t\tthis.loop--;\n\t\t\tif (this.loop === 0) {\n\t\t\t\tthis.Complete();\n\t\t\t} else {\n\t\t\t\tthis.ResetAndStart();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic Append(tween: ITween): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens.push([tween]);\n\t\treturn this;\n\t}\n\n\tpublic AppendCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.push([playable]);\n\t\treturn this;\n\t}\n\n\tpublic AppendInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.push([playable]);\n\t\treturn this;\n\t}\n\n\tpublic Prepend(tween: ITween): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens.unshift([tween]);\n\t\treturn this;\n\t}\n\n\tpublic PrependCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic PrependInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant kill this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\t\tfor (let tweenArray of this.tweens) {\n\t\t\tfor (let tween of tweenArray) {\n\t\t\t\tif (tween.IsKilled() || tween.IsCompleted()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttween.Kill();\n\t\t\t}\n\t\t}\n\t\tsuper.Kill();\n\t}\n\n\tpublic Join(tween: ITween): ISequence {\n\t\tif (this.tweens.length === 0) {\n\t\t\treturn this.Append(tween);\n\t\t}\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\n\t\treturn this;\n\t}\n\n\tpublic SetTimescale(scale: number): ISequence {\n\t\tthis.timescale = scale;\n\t\treturn this;\n\t}\n\n\tpublic SetLoop(loop: number): ISequence {\n\t\tthis.loop = Math.round(loop);\n\t\treturn this;\n\t}\n\n\tpublic Default() {\n\t\tsuper.Default();\n\t\tthis.eventTick = [];\n\t\tthis.eventStepStart = [];\n\t\tthis.eventStepEnd = [];\n\t\tthis.tweens = [];\n\t\tthis.currentTween = undefined;\n\t\tthis.sequenceIndex = 0;\n\t\tthis.cleanTweens = [];\n\t}\n\n\tpublic Cleanup() {\n\t\tif (!this.parent) {\n\t\t\treturn;\n\t\t}\n\t\tthis.cleanTweens.push(this);\n\t\tthis.parent.Clean(this.cleanTweens);\n\t}\n\n\tpublic Clean(data: (ITween | ISequence)[]) {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tthis.cleanTweens.push(data[i]);\n\t\t}\n\t}\n\n\tpublic OnStart(cb: () => void): ISequence {\n\t\tsuper.OnStart(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ISequence {\n\t\tsuper.OnUpdate(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnKilled(cb: () => void): ISequence {\n\t\tsuper.OnKilled(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnComplete(cb: () => void): ISequence {\n\t\tsuper.OnComplete(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tthis.eventStepStart.push(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tthis.eventStepEnd.push(cb);\n\t\treturn this;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/sequence.ts","import { ITicker } from '../core/interfaces/ITicker';\r\nimport { State } from '../core/enum/state';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport abstract class BaseTween {\r\n\tpublic elapsed = 0;\r\n\tpublic duration = 0;\r\n\tpublic timescale = 1;\r\n\tprotected loop = 1;\r\n\r\n\tpublic abstract get Type(): TweenType;\r\n\r\n\tpublic get Elapsed() {\r\n\t\treturn this.elapsed;\r\n\t}\r\n\tpublic get Duration() {\r\n\t\treturn this.duration;\r\n\t}\r\n\r\n\tprotected parent: ITicker;\r\n\tprotected tickCb: (dt: number) => void;\r\n\tprotected state: State = State.Idle;\r\n\r\n\tprivate eventStart: {(): void}[] = [];\r\n\tprivate eventUpdate: {(dt: number, progress: number): void}[] = [];\r\n\tprivate eventKill: {(): void}[] = [];\r\n\tprivate eventComplete: {(): void}[] = [];\r\n\tprivate firstStart = true;\r\n\r\n\tprotected abstract Validate(): void;\r\n\tprotected abstract LoopInit(): void;\r\n\r\n\tpublic SetParent(ticker: ITicker): void {\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\t\tthis.parent = ticker;\r\n\t}\r\n\r\n\tpublic IsRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic IsCompleted(): boolean {\r\n\t\treturn this.state === State.Finished;\r\n\t}\r\n\r\n\tpublic IsKilled(): boolean {\r\n\t\treturn this.state === State.Killed;\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\tif (this.state !== State.Idle) {\r\n\t\t\tconsole.warn('cant start this tween, already in state', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.firstStart) {\r\n\t\t\tthis.Validate();\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tthis.parent.AddTickListener(this.tickCb);\r\n\r\n\t\tif (this.firstStart) {\r\n\t\t\tthis.Started();\r\n\t\t\tthis.firstStart = false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(resetloop?: boolean): void {\r\n\t\tthis.state = State.Idle;\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\r\n\t\tif (resetloop === true) {\r\n\t\t\tthis.loop = 1;\r\n\t\t}\r\n\r\n\t\tthis.LoopInit();\r\n\t}\r\n\r\n\tpublic ResetAndStart(resetloop?: boolean) {\r\n\t\tif (resetloop === true) {\r\n\t\t\tthis.loop = 1;\r\n\t\t}\r\n\r\n\t\tthis.LoopInit();\r\n\r\n\t\tthis.state = State.Run;\r\n\t}\r\n\r\n\tpublic Pause(): void {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\tconsole.warn('cant pause this tween, already in state', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Pause;\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Resume(): void {\r\n\t\tif (this.state !== State.Pause) {\r\n\t\t\tconsole.warn('cant resume this tween, already in state', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tthis.parent.AddTickListener(this.tickCb);\r\n\t}\r\n\r\n\tpublic Kill(): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\tconsole.warn('cant kill this tween, already in state', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\r\n\t\tthis.state = State.Killed\r\n\t\tthis.Killed();\r\n\t\tthis.Cleanup();\r\n\t}\r\n\r\n\tprotected abstract Cleanup(): void;\r\n\r\n\tpublic Default() {\r\n\t\tthis.elapsed = 0;\r\n\t\tthis.duration = 0;\r\n\t\tthis.timescale = 1;\r\n\t\tthis.loop = 1;\r\n\t\tthis.eventStart = [];\r\n\t\tthis.eventUpdate = [];\r\n\t\tthis.eventKill = [];\r\n\t\tthis.eventComplete = [];\r\n\t\tthis.firstStart = true;\r\n\t\tthis.state = State.Idle;\r\n\t}\r\n\r\n\tprotected Complete(): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\tconsole.warn('cant complete this tween, already in state', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\r\n\t\tthis.state = State.Finished;\r\n\t\tthis.Completed();\r\n\t\tthis.Cleanup();\r\n\t}\r\n\r\n\tprotected Started() {\r\n\t\tfor (let i = 0; i < this.eventStart.length; i++) {\r\n\t\t\tthis.eventStart[i]();\r\n\t\t}\r\n\t\tthis.eventStart = [];\r\n\t}\r\n\r\n\tprotected Updated(dt: number, progress: number) {\r\n\t\tfor (let i = 0; i < this.eventUpdate.length; i++) {\r\n\t\t\tthis.eventUpdate[i](dt, progress);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected Killed() {\r\n\t\tfor (let i = 0; i < this.eventKill.length; i++) {\r\n\t\t\tthis.eventKill[i]();\r\n\t\t}\r\n\t\tthis.eventKill = [];\r\n\t}\r\n\r\n\tprotected Completed() {\r\n\t\tfor (let i = 0; i < this.eventComplete.length; i++) {\r\n\t\t\tthis.eventComplete[i]();\r\n\t\t}\r\n\t\tthis.eventComplete = [];\r\n\t}\r\n\r\n\tpublic OnStart(cb: () => void): void {\r\n\t\tthis.eventStart.push(cb);\r\n\t}\r\n\r\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): void {\r\n\t\tthis.eventUpdate.push(cb);\r\n\t}\r\n\r\n\tpublic OnKilled(cb: () => void): void {\r\n\t\tthis.eventKill.push(cb);\r\n\t}\r\n\r\n\tpublic OnComplete(cb: () => void): void {\r\n\t\tthis.eventComplete.push(cb);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/baseTween.ts","export enum State {\r\n\tIdle,\r\n\tRun,\r\n\tPause,\r\n\tFinished,\r\n\tKilled\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/state.ts","import { BaseTween } from './baseTween';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport class Callback extends BaseTween implements IPlayable {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Callback;\r\n\t}\r\n\r\n\tconstructor(cb: () => void) {\r\n\t\tsuper();\r\n\t\tthis.tickCb = (dt: number) => {\r\n\t\t\tthis.elapsed += dt;\r\n\t\t\tthis.duration = 0;\r\n\r\n\t\t\tcb();\r\n\r\n\t\t\tthis.Updated(dt, 1);\r\n\t\t\tthis.Complete();\r\n\t\t};\r\n\t}\r\n\r\n\tprotected Validate() {}\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tprotected Cleanup(): void {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/callback.ts","export enum TweenType {\r\n\tTicker,\r\n\tSequence,\r\n\tTween,\r\n\tCallback,\r\n\tDelay,\r\n\tNone\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/tweenType.ts","import { BaseTween } from './baseTween';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport class Delay extends BaseTween implements IPlayable {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Delay;\r\n\t}\r\n\r\n\tconstructor(duration: number) {\r\n\t\tsuper();\r\n\t\tthis.duration = duration;\r\n\t\tthis.tickCb = (dt: number) => {\r\n\t\t\tthis.elapsed += dt;\r\n\r\n\t\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tsuper.Updated(dt, progress);\r\n\r\n\t\t\tif (this.elapsed >= this.duration) {\r\n\t\t\t\tthis.Complete();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprotected Validate() {}\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tprotected Cleanup(): void {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/delay.ts","import { ITicker } from './core/interfaces/ITicker';\r\nimport { State } from './core/enum/state';\r\nimport { TweenType } from './core/enum/tweenType';\r\nimport { ITween } from './core/interfaces/ITween';\r\nimport { ISequence } from './core/interfaces/ISequence';\r\n\r\nexport class Ticker implements ITicker {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Ticker;\r\n\t}\r\n\r\n\tprivate state = State.Idle;\r\n\tprivate timescale = 1;\r\n\tprivate elapsed = 0;\r\n\tprivate eventTick: { (dt: number): void }[] = [];\r\n\tprivate cleanTweens: (ITween | ISequence)[] = [];\r\n\r\n\tpublic GetCleanTweens(): (ITween | ISequence)[] {\r\n\t\tlet val = this.cleanTweens;\r\n\t\tthis.cleanTweens = [];\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic get Elapsed(): number {\r\n\t\treturn this.elapsed;\r\n\t}\r\n\r\n\tpublic get Duration(): number {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tpublic AddTickListener(cb: (dt: number) => void): void {\r\n\t\tthis.eventTick.unshift(cb);\r\n\t}\r\n\r\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\r\n\t\tlet index = this.eventTick.indexOf(cb);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.eventTick.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Tick(dt: number) {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet localDt = dt * this.timescale;\r\n\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t\t\tthis.eventTick[i](localDt);\r\n\t\t}\r\n\t\tthis.elapsed += localDt;\r\n\t}\r\n\r\n\tpublic IsCompleted(): boolean {\r\n\t\treturn this.state === State.Finished;\r\n\t}\r\n\r\n\tpublic IsRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic IsKilled(): boolean {\r\n\t\treturn this.state === State.Killed;\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\tif (this.state !== State.Idle) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.state = State.Run;\r\n\t}\r\n\r\n\tpublic Pause(): void {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.state = State.Pause;\r\n\t}\r\n\r\n\tpublic Resume(): void {\r\n\t\tif (this.state !== State.Pause) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.state = State.Run;\r\n\t}\r\n\r\n\tpublic Kill(): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.state = State.Killed;\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.state = State.Idle;\r\n\t}\r\n\r\n\tpublic Clean(data: (ITween | ISequence)[]): void {\r\n\t\tfor (let obj of data) {\r\n\t\t\tthis.cleanTweens.push(obj);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/ticker.ts","import { ITween } from './core/interfaces/ITween';\nimport { Tween } from './tweens/tween';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { Sequence } from './tweens/sequence';\n\nexport class Pooling {\n\tprivate tweens: ITween[] = [];\n\tprivate sequences: ISequence[] = [];\n\tprivate created = 0;\n\tprivate poped = 0;\n\tprivate pushed = 0;\n\n\tconstructor(size: number) {\n\t\tfor (let i = 0; i < size; i ++) {\n\t\t\tthis.CreateTween();\n\t\t}\n\t\tfor (let i = 0; i < size / 4; i ++) {\n\t\t\tthis.CreateTween();\n\t\t}\n\t}\n\n\tprivate CreateTween(): ITween {\n\t\tthis.created ++;\n\t\treturn new Tween(null, []);\n\t}\n\n\tpublic PopTween(): ITween {\n\t\tif (this.tweens.length === 0) {\n\t\t\tthis.tweens.push(this.CreateTween());\n\t\t}\n\t\tthis.poped ++;\n\t\t// console.log('[Pooling] create:', this.created, ' | pop:', this.poped, ' | push:', this.pushed);\n\t\treturn this.tweens.pop() as ITween;\n\t}\n\n\tpublic PushTween(tween: ITween) {\n\t\tif (tween === undefined) {\n\t\t\treturn;\n\t\t}\n\t\ttween.Default();\n\t\tthis.pushed ++;\n\t\tthis.tweens.push(tween);\n\t}\n\n\tprivate CreateSequence(): ISequence {\n\t\tthis.created ++;\n\t\treturn new Sequence();\n\t}\n\n\tpublic PopSequence(): ISequence {\n\t\tif (this.sequences.length === 0) {\n\t\t\tthis.sequences.push(this.CreateSequence());\n\t\t}\n\t\tthis.poped ++;\n\t\t// console.log('[Pooling] create:', this.created, ' | pop:', this.poped, ' | push:', this.pushed);\n\t\treturn this.sequences.pop() as ISequence;\n\t}\n\n\tpublic PushSequence(sequence: ISequence) {\n\t\tif (sequence === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tsequence.Default();\n\t\tthis.pushed ++;\n\t\tthis.sequences.push(sequence);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/pooling.ts","\r\nimport { BaseTween } from './baseTween';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { ITicker } from '../core/interfaces/ITicker';\r\nimport { EasingType } from '../core/enum/easingType';\r\nimport { easeNames, easeTypes } from '../easing/easing';\r\nimport { Sequence } from './sequence';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport class Tween extends BaseTween implements ITween {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Tween;\r\n\t}\r\n\r\n\tprivate object: any;\r\n\tprivate properties: string[];\r\n\tprivate from: any;\r\n\tprivate to: any;\r\n\r\n\tprivate relative = false;\r\n\tprivate ease: (t: number, args?: any) => number;\r\n\r\n\tconstructor(object: any, properties: string[]) {\r\n\t\tsuper();\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\r\n\t\tthis.tickCb = (dt: number) => {\r\n\t\t\tlet localDt = dt * this.timescale;\r\n\t\t\tthis.elapsed += localDt;\r\n\r\n\t\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tthis.Update(localDt, progress);\r\n\r\n\t\t\tif (this.elapsed >= this.duration) {\r\n\t\t\t\tthis.loop--;\r\n\t\t\t\tif (this.loop === 0) {\r\n\t\t\t\t\tthis.Complete();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.ResetAndStart();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tpublic Init(object: any, properties: string[]) {\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\t}\r\n\r\n\tprotected Validate() {\r\n\t\t// Check object\r\n\t\tif (!this.object) {\r\n\t\t\tthrow new Error('Cant Tween a undefined object');\r\n\t\t}\r\n\r\n\t\tfor (let prop of this.properties) {\r\n\t\t\tif (!(prop in this.object)) {\r\n\t\t\t\tthrow new Error('Cant Tween an unknown property' + prop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant Start a tween without ticker');\r\n\t\t}\r\n\r\n\t\t// Easing\r\n\t\tif (!this.ease) {\r\n\t\t\tthis.ease = easeTypes[EasingType.Linear];\r\n\t\t}\r\n\r\n\t\t// From\r\n\t\tif (!this.from) {\r\n\t\t\tthis.from = {};\r\n\t\t\tfor (let prop of this.properties) {\r\n\t\t\t\tthis.from[prop] = this.object[prop];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (let prop of this.properties) {\r\n\t\t\t\tthis.object[prop] = this.from[prop];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Relative\r\n\t\tif (this.relative) {\r\n\t\t\tfor (let prop of this.properties) {\r\n\t\t\t\tthis.to[prop] = this.object[prop] + this.to[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\r\n\t\tif (this.from) {\r\n\t\t\tfor (let prop of this.properties) {\r\n\t\t\t\tthis.object[prop] = this.from[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Update(dt: number, progress: number) {\r\n\t\tlet val = this.ease(progress);\r\n\t\tfor (let prop of this.properties) {\r\n\t\t\tthis.object[prop] = this.from[prop] + (this.to[prop] - this.from[prop]) * val;\r\n\t\t}\r\n\t\tsuper.Updated(dt, progress);\r\n\t}\r\n\r\n\tpublic SetParent(ticker: ITicker): ITween {\r\n\t\tsuper.SetParent(ticker);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Cleanup() {\r\n\t\tif (!this.parent) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.parent.Clean([this]);\r\n\t}\r\n\r\n\tpublic Default() {\r\n\t\tsuper.Default();\r\n\t\tthis.object = undefined;\r\n\t\tthis.properties = [];\r\n\t\tthis.from = undefined;\r\n\t\tthis.to = undefined;\r\n\t\tthis.relative = false;\r\n\t\tthis.ease = easeTypes[0];\r\n\t}\r\n\r\n\tpublic From(from: any): ITween {\r\n\t\tthis.from = from;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic To(to: any, duration: number): ITween {\r\n\t\tthis.to = to;\r\n\t\tthis.duration = duration;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic SetLoop(loop: number): ITween {\r\n\t\tthis.loop = Math.round(loop);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic SetRelative(relative: boolean): ITween {\r\n\t\tthis.relative = relative;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic SetTimescale(scale: number): ITween {\r\n\t\tthis.timescale = scale;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic ToSequence(): ISequence {\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t\t}\r\n\t\treturn new Sequence().SetParent(this.parent).Append(this);\r\n\t}\r\n\r\n\tprivate Easing(type: EasingType | string, args: any): (t: number) => number {\r\n\t\tlet name = type as string;\r\n\t\tlet isNumber = !isNaN(parseFloat(name));\r\n\r\n\t\tif (isNumber) {\r\n\t\t\tlet index = parseInt(name, 10);\r\n\t\t\tif (index in easeTypes) {\r\n\t\t\t\treturn easeTypes[index];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (name in easeNames) {\r\n\t\t\treturn easeNames[name];\r\n\t\t}\r\n\r\n\t\tthrow new Error('Unknown ease method ' + type);\r\n\t}\r\n\r\n\tpublic SetEasing(type: EasingType | string, args: any): ITween {\r\n\t\tthis.ease = this.Easing(type, args)\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnStart(cb: () => void): ITween {\r\n\t\tsuper.OnStart(cb);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ITween {\r\n\t\tsuper.OnUpdate(cb);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnKilled(cb: () => void): ITween {\r\n\t\tsuper.OnKilled(cb);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnComplete(cb: () => void): ITween {\r\n\t\tsuper.OnComplete(cb);\r\n\t\treturn this;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/tween.ts","export enum EasingType {\r\n\tLinear,\r\n\tInQuad,\r\n\tOutQuad,\r\n\tInOutQuad,\r\n\tInCubic,\r\n\tOutCubic,\r\n\tInOutCubic,\r\n\tInQuart,\r\n\tOutQuart,\r\n\tInOutQuart,\r\n\tInSine,\r\n\tOutSine,\r\n\tInOutSine,\r\n\tInCirc,\r\n\tOutCirc,\r\n\tInOutCirc,\r\n\tInQuint,\r\n\tOutQuint,\r\n\tInOutQuint,\r\n\tInExponential,\r\n\tOutExponential,\r\n\tInOutExponential,\r\n\tInElastic,\r\n\tOutElastic,\r\n\tInOutElastic,\r\n\tInBack,\r\n\tOutBack,\r\n\tInOutBack,\r\n\tInBounce,\r\n\tOutBounce,\r\n\tInOutBounce\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/easingType.ts","import { EasingType } from '../core/enum/easingType';\r\n\r\n/**\r\n * List of easing method\r\n *\r\n * Mostly based on http://easings.net/\r\n */\r\nlet PI = Math.PI;\r\nlet PI_OVER_TWO = Math.PI / 2;\r\nlet BACK = 1.70158;\r\n\r\nlet easingByType: ((t: number, args?: any) => number)[] = [];\r\nlet easingByName: { [id: string]: (t: number, args?: any) => number } = {};\r\n\r\n// Linear\r\neasingByType[EasingType.Linear] = easingByName['linear'] = function (t: number): number {\r\n\treturn t;\r\n};\r\n\r\n// Quad\r\neasingByType[EasingType.InQuad] = easingByName['inQuad'] = function (t: number): number {\r\n\treturn t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuad] = easingByName['outQuad'] = function (t: number): number {\r\n\treturn 2 * t - t * t;\r\n};\r\n\r\neasingByType[EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 2 * t * t;\r\n\t} else {\r\n\t\treturn 2 * (2 * t - t * t) - 1;\r\n\t}\r\n};\r\n\r\n// Cubic\r\neasingByType[EasingType.InCubic] = easingByName['inCubic'] = function (t: number): number {\r\n\treturn t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutCubic] = easingByName['outCubic'] = function (t: number): number {\r\n\treturn 3 * t - 3 * t * t + t * t * t;\r\n};\r\n\r\neasingByType[EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 4 * t * t * t;\r\n\t} else {\r\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t}\r\n};\r\n\r\n// Quart\r\neasingByType[EasingType.InQuart] = easingByName['inQuart'] = function (t: number): number {\r\n\treturn t * t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuart] = easingByName['outQuart'] = function (t: number): number {\r\n\tlet t2 = t * t;\r\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\n\r\neasingByType[EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 8 * t * t * t * t;\r\n\t} else {\r\n\t\tlet t2 = t * t;\r\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t}\r\n};\r\n\r\n// Sine\r\neasingByType[EasingType.InSine] = easingByName['inSine'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByType[EasingType.OutSine] = easingByName['outSine'] = function (t: number): number {\r\n\treturn Math.sin(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByType[EasingType.InOutSine] = easingByName['inOutSine'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.cos(PI * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t}\r\n};\r\n\r\n// Circular\r\neasingByType[EasingType.InCirc] = easingByName['inCirc'] = function (t: number): number {\r\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\n\r\neasingByType[EasingType.OutCirc] = easingByName['outCirc'] = function (t: number): number {\r\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\n\r\neasingByType[EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t}\r\n};\r\n\r\n// Quint\r\neasingByType[EasingType.InQuint] = easingByName['inQuint'] = function (t: number): number {\r\n\treturn t * t * t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuint] = easingByName['outQuint'] = function (t: number): number {\r\n\treturn --t * t * t * t * t + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t: number): number {\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * t * t * t * t * t;\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\n\r\n// Exponential\r\neasingByType[EasingType.InExponential] = easingByName['inExponential'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\n\r\neasingByType[EasingType.OutExponential] = easingByName['outExponential'] = function (t: number): number {\r\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\r\n};\r\n\r\neasingByType[EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * Math.pow(1024, t - 1);\r\n\t}\r\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\r\n};\r\n\r\n// Elastic\r\neasingByType[EasingType.InElastic] = easingByName['inElastic'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\n\r\neasingByType[EasingType.OutElastic] = easingByName['outElastic'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t}\r\n\r\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\n// Back\r\neasingByType[EasingType.InBack] = easingByName['inBack'] = function (t: number): number {\r\n\tlet s = BACK;\r\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\r\n};\r\n\r\neasingByType[EasingType.OutBack] = easingByName['outBack'] = function (t: number): number {\r\n\tlet s = BACK;\r\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutBack] = easingByName['inOutBack'] = function (t: number): number {\r\n\tlet s = BACK * 1.525;\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\n\r\n// Bounce\r\neasingByType[EasingType.OutBounce] = easingByName['outBounce'] = function (t: number): number {\r\n\tif (t < (1 / 2.75)) {\r\n\t\treturn 7.5625 * t * t;\r\n\t} else if (t < (2 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t} else if (t < (2.5 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t} else {\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t}\r\n};\r\n\r\neasingByType[EasingType.InBounce] = easingByName['inBounce'] = function (t: number): number {\r\n\treturn 1 - easingByType[EasingType.OutBounce](1 - t);\r\n};\r\n\r\neasingByType[EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn easingByType[EasingType.InBounce](t * 2) * 0.5;\r\n\t}\r\n\treturn easingByType[EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n};\r\n\r\n// Export both array\r\nexport let easeTypes = easingByType;\r\nexport let easeNames = easingByName;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easing.ts"],"sourceRoot":""}