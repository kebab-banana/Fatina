{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///fatina.min.js","webpack:///webpack/bootstrap 750f8a7841c449699eb5?f585","webpack:///./src/fatina/index.ts?519f","webpack:///./src/fatina/tweens/sequence.ts?13df","webpack:///./src/fatina/tweens/baseTween.ts?af98","webpack:///./src/fatina/core/enum/state.ts?be58","webpack:///./src/fatina/tweens/callback.ts?1585","webpack:///./src/fatina/core/enum/tweenType.ts?79be","webpack:///./src/fatina/tweens/delay.ts?46ec","webpack:///./src/fatina/ticker.ts?1998","webpack:///./src/fatina/core/eventList.ts?0b7c","webpack:///./src/fatina/pooling/tweenPool.ts?1c58","webpack:///./src/fatina/tweens/tween.ts?44b5","webpack:///./src/fatina/core/enum/easingType.ts?a29b","webpack:///./src/fatina/easing/easing.ts?fa18","webpack:///./src/fatina/pooling/sequencePool.ts?cd2b"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Elapsed","tickerManager","Ticker","Init","disableAutoTick","poolSize","initialized","ticker_1","Start","lastFrame","requestFrame","updateLoop","tweenPooling","tweenPool_1","TweenPool","undefined","sequencePooling","sequencePool_1","SequencePool","SetTimescale","scale","Pause","Resume","Destroy","Kill","cancelFrame","Update","timestamp","toClean","GetCleanTweens","Tick","time","i","length","clean","Type","tweenType_1","TweenType","Tween","PushTween","Sequence","PushSequence","obj","properties","tween","PopTween","SetParent","sequence_1","dt","lastTime","isFirstUpdate","console","warn","Math","round","Object","defineProperty","value","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","hasOwnProperty","__","constructor","prototype","create","baseTween_1","callback_1","delay_1","state_1","_super","_this","eventTick","eventStepStart","eventStepEnd","tweens","sequenceIndex","cleanTweens","tickCb","state","State","Finished","Killed","localDt","timescale","elapsed","get","enumerable","configurable","currentTween","Validate","LoopInit","tweenArray","j","Reset","ticker","AddTickListener","cb","unshift","RemoveTickListener","index","indexOf","splice","remains","StepStarted","Updated","remainsDt","IsCompleted","first","Duration","StepEnded","loop","Complete","ResetAndStart","e","Append","AppendCallback","playable","Callback","AppendInterval","duration","Delay","Prepend","PrependCallback","PrependInterval","Skip","IsKilled","Join","push","SetLoop","Default","cleaned","Cleanup","parent","Clean","data","OnStart","OnUpdate","OnKilled","OnComplete","OnStepStart","OnStepEnd","BaseTween","Idle","eventStart","eventUpdate","eventKill","eventComplete","firstStart","IsRunning","Run","CheckPosition","Started","resetloop","dtRemains","Completed","progress","max","min","eventList_1","apply","arguments","update","eventToAdd","eventToRemove","clean1","clean2","ToClean","UpdateListener","Add","Remove","tick","node_next","Error","EventList","newNode","GetNode","last","Pop","node","log","node_list","node_previous","node_valid","Clear","nextNode","previous","next","list","tween_1","size","targetSize","CreateTween","shift","easingType_1","easing_1","object","relative","prop","currentTo","ease","easeTypes","EasingType","Linear","currentFrom","from","to","val","From","To","SetRelative","Modify","diff","updateTo","ToSequence","Easing","type","name","isNumber","isNaN","parseFloat","parseInt","easeNames","SetEasing","PI","PI_OVER_TWO","BACK","easingByType","easingByName","t","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","t2","InOutQuart","InSine","cos","OutSine","sin","InOutSine","InCirc","sqrt","pow","OutCirc","InOutCirc","InQuint","OutQuint","InOutQuint","InExponential","OutExponential","InOutExponential","InElastic","OutElastic","InOutElastic","InBack","s","OutBack","InOutBack","OutBounce","InBounce","InOutBounce","sequences","CreateSequence","PopSequence","sequence"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,YAAAH,GACA,gBAAAC,SACAA,QAAA,OAAAD,IAEAD,EAAA,OAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAAUL,EAAQD,EAASM,GAEhC,YEnCD,SAAAS,KACC,MAAOC,GAAcD,QAGtB,QAAAE,KACC,MAAOD,GAWR,QAAAE,GAAqBC,EAA2BC,GAC/C,OAAIC,IAICL,IACJA,EAAgB,GAAIM,GAAAL,OACpBD,EAAcO,SAGQ,mBAAb,SAA6BJ,IACtCK,EAAYC,EAAaC,IAG1BC,EAAe,GAAIC,GAAAC,UAAuBC,SAAbV,EAAyB,IAAMA,GAC5DW,EAAkB,GAAIC,GAAAC,aAA0BH,SAAbV,EAAyB,IAAMA,GAElEC,GAAc,GACP,GASR,QAAAa,GAA6BC,GAC5BnB,EAAckB,aAAaC,GAQ5B,QAAAC,KACCpB,EAAcoB,QAQf,QAAAC,KACCrB,EAAcqB,SAQf,QAAAC,KACKtB,GACHA,EAAcuB,OAGXf,GACHgB,EAAYhB,GAGbH,GAAc,EAWf,QAAAoB,GAAuBC,GACtB,GAAKrB,GAAgBL,EAArB,CAIA,GAAI2B,GAAU3B,EAAc4B,gBAE5B5B,GAAc6B,KAAKH,GACnB1C,EAAA8C,MAAQJ,CAER,KAAK,GAAIK,GAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAAK,CACxC,GAAIE,GAAQN,EAAQI,EAChBE,GAAMC,OAASC,EAAAC,UAAUC,MAC5B1B,EAAa2B,UAAUL,GACbA,EAAMC,OAASC,EAAAC,UAAUG,UACnCxB,EAAgByB,aAAaP,GAG/BN,EAAQK,OAAS,GAWlB,QAAAK,GAAsBI,EAAUC,GAC1BrC,GACJH,GAGD,IAAIyC,GAAQhC,EAAaiC,UAGzB,OAFAD,GAAMzC,KAAKuC,EAAKC,GAChBC,EAAME,UAAU7C,GACT2C,EASR,QAAAJ,KAIC,MAHKlC,IACJH,KAEM,GAAI4C,GAAAP,UAAWM,UAAU7C,GAajC,QAAAU,GAAoBgB,GACnB,GAAIqB,GAAKrB,EAAYsB,CACjBC,KACHF,EAAK,EACLE,GAAgB,GAIbF,EAAK,MACRG,QAAQC,KAAK,kDAAoDC,KAAKC,MAAMN,GAAM,0BAClFA,EAAK,KAGNtB,EAAOsB,GACPC,EAAWtB,EACXlB,EAAYC,EAAaC,GFpIzB4C,OAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GEzDvD,IASIxD,GACAW,EACAI,EAGAP,EAdJsC,EAAAxD,EAAA,GACAgB,EAAAhB,EAAA,GAIAsB,EAAAtB,EAAA,GACA0B,EAAA1B,EAAA,IACA6C,EAAA7C,EAAA,GAKIe,GAAc,EACd4C,GAAgB,EAEhBD,EAAW,CAGJhE,GAAA8C,KAAO,EAGlB9C,EAAAe,UAIAf,EAAAiB,SAYAjB,EAAAkB,OA2BAlB,EAAAkC,eASAlC,EAAAoC,QASApC,EAAAqC,SASArC,EAAAsC,UAoBAtC,EAAAyC,SA6BAzC,EAAAqD,QAiBArD,EAAAuD,UAUA,IAAI9B,GACAe,CACmB,oBAAb,UACTf,EAAegD,OAAOC,uBAA0BD,OAAeE,0BAA4BF,OAAOG,6BAAgCH,OAAeI,wBACjJrC,EAAciC,OAAOK,sBAAyBL,OAAeM,0BFOxD,SAAU9E,EAAQD,EAASM,GAEhC,YACA,IAAI0E,GAAa5E,MAAQA,KAAK4E,WAAc,WACxC,GAAIC,GAAgBX,OAAOY,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIxE,KAAKwE,GAAOA,EAAEC,eAAezE,KAAIuE,EAAEvE,GAAKwE,EAAExE,IACzE,OAAO,UAAUuE,EAAGC,GAEhB,QAASE,KAAOpF,KAAKqF,YAAcJ,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAahB,OAAOqB,OAAOL,IAAME,EAAGE,UAAYJ,EAAEI,UAAW,GAAIF,OAGvFlB,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GG/LvD,IAAAoB,GAAAtF,EAAA,GAKAuF,EAAAvF,EAAA,GACAwF,EAAAxF,EAAA,GACA6C,EAAA7C,EAAA,GACAyF,EAAAzF,EAAA,GAEAiD,EAAA,SAAAyC,GAkBC,QAAAzC,KAAA,GAAA0C,GACCD,EAAArF,KAAAP,OAAOA,IH0LA,OGxMA6F,GAAAC,aACAD,EAAAE,kBACAF,EAAAG,gBACAH,EAAAI,UAEAJ,EAAAK,cAAgB,EAChBL,EAAAM,eASPN,EAAKO,OAAS,SAACzC,GACd,GAAIkC,EAAKQ,QAAUV,EAAAW,MAAMC,UAAYV,EAAKQ,QAAUV,EAAAW,MAAME,OAA1D,CAGA,GAAIC,GAAU9C,EAAKkC,EAAKa,SACxBb,GAAKc,SAAWF,EAChBZ,EAAKpD,KAAKgE,KHmLGZ,EG+FhB,MA5S8BjB,GAAAzB,EAAAyC,GAC7B1B,OAAAC,eAAWhB,EAAAmC,UAAA,QH+MHsB,IG/MR,WACC,MAAO7D,GAAAC,UAAUG,UHiNV0D,YAAY,EACZC,cAAc,IGtMtB5C,OAAAC,eAAWhB,EAAAmC,UAAA,gBHyMHsB,IGzMR,WACC,MAAO5G,MAAK+G,cH2MLF,YAAY,EACZC,cAAc,IG7Lf3D,EAAAmC,UAAAnE,MAAP,WAEC,MADAyE,GAAAN,UAAMnE,MAAKZ,KAAAP,MACJA,MAGEmD,EAAAmC,UAAA0B,SAAV,aAGU7D,EAAAmC,UAAA2B,SAAV,WACCjH,KAAKkG,cAAgB,CACrB,KAAK,GAAIvD,GAAI,EAAGA,EAAI3C,KAAKiG,OAAOrD,OAAQD,IAEvC,IAAK,GADDuE,GAAalH,KAAKiG,OAAOtD,GACpBwE,EAAI,EAAGA,EAAID,EAAWtE,OAAQuE,IAAK,CAC3C,GAAI5D,GAAQ2D,EAAWC,EACtB5D,GAAoB6D,OAAM,KAKvBjE,EAAAmC,UAAA7B,UAAP,SAAiB4D,GAEhB,MADAzB,GAAAN,UAAM7B,UAASlD,KAAAP,KAACqH,GACTrH,MAGDmD,EAAAmC,UAAAgC,gBAAP,SAAuBC,GACtBvH,KAAK8F,UAAU0B,QAAQD,IAGjBpE,EAAAmC,UAAAmC,mBAAP,SAA0BF,GACzB,GAAIG,GAAQ1H,KAAK8F,UAAU6B,QAAQJ,EAC/BG,MAAU,GACb1H,KAAK8F,UAAU8B,OAAOF,EAAO,IAIvBvE,EAAAmC,UAAA7C,KAAR,SAAakB,EAAYkE,GAExB,IAAK7H,KAAK+G,eACT/G,KAAK+G,aAAe/G,KAAKiG,OAAOjG,KAAKkG,eACjClG,KAAK+G,cAAc,CACtB,IAAK,GAAIpE,GAAI,EAAGA,EAAI3C,KAAK+G,aAAanE,OAAQD,IAAK,CAClD,GAAIY,GAAQvD,KAAK+G,aAAapE,EAC9BY,GAAMpC,QAGPnB,KAAK8H,YAAY9H,KAAK+G,aAAa,IAIrC,GAAI/G,KAAK+G,aAAc,CAEtB,IAAK,GAAIpE,GAAI3C,KAAK8F,UAAUlD,OAAS,EAAGD,GAAK,EAAGA,IAC/C3C,KAAK8F,UAAUnD,GAAGgB,EAIfkE,MAAY,GACfjC,EAAAN,UAAMyC,QAAOxH,KAAAP,KAAC2D,EAAI,GAIpB,GAAIqE,GAAYrE,CAGhB,IAAI3D,KAAK+G,aAAc,CACtB,IAAK,GAAIpE,GAAI,EAAGA,EAAI3C,KAAK+G,aAAanE,OAAQD,IAC7C,IAAK3C,KAAK+G,aAAapE,GAAGsF,cACzB,MAIF,IAAIC,GAAQlI,KAAK+G,aAAa,EAO9B,IANAiB,EAAYE,EAAMvH,QAAUuH,EAAMC,SAElCnI,KAAKoI,UAAUpI,KAAK+G,aAAa,IACjC/G,KAAK+G,aAAerF,OACpB1B,KAAKkG,gBAED8B,EAAY,IAEf,WADAhI,MAAKyC,KAAKuF,GAAW,GAMlBhI,KAAK+G,cAAgB/G,KAAKiG,OAAOrD,SAAW5C,KAAKkG,gBACrDlG,KAAKqI,OACa,IAAdrI,KAAKqI,KACRrI,KAAKsI,WAELtI,KAAKuI,eAAc,EAAOP,KAKrB7E,EAAAmC,UAAAwC,YAAR,SAAoBvE,GACnB,IAAK,GAAIZ,GAAI,EAAGA,EAAI3C,KAAK+F,eAAenD,OAAQD,IAC/C,IACC3C,KAAK+F,eAAepD,GAAGY,GACtB,MAAOiF,GACR1E,QAAQC,KAAKyE,KAKRrF,EAAAmC,UAAA8C,UAAR,SAAkB7E,GACjB,IAAK,GAAIZ,GAAI,EAAGA,EAAI3C,KAAKgG,aAAapD,OAAQD,IAC7C,IACC3C,KAAKgG,aAAarD,GAAGY,GACpB,MAAOiF,GACR1E,QAAQC,KAAKyE,KAKTrF,EAAAmC,UAAAmD,OAAP,SAAclF,GAGb,MAFAA,GAAME,UAAUzD,MAChBA,KAAKiG,OAAOjG,KAAKiG,OAAOrD,SAAWW,GAC5BvD,MAGDmD,EAAAmC,UAAAoD,eAAP,SAAsBnB,GACrB,GAAIoB,GAAW,GAAIlD,GAAAmD,SAASrB,EAG5B,OAFAoB,GAASlF,UAAUzD,MACnBA,KAAKiG,OAAOjG,KAAKiG,OAAOrD,SAAW+F,GAC5B3I,MAGDmD,EAAAmC,UAAAuD,eAAP,SAAsBC,GACrB,GAAIH,GAAW,GAAIjD,GAAAqD,MAAMD,EAGzB,OAFAH,GAASlF,UAAUzD,MACnBA,KAAKiG,OAAOjG,KAAKiG,OAAOrD,SAAW+F,GAC5B3I,MAGDmD,EAAAmC,UAAA0D,QAAP,SAAezF,GAGd,MAFAA,GAAME,UAAUzD,MAChBA,KAAKiG,OAAOuB,SAASjE,IACdvD,MAGDmD,EAAAmC,UAAA2D,gBAAP,SAAuB1B,GACtB,GAAIoB,GAAW,GAAIlD,GAAAmD,SAASrB,EAG5B,OAFAoB,GAASlF,UAAUzD,MACnBA,KAAKiG,OAAOuB,SAASmB,IACd3I,MAGDmD,EAAAmC,UAAA4D,gBAAP,SAAuBJ,GACtB,GAAIH,GAAW,GAAIjD,GAAAqD,MAAMD,EAGzB,OAFAH,GAASlF,UAAUzD,MACnBA,KAAKiG,OAAOuB,SAASmB,IACd3I,MAGDmD,EAAAmC,UAAA6D,KAAP,WACC,GAAInJ,KAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,SAEvD,WADAzC,SAAQC,KAAK,yCAA0C/D,KAAKqG,MAG7D,KAAK,GAAI1D,GAAI,EAAGA,EAAI3C,KAAKiG,OAAOrD,OAAQD,IAEvC,IAAK,GADDuE,GAAalH,KAAKiG,OAAOtD,GACpBwE,EAAI,EAAGA,EAAID,EAAWtE,OAAQuE,IAAK,CAC3C,GAAI5D,GAAQ2D,EAAWC,EACnB5D,GAAM6F,YAAc7F,EAAM0E,gBAGR,IAAlB1E,EAAM5C,SACTX,KAAK8H,YAAYvE,GAElBA,EAAM4F,OACNnJ,KAAKoI,UAAU7E,IAGjBqC,EAAAN,UAAM6D,KAAI5I,KAAAP,OAGJmD,EAAAmC,UAAAnD,KAAP,WACC,GAAInC,KAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,SAEvD,WADAzC,SAAQC,KAAK,yCAA0C/D,KAAKqG,MAG7D,KAAK,GAAI1D,GAAI,EAAGA,EAAI3C,KAAKiG,OAAOrD,OAAQD,IAEvC,IAAK,GADDuE,GAAalH,KAAKiG,OAAOtD,GACpBwE,EAAI,EAAGA,EAAID,EAAWtE,OAAQuE,IAAK,CAC3C,GAAI5D,GAAQ2D,EAAWC,EACnB5D,GAAM6F,YAAc7F,EAAM0E,eAG9B1E,EAAMpB,OAGRyD,EAAAN,UAAMnD,KAAI5B,KAAAP,OAGJmD,EAAAmC,UAAA+D,KAAP,SAAY9F,GACX,MAA2B,KAAvBvD,KAAKiG,OAAOrD,OACR5C,KAAKyI,OAAOlF,IAEpBA,EAAME,UAAUzD,MAChBA,KAAKiG,OAAOjG,KAAKiG,OAAOrD,OAAS,GAAG0G,KAAK/F,GAClCvD,OAGDmD,EAAAmC,UAAAxD,aAAP,SAAoBC,GAEnB,MADA/B,MAAK0G,UAAY3E,EACV/B,MAGDmD,EAAAmC,UAAAiE,QAAP,SAAelB,GAEd,MADArI,MAAKqI,KAAOrE,KAAKC,MAAMoE,GAChBrI,MAGDmD,EAAAmC,UAAAkE,QAAP,WACC5D,EAAAN,UAAMkE,QAAOjJ,KAAAP,MACbA,KAAK8F,UAAUlD,OAAS,EACxB5C,KAAK+F,eAAenD,OAAS,EAC7B5C,KAAKgG,aAAapD,OAAS,EAC3B5C,KAAKiG,OAAOrD,OAAS,EACrB5C,KAAK+G,aAAerF,OACpB1B,KAAKkG,cAAgB,EACrBlG,KAAKmG,YAAYvD,OAAS,EAC1B5C,KAAKyJ,SAAU,GAGTtG,EAAAmC,UAAAoE,QAAP,WACM1J,KAAK2J,SAAU3J,KAAKyJ,UAGzBzJ,KAAKyJ,SAAU,EACfzJ,KAAKmG,YAAYnG,KAAKmG,YAAYvD,QAAU5C,KAC5CA,KAAK2J,OAAOC,MAAM5J,KAAKmG,eAGjBhD,EAAAmC,UAAAsE,MAAP,SAAaC,GACZ,IAAK,GAAIlH,GAAI,EAAGA,EAAIkH,EAAKjH,OAAQD,IAChC3C,KAAKmG,YAAYnG,KAAKmG,YAAYvD,QAAUiH,EAAKlH,IAI5CQ,EAAAmC,UAAAwE,QAAP,SAAevC,GAEd,MADA3B,GAAAN,UAAMwE,QAAOvJ,KAAAP,KAACuH,GACPvH,MAGDmD,EAAAmC,UAAAyE,SAAP,SAAgBxC,GAEf,MADA3B,GAAAN,UAAMyE,SAAQxJ,KAAAP,KAACuH,GACRvH,MAGDmD,EAAAmC,UAAA0E,SAAP,SAAgBzC,GAEf,MADA3B,GAAAN,UAAM0E,SAAQzJ,KAAAP,KAACuH,GACRvH,MAGDmD,EAAAmC,UAAA2E,WAAP,SAAkB1C,GAEjB,MADA3B,GAAAN,UAAM2E,WAAU1J,KAAAP,KAACuH,GACVvH,MAGDmD,EAAAmC,UAAA4E,YAAP,SAAmB3C,GAElB,MADAvH,MAAK+F,eAAe/F,KAAK+F,eAAenD,QAAU2E,EAC3CvH,MAGDmD,EAAAmC,UAAA6E,UAAP,SAAiB5C,GAEhB,MADAvH,MAAKgG,aAAahG,KAAKgG,aAAapD,QAAU2E,EACvCvH,MAETmD,GA5S8BqC,EAAA4E,UAAjBxK,GAAAuD,YH2cP,SAAUtD,EAAQD,EAASM,GAEhC,YACAgE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GIvdvD,IAAAuB,GAAAzF,EAAA,GAGAkK,EAAA,mBAAAA,KACQpK,KAAA2G,QAAU,EACV3G,KAAA8I,SAAW,EACX9I,KAAA0G,UAAY,EACT1G,KAAAqI,KAAO,EAaPrI,KAAAqG,MAAeV,EAAAW,MAAM+D,KAEvBrK,KAAAsK,cACAtK,KAAAuK,eACAvK,KAAAwK,aACAxK,KAAAyK,iBACAzK,KAAA0K,YAAa,EAqNtB,MApOCxG,QAAAC,eAAWiG,EAAA9E,UAAA,WJ4dHsB,II5dR,WACC,MAAO5G,MAAK2G,SJ8dLE,YAAY,EACZC,cAAc,II7dtB5C,OAAAC,eAAWiG,EAAA9E,UAAA,YJgeHsB,IIheR,WACC,MAAO5G,MAAK8I,UJkeLjC,YAAY,EACZC,cAAc,IIndfsD,EAAA9E,UAAA7B,UAAP,SAAiB4D,GACZrH,KAAK2J,QACR3J,KAAK2J,OAAOlC,mBAAmBzH,KAAKoG,QAErCpG,KAAK2J,OAAStC,GAGR+C,EAAA9E,UAAAqF,UAAP,WACC,MAAO3K,MAAKqG,QAAUV,EAAAW,MAAMsE,KAGtBR,EAAA9E,UAAA2C,YAAP,WACC,MAAOjI,MAAKqG,QAAUV,EAAAW,MAAMC,UAGtB6D,EAAA9E,UAAA8D,SAAP,WACC,MAAOpJ,MAAKqG,QAAUV,EAAAW,MAAME,QAGtB4D,EAAA9E,UAAAnE,MAAP,WACC,MAAInB,MAAKqG,QAAUV,EAAAW,MAAM+D,SACxBvG,SAAQC,KAAK,0CAA2C/D,KAAKqG,QAI1DrG,KAAK0K,WACR1K,KAAKgH,WAELhH,KAAK6K,gBAGN7K,KAAKqG,MAAQV,EAAAW,MAAMsE,IACnB5K,KAAK2J,OAAOrC,gBAAgBtH,KAAKoG,aAE7BpG,KAAK0K,aACR1K,KAAK8K,UACL9K,KAAK0K,YAAa,MAIbN,EAAA9E,UAAA8B,MAAP,SAAa2D,GACZ/K,KAAKqG,MAAQV,EAAAW,MAAM+D,KAEfrK,KAAK2J,QACR3J,KAAK2J,OAAOlC,mBAAmBzH,KAAKoG,QAGjC2E,KAAc,IACjB/K,KAAKqI,KAAO,GAGbrI,KAAKiH,YAGCmD,EAAA9E,UAAAiD,cAAP,SAAqBwC,EAAoBC,GACpCD,KAAc,IACjB/K,KAAKqI,KAAO,GAGbrI,KAAKiH,WAELjH,KAAKqG,MAAQV,EAAAW,MAAMsE,IACfI,EAAY,GACfhL,KAAKoG,OAAO4E,IAIPZ,EAAA9E,UAAA6D,KAAP,WACC,MAAInJ,MAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,aACvDzC,SAAQC,KAAK,yCAA0C/D,KAAKqG,QAIzDrG,KAAKqG,QAAUV,EAAAW,MAAM+D,MACxBrK,KAAK8K,UAGN9K,KAAK2G,QAAU3G,KAAK8I,aACpB9I,MAAKsI,aAGC8B,EAAA9E,UAAAtD,MAAP,WACC,MAAIhC,MAAKqG,QAAUV,EAAAW,MAAMsE,QACxB9G,SAAQC,KAAK,0CAA2C/D,KAAKqG,QAI9DrG,KAAKqG,MAAQV,EAAAW,MAAMtE,WACfhC,KAAK2J,QACR3J,KAAK2J,OAAOlC,mBAAmBzH,KAAKoG,WAI/BgE,EAAA9E,UAAArD,OAAP,WACC,MAAIjC,MAAKqG,QAAUV,EAAAW,MAAMtE,UACxB8B,SAAQC,KAAK,2CAA4C/D,KAAKqG,QAI/DrG,KAAKqG,MAAQV,EAAAW,MAAMsE,QACnB5K,MAAK2J,OAAOrC,gBAAgBtH,KAAKoG,UAG3BgE,EAAA9E,UAAAnD,KAAP,WACC,MAAInC,MAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,aACvDzC,SAAQC,KAAK,yCAA0C/D,KAAKqG,QAIzDrG,KAAK2J,QACR3J,KAAK2J,OAAOlC,mBAAmBzH,KAAKoG,QAGrCpG,KAAKqG,MAAQV,EAAAW,MAAME,OACnBxG,KAAKwG,aACLxG,MAAK0J,YAGIU,EAAA9E,UAAAuF,cAAV,aAIOT,EAAA9E,UAAAkE,QAAP,WACCxJ,KAAK2G,QAAU,EACf3G,KAAK8I,SAAW,EAChB9I,KAAK0G,UAAY,EACjB1G,KAAKqI,KAAO,EACZrI,KAAKsK,WAAW1H,OAAS,EACzB5C,KAAKuK,YAAY3H,OAAS,EAC1B5C,KAAKwK,UAAU5H,OAAS,EACxB5C,KAAKyK,cAAc7H,OAAS,EAC5B5C,KAAK0K,YAAa,EAClB1K,KAAKqG,MAAQV,EAAAW,MAAM+D,MAGVD,EAAA9E,UAAAgD,SAAV,WACC,MAAItI,MAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,aACvDzC,SAAQC,KAAK,6CAA8C/D,KAAKqG,QAI7DrG,KAAK2J,QACR3J,KAAK2J,OAAOlC,mBAAmBzH,KAAKoG,QAGrCpG,KAAKqG,MAAQV,EAAAW,MAAMC,SACnBvG,KAAKiL,gBACLjL,MAAK0J,YAGIU,EAAA9E,UAAAwF,QAAV,WACC,IAAK,GAAInI,GAAI,EAAGA,EAAI3C,KAAKsK,WAAW1H,OAAQD,IAC3C,IACC3C,KAAKsK,WAAW3H,KACf,MAAO6F,GACR1E,QAAQC,KAAKyE,GAGfxI,KAAKsK,WAAW1H,OAAS,GAGhBwH,EAAA9E,UAAAyC,QAAV,SAAkBpE,EAAYuH,GAC7B,IAAK,GAAIvI,GAAI,EAAGA,EAAI3C,KAAKuK,YAAY3H,OAAQD,IAC5C,IACC3C,KAAKuK,YAAY5H,GAAGgB,EAAIuH,GACvB,MAAO1C,GACR1E,QAAQC,KAAKyE,KAKN4B,EAAA9E,UAAAkB,OAAV,WACC,IAAK,GAAI7D,GAAI,EAAGA,EAAI3C,KAAKwK,UAAU5H,OAAQD,IAC1C,IACC3C,KAAKwK,UAAU7H,KACd,MAAO6F,GACR1E,QAAQC,KAAKyE,GAGfxI,KAAKwK,UAAU5H,OAAS,GAGfwH,EAAA9E,UAAA2F,UAAV,WACC,IAAK,GAAItI,GAAI,EAAGA,EAAI3C,KAAKyK,cAAc7H,OAAQD,IAC9C,IACC3C,KAAKyK,cAAc9H,KAClB,MAAO6F,GACR1E,QAAQC,KAAKyE,GAGfxI,KAAKyK,cAAc7H,OAAS,GAGtBwH,EAAA9E,UAAAwE,QAAP,SAAevC,GACdvH,KAAKsK,WAAWtK,KAAKsK,WAAW1H,QAAU2E,GAGpC6C,EAAA9E,UAAAyE,SAAP,SAAgBxC,GACfvH,KAAKuK,YAAYvK,KAAKuK,YAAY3H,QAAU2E,GAGtC6C,EAAA9E,UAAA0E,SAAP,SAAgBzC,GACfvH,KAAKwK,UAAUxK,KAAKwK,UAAU5H,QAAU2E,GAGlC6C,EAAA9E,UAAA2E,WAAP,SAAkB1C,GACjBvH,KAAKyK,cAAczK,KAAKyK,cAAc7H,QAAU2E,GAElD6C,IA5OsBxK,GAAAwK,aJsqBhB,SAAUvK,EAAQD,GAEvB,YACAsE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GK7qBvD,IAAYkC,IAAZ,SAAYA,GACXA,IAAA,eACAA,IAAA,aACAA,IAAA,iBACAA,IAAA,uBACAA,IAAA,oBALWA,EAAA1G,EAAA0G,QAAA1G,EAAA0G,YL0rBN,SAAUzG,EAAQD,EAASM,GAEhC,YACA,IAAI0E,GAAa5E,MAAQA,KAAK4E,WAAc,WACxC,GAAIC,GAAgBX,OAAOY,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIxE,KAAKwE,GAAOA,EAAEC,eAAezE,KAAIuE,EAAEvE,GAAKwE,EAAExE,IACzE,OAAO,UAAUuE,EAAGC,GAEhB,QAASE,KAAOpF,KAAKqF,YAAcJ,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAahB,OAAOqB,OAAOL,IAAME,EAAGE,UAAYJ,EAAEI,UAAW,GAAIF,OAGvFlB,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GMvsBvD,IAAAoB,GAAAtF,EAAA,GAEA6C,EAAA7C,EAAA,GAEA0I,EAAA,SAAAhD,GAKC,QAAAgD,GAAYrB,GAAZ,GAAA1B,GACCD,EAAArF,KAAAP,OAAOA,IN2sBA,OM1sBP6F,GAAKO,OAAS,SAACzC,GACdkC,EAAKc,SAAWhD,EAChBkC,EAAKiD,SAAW,EAEhBvB,IAEA1B,EAAKkC,QAAQpE,EAAI,GACjBkC,EAAKyC,YNmsBQzC,EMzrBhB,MAxB8BjB,GAAAgE,EAAAhD,GAC7B1B,OAAAC,eAAWyE,EAAAtD,UAAA,QNmtBHsB,IMntBR,WACC,MAAO7D,GAAAC,UAAU4F,UNqtBV/B,YAAY,EACZC,cAAc,IMtsBZ8B,EAAAtD,UAAA0B,SAAV,aACU4B,EAAAtD,UAAA2B,SAAV,WACCjH,KAAK2G,QAAU,GAGNiC,EAAAtD,UAAAoE,QAAV,aACDd,GAxB8BpD,EAAA4E,UAAjBxK,GAAAgJ,YNsuBP,SAAU/I,EAAQD,GAEvB,YACAsE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GO7uBvD,IAAYpB,IAAZ,SAAYA,GACXA,IAAA,mBACAA,IAAA,uBACAA,IAAA,iBACAA,IAAA,uBACAA,IAAA,iBACAA,IAAA,gBANWA,EAAApD,EAAAoD,YAAApD,EAAAoD,gBP2vBN,SAAUnD,EAAQD,EAASM,GAEhC,YACA,IAAI0E,GAAa5E,MAAQA,KAAK4E,WAAc,WACxC,GAAIC,GAAgBX,OAAOY,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIxE,KAAKwE,GAAOA,EAAEC,eAAezE,KAAIuE,EAAEvE,GAAKwE,EAAExE,IACzE,OAAO,UAAUuE,EAAGC,GAEhB,QAASE,KAAOpF,KAAKqF,YAAcJ,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAahB,OAAOqB,OAAOL,IAAME,EAAGE,UAAYJ,EAAEI,UAAW,GAAIF,OAGvFlB,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GQxwBvD,IAAAoB,GAAAtF,EAAA,GAEA6C,EAAA7C,EAAA,GAEA6I,EAAA,SAAAnD,GAKC,QAAAmD,GAAYD,GAAZ,GAAAjD,GACCD,EAAArF,KAAAP,OAAOA,IR8wBA,OQ7wBP6F,GAAKiD,SAAWA,EAChBjD,EAAKO,OAAS,SAACzC,GACdkC,EAAKc,SAAWhD,CAEhB,IAAIuH,GAAWlH,KAAKmH,IAAInH,KAAKoH,IAAIvF,EAAKc,QAAUd,EAAKiD,SAAU,GAAI,EACnElD,GAAAN,UAAMyC,QAAOxH,KAAAsF,EAAClC,EAAIuH,GAEdrF,EAAKc,SAAWd,EAAKiD,UACxBjD,EAAKyC,YRqwBOzC,EQ1vBhB,MA1B2BjB,GAAAmE,EAAAnD,GAC1B1B,OAAAC,eAAW4E,EAAAzD,UAAA,QRsxBHsB,IQtxBR,WACC,MAAO7D,GAAAC,UAAU+F,ORwxBVlC,YAAY,EACZC,cAAc,IQvwBZiC,EAAAzD,UAAA0B,SAAV,aACU+B,EAAAzD,UAAA2B,SAAV,WACCjH,KAAK2G,QAAU,GAGNoC,EAAAzD,UAAAoE,QAAV,aACDX,GA1B2BvD,EAAA4E,UAAdxK,GAAAmJ,SRyyBP,SAAUlJ,EAAQD,EAASM,GAEhC,YACA,IAAI0E,GAAa5E,MAAQA,KAAK4E,WAAc,WACxC,GAAIC,GAAgBX,OAAOY,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIxE,KAAKwE,GAAOA,EAAEC,eAAezE,KAAIuE,EAAEvE,GAAKwE,EAAExE,IACzE,OAAO,UAAUuE,EAAGC,GAEhB,QAASE,KAAOpF,KAAKqF,YAAcJ,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAahB,OAAOqB,OAAOL,IAAME,EAAGE,UAAYJ,EAAEI,UAAW,GAAIF,OAGvFlB,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GSzzBvD,IAAAuB,GAAAzF,EAAA,GACA6C,EAAA7C,EAAA,GAGAmL,EAAAnL,EAAA,GAWAW,EAAA,SAAA+E,GAAA,QAAA/E,KAAA,GAAAgF,GAAA,OAAAD,KAAA0F,MAAAtL,KAAAuL,YAAAvL,IT0zBS,OSrzBA6F,GAAAQ,MAAQV,EAAAW,MAAM+D,KACdxE,EAAAa,UAAY,EACZb,EAAAc,QAAU,EACVd,EAAA2F,OAAS,EACT3F,EAAA4F,cACA5F,EAAA6F,iBACA7F,EAAA8F,UACA9F,EAAA+F,UT8yBO/F,ESpoBhB,MAtL4BjB,GAAA/D,EAAA+E,GAC3B1B,OAAAC,eAAWtD,EAAAyE,UAAA,QT4zBHsB,IS5zBR,WACC,MAAO7D,GAAAC,UAAUnC,QT8zBVgG,YAAY,EACZC,cAAc,ISnzBfjG,EAAAyE,UAAAuG,QAAP,WACC,MAAO7L,MAAKwL,OAAS,IAAM,EAAIxL,KAAK2L,OAAS3L,KAAK4L,QAGnD1H,OAAAC,eAAWtD,EAAAyE,UAAA,WTqzBHsB,ISrzBR,WACC,MAAO5G,MAAK2G,STuzBLE,YAAY,EACZC,cAAc,ISrzBtB5C,OAAAC,eAAWtD,EAAAyE,UAAA,YTwzBHsB,ISxzBR,WACC,MAAO,IT0zBAC,YAAY,EACZC,cAAc,ISxzBfjG,EAAAyE,UAAA2C,YAAP,WACC,MAAOjI,MAAKqG,QAAUV,EAAAW,MAAMC,UAGtB1F,EAAAyE,UAAAqF,UAAP,WACC,MAAO3K,MAAKqG,QAAUV,EAAAW,MAAMsE,KAGtB/J,EAAAyE,UAAA8D,SAAP,WACC,MAAOpJ,MAAKqG,QAAUV,EAAAW,MAAME,QAUtB3F,EAAAyE,UAAAxD,aAAP,SAAoBC,GACnB/B,KAAK0G,UAAY3E,GAUXlB,EAAAyE,UAAAgC,gBAAP,SAAuBC,GACtBvH,KAAKyL,WAAWnC,KAAK/B,IAUf1G,EAAAyE,UAAAmC,mBAAP,SAA0BF,GACzBvH,KAAK0L,cAAcpC,KAAK/B,IAWjB1G,EAAAyE,UAAAwG,eAAR,WACC,GAAI9L,KAAKyL,WAAW7I,OAAS,EAAG,CAC/B,IAAK,GAAID,GAAI,EAAGA,EAAI3C,KAAKyL,WAAW7I,OAAQD,IAC3C3C,KAAK+L,IAAI/L,KAAKyL,WAAW9I,GAE1B3C,MAAKyL,cAGN,GAAIzL,KAAK0L,cAAc9I,OAAS,EAAG,CAClC,IAAK,GAAID,GAAI,EAAGA,EAAI3C,KAAK0L,cAAc9I,OAAQD,IAC9C3C,KAAKgM,OAAOhM,KAAK0L,cAAc/I,GAEhC3C,MAAK0L,mBAYA7K,EAAAyE,UAAA7C,KAAP,SAAYkB,GACX,GAAI3D,KAAKqG,QAAUV,EAAAW,MAAMsE,IAAzB,CAIA5K,KAAK8L,gBAGL,KAAK,GADDrF,GAAU9C,EAAK3D,KAAK0G,UACfuF,EAAYjM,KAAKkI,MAAO+D,EAAMA,EAAOA,EAAKC,UAClDD,EAAKxF,EAENzG,MAAK2G,SAAWF,EAChBzG,KAAKwL,SAELxL,KAAK8L,mBAGCjL,EAAAyE,UAAAnE,MAAP,WACKnB,KAAKqG,QAAUV,EAAAW,MAAM+D,OAGzBrK,KAAKqG,MAAQV,EAAAW,MAAMsE,MAGb/J,EAAAyE,UAAAtD,MAAP,WACKhC,KAAKqG,QAAUV,EAAAW,MAAMsE,MAGzB5K,KAAKqG,MAAQV,EAAAW,MAAMtE,QAGbnB,EAAAyE,UAAArD,OAAP,WACKjC,KAAKqG,QAAUV,EAAAW,MAAMtE,QAGzBhC,KAAKqG,MAAQV,EAAAW,MAAMsE,MAGb/J,EAAAyE,UAAAnD,KAAP,WACKnC,KAAKqG,QAAUV,EAAAW,MAAME,QAAUxG,KAAKqG,QAAUV,EAAAW,MAAMC,WAGxDvG,KAAKqG,MAAQV,EAAAW,MAAME,SAGb3F,EAAAyE,UAAA6D,KAAP,WACC,KAAM,IAAIgD,OAAM,sCAGVtL,EAAAyE,UAAA8B,MAAP,WACCpH,KAAKqG,MAAQV,EAAAW,MAAM+D,MAWbxJ,EAAAyE,UAAAsE,MAAP,SAAaC,GACZ,IAAK,GAAIlH,GAAI,EAAGA,EAAIkH,EAAKjH,OAAQD,IAAK,CACrC,GAAIU,GAAMwG,EAAKlH,EACX3C,MAAKwL,OAAS,IAAM,EACvBxL,KAAK2L,OAAOrC,KAAKjG,GAEjBrD,KAAK4L,OAAOtC,KAAKjG,KAKbxC,EAAAyE,UAAA9C,eAAP,WAEC,IAAK,GADDD,GAAUvC,KAAKwL,OAAS,IAAM,EAAIxL,KAAK2L,OAAS3L,KAAK4L,OAChDjJ,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IACnCJ,EAAQI,GAAG6G,SAEZ,OAAOjH,IAET1B,GAtL4BwK,EAAAe,UAAfxM,GAAAiB,UTw7BP,SAAUhB,EAAQD,GAEvB,YACAsE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GU38BvD,IAAAgI,GAAA,mBAAAA,KAGQpM,KAAA4C,OAAS,EAiFjB,MA/EQwJ,GAAA9G,UAAAyG,IAAP,SAAW1I,GACV,GAAIgJ,GAAUrM,KAAKsM,QAAQjJ,EAAKrD,KAAKuM,KAAM7K,OAAW1B,KACnC0B,UAAf1B,KAAKkI,OACRlI,KAAKkI,MAAQmE,EACbrM,KAAKuM,KAAOF,GACY3K,SAAd1B,KAAKuM,OACfvM,KAAKuM,KAAKL,UAAYG,EACtBrM,KAAKuM,KAAOF,GAEbrM,KAAK4C,QAAU,GAGTwJ,EAAA9G,UAAAkH,IAAP,WACC,GAAItE,GAAQlI,KAAKkI,KAEjB,OADAlI,MAAKgM,OAAO9D,GACLA,GAGDkE,EAAA9G,UAAA0G,OAAP,SAAc3I,GACb,GAAIoJ,GAAOpJ,CACX,OAAa3B,UAAT+K,MACH3I,SAAQ4I,IAAI,uDAITD,EAAKE,YAAc3M,OAMA0B,SAAnB+K,EAAKP,UACRlM,KAAKuM,KAAOE,EAAKG,cAEjBH,EAAKP,UAAUU,cAAgBH,EAAKG,cAGVlL,SAAvB+K,EAAKG,cACR5M,KAAKkI,MAAQuE,EAAKP,UAElBO,EAAKG,cAAcV,UAAYO,EAAKP,UAIrCO,EAAKI,YAAa,EAClBJ,EAAKG,cAAgBlL,OACrB+K,EAAKP,UAAYxK,OACjB+K,EAAKE,UAAYjL,OAGjB1B,KAAK4C,QAAU,KAGTwJ,EAAA9G,UAAAwH,MAAP,WAEC,IADA,GAAIL,GAAOzM,KAAKkI,MACAxG,SAAT+K,GAAoB,CAC1B,GAAIM,GAAWN,EAAKP,SACpBO,GAAKI,YAAa,EAClBJ,EAAKG,cAAgBlL,OACrB+K,EAAKP,UAAYxK,OACjB+K,EAAKE,UAAYjL,OACjB+K,EAAOM,EAGR/M,KAAKkI,MAAQxG,OACb1B,KAAKuM,KAAO7K,OACZ1B,KAAK4C,OAAS,GAGPwJ,EAAA9G,UAAAgH,QAAR,SAAgBjJ,EAAU2J,EAA6BC,EAAyBC,GAC/E,GAAIT,GAAOpJ,CAOX,OANKoJ,GAAKI,aACTJ,EAAKI,YAAa,EAClBJ,EAAKG,cAAgBI,EACrBP,EAAKP,UAAYe,EACjBR,EAAKE,UAAYO,GAEXT,GAETL,IApFsBxM,GAAAwM,aV2hChB,SAAUvM,EAAQD,EAASM,GAEhC,YACAgE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GW9hCvD,IAAA+I,GAAAjN,EAAA,IAGAuB,EAAA,WAIC,QAAAA,GAAY2L,GAFJpN,KAAAiG,UAGPjG,KAAKqN,WAAoB,EAAPD,CAClB,KAAK,GAAIzK,GAAI,EAAGA,EAAIyK,EAAMzK,IACzB3C,KAAK+L,IAAI/L,KAAKsN,eAoCjB,MAhCS7L,GAAA6D,UAAAyG,IAAR,SAAYxI,GACXvD,KAAKiG,OAAOqD,KAAK/F,IAGV9B,EAAA6D,UAAAkH,IAAR,WACC,MAAOxM,MAAKiG,OAAOsH,SAGZ9L,EAAA6D,UAAAgI,YAAR,WACC,MAAO,IAAIH,GAAAlK,MAAM,UAGXxB,EAAA6D,UAAA9B,SAAP,WACC,GAAID,GAAQvD,KAAKwM,KACjB,OAAc9K,UAAV6B,EACIvD,KAAKsN,eAEb/J,EAAMiG,UACCjG,IAGD9B,EAAA6D,UAAApC,UAAP,SAAiBK,GACF7B,SAAV6B,IAIAvD,KAAKiG,OAAOrD,OAAS5C,KAAKqN,aAG9B9J,EAAMiG,UACNxJ,KAAK+L,IAAIxI,MAEX9B,IA3Ca7B,GAAA6B,aXukCP,SAAU5B,EAAQD,EAASM,GAEhC,YACA,IAAI0E,GAAa5E,MAAQA,KAAK4E,WAAc,WACxC,GAAIC,GAAgBX,OAAOY,iBACpBC,uBAA2BC,QAAS,SAAUC,EAAGC,GAAKD,EAAEF,UAAYG,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIxE,KAAKwE,GAAOA,EAAEC,eAAezE,KAAIuE,EAAEvE,GAAKwE,EAAExE,IACzE,OAAO,UAAUuE,EAAGC,GAEhB,QAASE,KAAOpF,KAAKqF,YAAcJ,EADnCJ,EAAcI,EAAGC,GAEjBD,EAAEK,UAAkB,OAANJ,EAAahB,OAAOqB,OAAOL,IAAME,EAAGE,UAAYJ,EAAEI,UAAW,GAAIF,OAGvFlB,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GYtlCvD,IAAAoB,GAAAtF,EAAA,GAGAsN,EAAAtN,EAAA,IACAuN,EAAAvN,EAAA,IACAwD,EAAAxD,EAAA,GAEA6C,EAAA7C,EAAA,GACAyF,EAAAzF,EAAA,GAWA+C,EAAA,SAAA2C,GAoBC,QAAA3C,GAAYyK,EAAapK,GAAzB,GAAAuC,GACCD,EAAArF,KAAAP,OAAOA,IZmlCA,OYvlCA6F,GAAA8H,UAAW,EAMlB9H,EAAK6H,OAASA,EACd7H,EAAKvC,WAAaA,EAElBuC,EAAKO,OAAS,SAACzC,GACd,GAAIkC,EAAKQ,QAAUV,EAAAW,MAAMC,UAAYV,EAAKQ,QAAUV,EAAAW,MAAME,OAA1D,CAGA,GAAIC,GAAU9C,EAAKkC,EAAKa,SACxBb,GAAKc,SAAWF,CAEhB,IAAIyE,GAAWlH,KAAKmH,IAAInH,KAAKoH,IAAIvF,EAAKc,QAAUd,EAAKiD,SAAU,GAAI,EAGnE,IAFAjD,EAAKxD,OAAOoE,EAASyE,GAEjBrF,EAAKc,SAAWd,EAAKiD,SAExB,GADAjD,EAAKwC,OACa,IAAdxC,EAAKwC,KAAY,CACpB,IAAK,GAAI1F,GAAI,EAAGA,EAAIkD,EAAKvC,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO/H,EAAKvC,WAAWX,EAC3BkD,GAAK6H,OAAOE,GAAQ/H,EAAKgI,UAAUD,GAEpC/H,EAAKyC,eAELzC,GAAKgF,gBACLhF,EAAK0C,eAAc,EAAO1C,EAAKc,QAAUd,EAAKiD,YZ0jCnCjD,EYhvBhB,MAxX2BjB,GAAA3B,EAAA2C,GAC1B1B,OAAAC,eAAWlB,EAAAqC,UAAA,QZ0mCHsB,IY1mCR,WACC,MAAO7D,GAAAC,UAAUC,OZ4mCV4D,YAAY,EACZC,cAAc,IY1mCtB5C,OAAAC,eAAWlB,EAAAqC,UAAA,UZ6mCHsB,IY7mCR,WACC,MAAO5G,MAAK0N,QZ+mCL7G,YAAY,EACZC,cAAc,IY1jCf7D,EAAAqC,UAAAxE,KAAP,SAAY4M,EAAapK,GACxBtD,KAAK0N,OAASA,EACd1N,KAAKsD,WAAaA,GAUZL,EAAAqC,UAAAnE,MAAP,WAEC,MADAyE,GAAAN,UAAMnE,MAAKZ,KAAAP,MACJA,MAUEiD,EAAAqC,UAAA0B,SAAV,WAEC,IAAKhH,KAAK0N,OACT,KAAM,IAAIvB,OAAM,gCAIjB,KAAK,GAAIxJ,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B,MAAMiL,IAAQ5N,MAAK0N,QAClB,KAAM,IAAIvB,OAAM,iCAAmCyB,GAKrD,IAAK5N,KAAK2J,OACT,KAAM,IAAIwC,OAAM,oCAIZnM,MAAK8N,OACT9N,KAAK8N,KAAOL,EAAAM,UAAUP,EAAAQ,WAAWC,SAGlCjO,KAAK6K,iBAGI5H,EAAAqC,UAAAuF,cAAV,WAKC,GAJA7K,KAAKkO,eACLlO,KAAK6N,aAGA7N,KAAKmO,KAMT,IAAK,GAAIxL,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B3C,MAAKkO,YAAYN,GAAQ5N,KAAKmO,KAAKP,GACnC5N,KAAK0N,OAAOE,GAAQ5N,KAAKmO,KAAKP,OAR/B,KAAK,GAAIjL,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B3C,MAAKkO,YAAYN,GAAQ5N,KAAK0N,OAAOE,GAWvC,GAAI5N,KAAK2N,SACR,IAAK,GAAIhL,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B3C,MAAK6N,UAAUD,GAAQ5N,KAAK0N,OAAOE,GAAQ5N,KAAKoO,GAAGR,OAGpD,KAAK,GAAIjL,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B3C,MAAK6N,UAAUD,GAAQ5N,KAAKoO,GAAGR,KAc1B3K,EAAAqC,UAAAjD,OAAR,SAAesB,EAAYuH,GAE1B,IAAK,GADDmD,GAAMrO,KAAK8N,KAAK5C,GACXvI,EAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EAC3B3C,MAAK0N,OAAOE,GAAQ5N,KAAKkO,YAAYN,IAAS5N,KAAK6N,UAAUD,GAAQ5N,KAAKkO,YAAYN,IAASS,EAEhGzI,EAAAN,UAAMyC,QAAOxH,KAAAP,KAAC2D,EAAIuH,IAYZjI,EAAAqC,UAAA7B,UAAP,SAAiB4D,GAEhB,MADAzB,GAAAN,UAAM7B,UAASlD,KAAAP,KAACqH,GACTrH,MAWDiD,EAAAqC,UAAAgJ,KAAP,SAAYH,GAEX,MADAnO,MAAKmO,KAAOA,EACLnO,MAYDiD,EAAAqC,UAAAiJ,GAAP,SAAUH,EAAStF,GAGlB,MAFA9I,MAAKoO,GAAKA,EACVpO,KAAK8I,SAAWA,EACT9I,MAYDiD,EAAAqC,UAAAiE,QAAP,SAAelB,GAEd,MADArI,MAAKqI,KAAOrE,KAAKC,MAAMoE,GAChBrI,MAWDiD,EAAAqC,UAAAkJ,YAAP,SAAmBb,GAElB,MADA3N,MAAK2N,SAAWA,EACT3N,MAWDiD,EAAAqC,UAAAxD,aAAP,SAAoBC,GAEnB,MADA/B,MAAK0G,UAAY3E,EACV/B,MAWDiD,EAAAqC,UAAAmJ,OAAP,SAAcC,EAAWC,GACxB,IAAK,GAAIhM,GAAI,EAAGA,EAAI3C,KAAKsD,WAAWV,OAAQD,IAAK,CAChD,GAAIiL,GAAO5N,KAAKsD,WAAWX,EACtB+L,GAAKvJ,eAAeyI,KAGzB5N,KAAK0N,OAAOE,IAASc,EAAKd,GACtBe,EACH3O,KAAK6N,UAAUD,IAASc,EAAKd,GAE7B5N,KAAKkO,YAAYN,IAASc,EAAKd,MAa3B3K,EAAAqC,UAAAsJ,WAAP,WACC,IAAK5O,KAAK2J,OACT,KAAM,IAAIwC,OAAM,wDAEjB,QAAO,GAAIzI,GAAAP,UAAWM,UAAUzD,KAAK2J,QAAQlB,OAAOzI,OAG7CiD,EAAAqC,UAAAuJ,OAAR,SAAeC,GACd,GAAIC,GAAOD,EACPE,GAAYC,MAAMC,WAAWH,GAEjC,IAAIC,EAAU,CACb,GAAItH,GAAQyH,SAASJ,EAAM,GAC3B,IAAIrH,IAAS+F,GAAAM,UACZ,MAAON,GAAAM,UAAUrG,GAInB,GAAIqH,IAAQtB,GAAA2B,UACX,MAAO3B,GAAA2B,UAAUL,EAGlB,MAAM,IAAI5C,OAAM,uBAAyB2C,IAWnC7L,EAAAqC,UAAA+J,UAAP,SAAiBP,GAEhB,MADA9O,MAAK8N,KAAO9N,KAAK6O,OAAOC,GACjB9O,MAUEiD,EAAAqC,UAAA2B,SAAV,WACCjH,KAAK2G,QAAU,GAUT1D,EAAAqC,UAAAoE,QAAP,WACM1J,KAAK2J,SAAU3J,KAAKyJ,UAGzBzJ,KAAKyJ,SAAU,EACfzJ,KAAK2J,OAAOC,OAAO5J,SASbiD,EAAAqC,UAAAkE,QAAP,WACC5D,EAAAN,UAAMkE,QAAOjJ,KAAAP,MACbA,KAAK0N,OAAShM,OACd1B,KAAKsD,WAAWV,OAAS,EACzB5C,KAAKmO,KAAOzM,OACZ1B,KAAKoO,GAAK1M,OACV1B,KAAKkO,YAAcxM,OACnB1B,KAAK6N,UAAYnM,OACjB1B,KAAK2N,UAAW,EAChB3N,KAAK8N,KAAOL,EAAAM,UAAU,GACtB/N,KAAKyJ,SAAU,GAGTxG,EAAAqC,UAAAwE,QAAP,SAAevC,GAEd,MADA3B,GAAAN,UAAMwE,QAAOvJ,KAAAP,KAACuH,GACPvH,MAGDiD,EAAAqC,UAAAyE,SAAP,SAAgBxC,GAEf,MADA3B,GAAAN,UAAMyE,SAAQxJ,KAAAP,KAACuH,GACRvH,MAGDiD,EAAAqC,UAAA0E,SAAP,SAAgBzC,GAEf,MADA3B,GAAAN,UAAM0E,SAAQzJ,KAAAP,KAACuH,GACRvH,MAGDiD,EAAAqC,UAAA2E,WAAP,SAAkB1C,GAEjB,MADA3B,GAAAN,UAAM2E,WAAU1J,KAAAP,KAACuH,GACVvH,MAETiD,GAxX2BuC,EAAA4E,UAAdxK,GAAAqD,SZoyCP,SAAUpD,EAAQD,GAEvB,YACAsE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,Ga3zCvD,IAAY4J,IAAZ,SAAYA,GACXA,IAAA,mBACAA,IAAA,mBACAA,IAAA,qBACAA,IAAA,yBACAA,IAAA,qBACAA,IAAA,uBACAA,IAAA,2BACAA,IAAA,qBACAA,IAAA,uBACAA,IAAA,2BACAA,IAAA,oBACAA,IAAA,sBACAA,IAAA,0BACAA,IAAA,oBACAA,IAAA,sBACAA,IAAA,0BACAA,IAAA,sBACAA,IAAA,wBACAA,IAAA,4BACAA,IAAA,kCACAA,IAAA,oCACAA,IAAA,wCACAA,IAAA,0BACAA,IAAA,4BACAA,IAAA,gCACAA,IAAA,oBACAA,IAAA,sBACAA,IAAA,0BACAA,IAAA,wBACAA,IAAA,0BACAA,IAAA,+BA/BWA,EAAApO,EAAAoO,aAAApO,EAAAoO,iBbk2CN,SAAUnO,EAAQD,EAASM,GAEhC,YACAgE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,Gcr2CvD,IAAAoJ,GAAAtN,EAAA,IAOIoP,EAAKtL,KAAKsL,GACVC,EAAcvL,KAAKsL,GAAK,EACxBE,EAAO,QAEPC,KACAC,IAGJD,GAAajC,EAAAQ,WAAWC,QAAUyB,EAAqB,OAAI,SAAUC,GACpE,MAAOA,IAIRF,EAAajC,EAAAQ,WAAW4B,QAAUF,EAAqB,OAAI,SAAUC,GACpE,MAAOA,GAAIA,GAGZF,EAAajC,EAAAQ,WAAW6B,SAAWH,EAAsB,QAAI,SAAUC,GACtE,MAAO,GAAIA,EAAIA,EAAIA,GAGpBF,EAAajC,EAAAQ,WAAW8B,WAAaJ,EAAwB,UAAI,SAAUC,GAC1E,MAAIA,GAAI,GACA,EAAIA,EAAIA,EAER,GAAK,EAAIA,EAAIA,EAAIA,GAAK,GAK/BF,EAAajC,EAAAQ,WAAW+B,SAAWL,EAAsB,QAAI,SAAUC,GACtE,MAAOA,GAAIA,EAAIA,GAGhBF,EAAajC,EAAAQ,WAAWgC,UAAYN,EAAuB,SAAI,SAAUC,GACxE,MAAO,GAAIA,EAAI,EAAIA,EAAIA,EAAIA,EAAIA,EAAIA,GAGpCF,EAAajC,EAAAQ,WAAWiC,YAAcP,EAAyB,WAAI,SAAUC,GAC5E,MAAIA,GAAI,GACA,EAAIA,EAAIA,EAAIA,EAEZ,GAAK,EAAIA,EAAI,EAAIA,EAAIA,EAAIA,EAAIA,EAAIA,GAAK,GAK/CF,EAAajC,EAAAQ,WAAWkC,SAAWR,EAAsB,QAAI,SAAUC,GACtE,MAAOA,GAAIA,EAAIA,EAAIA,GAGpBF,EAAajC,EAAAQ,WAAWmC,UAAYT,EAAuB,SAAI,SAAUC,GACxE,GAAIS,GAAKT,EAAIA,CACb,OAAO,GAAIA,EAAI,EAAIS,EAAK,EAAIA,EAAKT,EAAIS,EAAKA,GAG3CX,EAAajC,EAAAQ,WAAWqC,YAAcX,EAAyB,WAAI,SAAUC,GAC5E,GAAIA,EAAI,GACP,MAAO,GAAIA,EAAIA,EAAIA,EAAIA,CAEvB,IAAIS,GAAKT,EAAIA,CACb,OAAO,IAAK,EAAIA,EAAI,EAAIS,EAAK,EAAIA,EAAKT,EAAIS,EAAKA,GAAM,GAKvDX,EAAajC,EAAAQ,WAAWsC,QAAUZ,EAAqB,OAAI,SAAUC,GACpE,MAAU,KAANA,EACI,EAED,EAAI3L,KAAKuM,IAAIhB,EAAcI,IAGnCF,EAAajC,EAAAQ,WAAWwC,SAAWd,EAAsB,QAAI,SAAUC,GACtE,MAAO3L,MAAKyM,IAAIlB,EAAcI,IAG/BF,EAAajC,EAAAQ,WAAW0C,WAAahB,EAAwB,UAAI,SAAUC,GAC1E,MAAIA,GAAI,IACC,EAAI3L,KAAKuM,IAAIjB,EAAKK,IAAM,GAExB,EAAI3L,KAAKyM,IAAInB,GAAMK,EAAI,MAAS,GAK1CF,EAAajC,EAAAQ,WAAW2C,QAAUjB,EAAqB,OAAI,SAAUC,GACpE,MAAO,GAAI3L,KAAK4M,KAAK,EAAI5M,KAAK6M,IAAIlB,EAAG,KAGtCF,EAAajC,EAAAQ,WAAW8C,SAAWpB,EAAsB,QAAI,SAAUC,GACtE,MAAO3L,MAAK4M,KAAK,EAAI5M,KAAK6M,IAAI,EAAIlB,EAAG,KAGtCF,EAAajC,EAAAQ,WAAW+C,WAAarB,EAAwB,UAAI,SAAUC,GAC1E,MAAIA,GAAI,IACC,EAAI3L,KAAK4M,KAAK,EAAI,EAAIjB,EAAIA,IAAM,GAEhC,EAAI3L,KAAK4M,MAAK,EAAK,EAAIjB,EAAI,EAAIA,EAAIA,IAAM,GAKnDF,EAAajC,EAAAQ,WAAWgD,SAAWtB,EAAsB,QAAI,SAAUC,GACtE,MAAOA,GAAIA,EAAIA,EAAIA,EAAIA,GAGxBF,EAAajC,EAAAQ,WAAWiD,UAAYvB,EAAuB,SAAI,SAAUC,GACxE,QAASA,EAAIA,EAAIA,EAAIA,EAAIA,EAAI,GAG9BF,EAAajC,EAAAQ,WAAWkD,YAAcxB,EAAyB,WAAI,SAAUC,GAC5E,OAAKA,GAAK,GAAK,EACP,GAAMA,EAAIA,EAAIA,EAAIA,EAAIA,EAEvB,KAAQA,GAAK,GAAKA,EAAIA,EAAIA,EAAIA,EAAI,IAI1CF,EAAajC,EAAAQ,WAAWmD,eAAiBzB,EAA4B,cAAI,SAAUC,GAClF,MAAU,KAANA,EACI,EAEK,IAANA,EAAU,EAAI3L,KAAK6M,IAAI,KAAMlB,EAAI,IAGzCF,EAAajC,EAAAQ,WAAWoD,gBAAkB1B,EAA6B,eAAI,SAAUC,GACpF,MAAa,KAANA,EAAU,EAAI,EAAI3L,KAAK6M,IAAI,GAAG,GAAOlB,IAG7CF,EAAajC,EAAAQ,WAAWqD,kBAAoB3B,EAA+B,iBAAI,SAAUC,GACxF,MAAU,KAANA,EACI,EAEE,IAANA,EACI,GAEHA,GAAK,GAAK,EACP,GAAM3L,KAAK6M,IAAI,KAAMlB,EAAI,GAE1B,KAAS3L,KAAK6M,IAAI,GAAG,IAAQlB,EAAI,IAAM,IAI/CF,EAAajC,EAAAQ,WAAWsD,WAAa5B,EAAwB,UAAI,SAAUC,GAC1E,MAAU,KAANA,EACI,GAEA3L,KAAK6M,IAAI,EAAG,IAAMlB,EAAI,IAAM3L,KAAKyM,IAAgB,GAAXd,EAAI,KAAW3L,KAAKsL,KAGnEG,EAAajC,EAAAQ,WAAWuD,YAAc7B,EAAyB,WAAI,SAAUC,GAC5E,MAAU,KAANA,EACI,EAED3L,KAAK6M,IAAI,GAAG,GAAMlB,GAAK3L,KAAKyM,IAAgB,GAAXd,EAAI,IAAW3L,KAAKsL,IAAM,GAGnEG,EAAajC,EAAAQ,WAAWwD,cAAgB9B,EAA2B,aAAI,SAAUC,GAChF,MAAU,KAANA,EACI,EAEE,IAANA,EACI,GAERA,GAAK,EACDA,EAAI,GACA,GAAO3L,KAAK6M,IAAI,EAAG,IAAMlB,EAAI,IAAM3L,KAAKyM,IAAgB,GAAXd,EAAI,KAAW3L,KAAKsL,IAGlE,GAAMtL,KAAK6M,IAAI,GAAG,IAAOlB,EAAI,IAAM3L,KAAKyM,IAAgB,GAAXd,EAAI,KAAW3L,KAAKsL,IAAM,IAI/EG,EAAajC,EAAAQ,WAAWyD,QAAU/B,EAAqB,OAAI,SAAUC,GACpE,GAAI+B,GAAIlC,CACR,OAAa,KAANG,EAAU,EAAIA,EAAIA,IAAM+B,EAAI,GAAK/B,EAAI+B,IAI7CjC,EAAajC,EAAAQ,WAAW2D,SAAWjC,EAAsB,QAAI,SAAUC,GACtE,GAAI+B,GAAIlC,CACR,OAAa,KAANG,EAAU,IAAMA,EAAIA,IAAM+B,EAAI,GAAK/B,EAAI+B,GAAK,GAGpDjC,EAAajC,EAAAQ,WAAW4D,WAAalC,EAAwB,UAAI,SAAUC,GAC1E,GAAI+B,GAAW,MAAPlC,CACR,QAAKG,GAAK,GAAK,EACP,IAAOA,EAAIA,IAAM+B,EAAI,GAAK/B,EAAI+B,IAE/B,KAAQ/B,GAAK,GAAKA,IAAM+B,EAAI,GAAK/B,EAAI+B,GAAK,IAIlDjC,EAAajC,EAAAQ,WAAW6D,WAAanC,EAAwB,UAAI,SAAUC,GAC1E,MAAIA,GAAK,EAAI,KACL,OAASA,EAAIA,EACVA,EAAK,EAAI,KACZ,QAAUA,GAAM,IAAM,MAASA,EAAI,IAChCA,EAAK,IAAM,KACd,QAAUA,GAAM,KAAO,MAASA,EAAI,MAEpC,QAAUA,GAAM,MAAQ,MAASA,EAAI,SAI9CF,EAAajC,EAAAQ,WAAW8D,UAAYpC,EAAuB,SAAI,SAAUC,GACxE,MAAO,GAAIF,EAAajC,EAAAQ,WAAW6D,WAAW,EAAIlC,IAGnDF,EAAajC,EAAAQ,WAAW+D,aAAerC,EAA0B,YAAI,SAAUC,GAC9E,MAAIA,GAAI,GAC2C,GAA3CF,EAAajC,EAAAQ,WAAW8D,UAAc,EAAJnC,GAEa,GAAhDF,EAAajC,EAAAQ,WAAW6D,WAAe,EAAJlC,EAAQ,GAAW,IAInD/P,EAAAmO,UAAY0B,EACZ7P,EAAAwP,UAAYM,Gd8zCjB,SAAU7P,EAAQD,EAASM,GAEhC,YACAgE,QAAOC,eAAevE,EAAS,cAAgBwE,OAAO,GeliDvD,IAAAV,GAAAxD,EAAA,GAEA2B,EAAA,WAIC,QAAAA,GAAYuL,GAFJpN,KAAAgS,aAGPhS,KAAKqN,WAAoB,EAAPD,CAClB,KAAK,GAAIzK,GAAI,EAAGA,EAAIyK,EAAMzK,IACzB3C,KAAK+L,IAAI/L,KAAKiS,kBAqCjB,MAjCSpQ,GAAAyD,UAAAyG,IAAR,SAAYxI,GACXvD,KAAKgS,UAAU1I,KAAK/F,IAGb1B,EAAAyD,UAAAkH,IAAR,WACC,MAAOxM,MAAKgS,UAAUzE,SAGf1L,EAAAyD,UAAA2M,eAAR,WACC,MAAO,IAAIvO,GAAAP,UAGLtB,EAAAyD,UAAA4M,YAAP,WACC,GAAIC,GAAWnS,KAAKwM,KACpB,OAAiB9K,UAAbyQ,EACInS,KAAKiS,kBAEbE,EAAS3I,UACF2I,IAGDtQ,EAAAyD,UAAAlC,aAAP,SAAoB+O,GACFzQ,SAAbyQ,IAIAnS,KAAKgS,UAAUpP,OAAS5C,KAAKqN,aAIjC8E,EAAS3I,UACTxJ,KAAK+L,IAAIoG,MAEXtQ,IA5CajC,GAAAiC","file":"fatina.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar ticker_1 = __webpack_require__(7);\r\n\tvar tweenPool_1 = __webpack_require__(9);\r\n\tvar sequencePool_1 = __webpack_require__(13);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar tickerManager;\r\n\tvar tweenPooling;\r\n\tvar sequencePooling;\r\n\tvar initialized = false;\r\n\tvar isFirstUpdate = true;\r\n\tvar lastFrame;\r\n\tvar lastTime = 0;\r\n\texports.time = 0;\r\n\tfunction Elapsed() {\r\n\t    return tickerManager.Elapsed;\r\n\t}\r\n\texports.Elapsed = Elapsed;\r\n\tfunction Ticker() {\r\n\t    return tickerManager;\r\n\t}\r\n\texports.Ticker = Ticker;\r\n\tfunction Init(disableAutoTick, poolSize) {\r\n\t    if (initialized) {\r\n\t        return false;\r\n\t    }\r\n\t    if (!tickerManager) {\r\n\t        tickerManager = new ticker_1.Ticker();\r\n\t        tickerManager.Start();\r\n\t    }\r\n\t    if (typeof (window) !== 'undefined' && !disableAutoTick) {\r\n\t        lastFrame = requestFrame(updateLoop);\r\n\t    }\r\n\t    tweenPooling = new tweenPool_1.TweenPool(poolSize === undefined ? 600 : poolSize);\r\n\t    sequencePooling = new sequencePool_1.SequencePool(poolSize === undefined ? 250 : poolSize);\r\n\t    initialized = true;\r\n\t    return true;\r\n\t}\r\n\texports.Init = Init;\r\n\tfunction SetTimescale(scale) {\r\n\t    tickerManager.SetTimescale(scale);\r\n\t}\r\n\texports.SetTimescale = SetTimescale;\r\n\tfunction Pause() {\r\n\t    tickerManager.Pause();\r\n\t}\r\n\texports.Pause = Pause;\r\n\tfunction Resume() {\r\n\t    tickerManager.Resume();\r\n\t}\r\n\texports.Resume = Resume;\r\n\tfunction Destroy() {\r\n\t    if (tickerManager) {\r\n\t        tickerManager.Kill();\r\n\t    }\r\n\t    if (lastFrame) {\r\n\t        cancelFrame(lastFrame);\r\n\t    }\r\n\t    initialized = false;\r\n\t}\r\n\texports.Destroy = Destroy;\r\n\tfunction Update(timestamp) {\r\n\t    if (!initialized || !tickerManager) {\r\n\t        return;\r\n\t    }\r\n\t    var toClean = tickerManager.GetCleanTweens();\r\n\t    tickerManager.Tick(timestamp);\r\n\t    exports.time += timestamp;\r\n\t    for (var i = 0; i < toClean.length; i++) {\r\n\t        var clean = toClean[i];\r\n\t        if (clean.Type === tweenType_1.TweenType.Tween) {\r\n\t            tweenPooling.PushTween(clean);\r\n\t        }\r\n\t        else if (clean.Type === tweenType_1.TweenType.Sequence) {\r\n\t            sequencePooling.PushSequence(clean);\r\n\t        }\r\n\t    }\r\n\t    toClean.length = 0;\r\n\t}\r\n\texports.Update = Update;\r\n\tfunction Tween(obj, properties) {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    var tween = tweenPooling.PopTween();\r\n\t    tween.Init(obj, properties);\r\n\t    tween.SetParent(tickerManager);\r\n\t    return tween;\r\n\t}\r\n\texports.Tween = Tween;\r\n\tfunction Sequence() {\r\n\t    if (!initialized) {\r\n\t        Init();\r\n\t    }\r\n\t    return new sequence_1.Sequence().SetParent(tickerManager);\r\n\t}\r\n\texports.Sequence = Sequence;\r\n\tvar requestFrame;\r\n\tvar cancelFrame;\r\n\tif (typeof (window) !== 'undefined') {\r\n\t    requestFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n\t    cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n\t}\r\n\tfunction updateLoop(timestamp) {\r\n\t    var dt = timestamp - lastTime;\r\n\t    if (isFirstUpdate) {\r\n\t        dt = 1;\r\n\t        isFirstUpdate = false;\r\n\t    }\r\n\t    if (dt > 500) {\r\n\t        console.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\r\n\t        dt = 500;\r\n\t    }\r\n\t    Update(dt);\r\n\t    lastTime = timestamp;\r\n\t    lastFrame = requestFrame(updateLoop);\r\n\t}\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar callback_1 = __webpack_require__(4);\r\n\tvar delay_1 = __webpack_require__(6);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar Sequence = (function (_super) {\r\n\t    __extends(Sequence, _super);\r\n\t    function Sequence() {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.eventTick = [];\r\n\t        _this.eventStepStart = [];\r\n\t        _this.eventStepEnd = [];\r\n\t        _this.tweens = [];\r\n\t        _this.sequenceIndex = 0;\r\n\t        _this.cleanTweens = [];\r\n\t        _this.tickCb = function (dt) {\r\n\t            if (_this.state === state_1.State.Finished || _this.state === state_1.State.Killed) {\r\n\t                return;\r\n\t            }\r\n\t            var localDt = dt * _this.timescale;\r\n\t            _this.elapsed += localDt;\r\n\t            _this.Tick(localDt);\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Sequence.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Sequence;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(Sequence.prototype, \"CurrentTween\", {\r\n\t        get: function () {\r\n\t            return this.currentTween;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Sequence.prototype.Start = function () {\r\n\t        _super.prototype.Start.call(this);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Validate = function () {\r\n\t    };\r\n\t    Sequence.prototype.LoopInit = function () {\r\n\t        this.sequenceIndex = 0;\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                tween.Reset(true);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AddTickListener = function (cb) {\r\n\t        this.eventTick.unshift(cb);\r\n\t    };\r\n\t    Sequence.prototype.RemoveTickListener = function (cb) {\r\n\t        var index = this.eventTick.indexOf(cb);\r\n\t        if (index !== -1) {\r\n\t            this.eventTick.splice(index, 1);\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Tick = function (dt, remains) {\r\n\t        if (!this.currentTween) {\r\n\t            this.currentTween = this.tweens[this.sequenceIndex];\r\n\t            if (this.currentTween) {\r\n\t                for (var i = 0; i < this.currentTween.length; i++) {\r\n\t                    var tween = this.currentTween[i];\r\n\t                    tween.Start();\r\n\t                }\r\n\t                this.StepStarted(this.currentTween[0]);\r\n\t            }\r\n\t        }\r\n\t        if (this.currentTween) {\r\n\t            for (var i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t                this.eventTick[i](dt);\r\n\t            }\r\n\t            if (remains !== true) {\r\n\t                _super.prototype.Updated.call(this, dt, 0);\r\n\t            }\r\n\t        }\r\n\t        var remainsDt = dt;\r\n\t        if (this.currentTween) {\r\n\t            for (var i = 0; i < this.currentTween.length; i++) {\r\n\t                if (!this.currentTween[i].IsCompleted()) {\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t            var first = this.currentTween[0];\r\n\t            remainsDt = first.Elapsed - first.Duration;\r\n\t            this.StepEnded(this.currentTween[0]);\r\n\t            this.currentTween = undefined;\r\n\t            this.sequenceIndex++;\r\n\t            if (remainsDt > 0.01) {\r\n\t                this.Tick(remainsDt, true);\r\n\t                return;\r\n\t            }\r\n\t        }\r\n\t        if (!this.currentTween && this.tweens.length === this.sequenceIndex) {\r\n\t            this.loop--;\r\n\t            if (this.loop === 0) {\r\n\t                this.Complete();\r\n\t            }\r\n\t            else {\r\n\t                this.ResetAndStart(false, remainsDt);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.StepStarted = function (tween) {\r\n\t        for (var i = 0; i < this.eventStepStart.length; i++) {\r\n\t            try {\r\n\t                this.eventStepStart[i](tween);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.StepEnded = function (tween) {\r\n\t        for (var i = 0; i < this.eventStepEnd.length; i++) {\r\n\t            try {\r\n\t                this.eventStepEnd[i](tween);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.Append = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [tween];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [playable];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.AppendInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens[this.tweens.length] = [playable];\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Prepend = function (tween) {\r\n\t        tween.SetParent(this);\r\n\t        this.tweens.unshift([tween]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependCallback = function (cb) {\r\n\t        var playable = new callback_1.Callback(cb);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.PrependInterval = function (duration) {\r\n\t        var playable = new delay_1.Delay(duration);\r\n\t        playable.SetParent(this);\r\n\t        this.tweens.unshift([playable]);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Skip = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant skip this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                if (tween.IsKilled() || tween.IsCompleted()) {\r\n\t                    continue;\r\n\t                }\r\n\t                if (tween.Elapsed === 0) {\r\n\t                    this.StepStarted(tween);\r\n\t                }\r\n\t                tween.Skip();\r\n\t                this.StepEnded(tween);\r\n\t            }\r\n\t        }\r\n\t        _super.prototype.Skip.call(this);\r\n\t    };\r\n\t    Sequence.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        for (var i = 0; i < this.tweens.length; i++) {\r\n\t            var tweenArray = this.tweens[i];\r\n\t            for (var j = 0; j < tweenArray.length; j++) {\r\n\t                var tween = tweenArray[j];\r\n\t                if (tween.IsKilled() || tween.IsCompleted()) {\r\n\t                    continue;\r\n\t                }\r\n\t                tween.Kill();\r\n\t            }\r\n\t        }\r\n\t        _super.prototype.Kill.call(this);\r\n\t    };\r\n\t    Sequence.prototype.Join = function (tween) {\r\n\t        if (this.tweens.length === 0) {\r\n\t            return this.Append(tween);\r\n\t        }\r\n\t        tween.SetParent(this);\r\n\t        this.tweens[this.tweens.length - 1].push(tween);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.eventTick.length = 0;\r\n\t        this.eventStepStart.length = 0;\r\n\t        this.eventStepEnd.length = 0;\r\n\t        this.tweens.length = 0;\r\n\t        this.currentTween = undefined;\r\n\t        this.sequenceIndex = 0;\r\n\t        this.cleanTweens.length = 0;\r\n\t        this.cleaned = false;\r\n\t    };\r\n\t    Sequence.prototype.Cleanup = function () {\r\n\t        if (!this.parent || this.cleaned) {\r\n\t            return;\r\n\t        }\r\n\t        this.cleaned = true;\r\n\t        this.cleanTweens[this.cleanTweens.length] = this;\r\n\t        this.parent.Clean(this.cleanTweens);\r\n\t    };\r\n\t    Sequence.prototype.Clean = function (data) {\r\n\t        for (var i = 0; i < data.length; i++) {\r\n\t            this.cleanTweens[this.cleanTweens.length] = data[i];\r\n\t        }\r\n\t    };\r\n\t    Sequence.prototype.OnStart = function (cb) {\r\n\t        _super.prototype.OnStart.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnUpdate = function (cb) {\r\n\t        _super.prototype.OnUpdate.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnKilled = function (cb) {\r\n\t        _super.prototype.OnKilled.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnComplete = function (cb) {\r\n\t        _super.prototype.OnComplete.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepStart = function (cb) {\r\n\t        this.eventStepStart[this.eventStepStart.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    Sequence.prototype.OnStepEnd = function (cb) {\r\n\t        this.eventStepEnd[this.eventStepEnd.length] = cb;\r\n\t        return this;\r\n\t    };\r\n\t    return Sequence;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Sequence = Sequence;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar BaseTween = (function () {\r\n\t    function BaseTween() {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.state = state_1.State.Idle;\r\n\t        this.eventStart = [];\r\n\t        this.eventUpdate = [];\r\n\t        this.eventKill = [];\r\n\t        this.eventComplete = [];\r\n\t        this.firstStart = true;\r\n\t    }\r\n\t    Object.defineProperty(BaseTween.prototype, \"Elapsed\", {\r\n\t        get: function () {\r\n\t            return this.elapsed;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(BaseTween.prototype, \"Duration\", {\r\n\t        get: function () {\r\n\t            return this.duration;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    BaseTween.prototype.SetParent = function (ticker) {\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.parent = ticker;\r\n\t    };\r\n\t    BaseTween.prototype.IsRunning = function () {\r\n\t        return this.state === state_1.State.Run;\r\n\t    };\r\n\t    BaseTween.prototype.IsCompleted = function () {\r\n\t        return this.state === state_1.State.Finished;\r\n\t    };\r\n\t    BaseTween.prototype.IsKilled = function () {\r\n\t        return this.state === state_1.State.Killed;\r\n\t    };\r\n\t    BaseTween.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            console.warn('cant start this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.firstStart) {\r\n\t            this.Validate();\r\n\t        }\r\n\t        else {\r\n\t            this.CheckPosition();\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t        if (this.firstStart) {\r\n\t            this.Started();\r\n\t            this.firstStart = false;\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Reset = function (resetloop) {\r\n\t        this.state = state_1.State.Idle;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        if (resetloop === true) {\r\n\t            this.loop = 1;\r\n\t        }\r\n\t        this.LoopInit();\r\n\t    };\r\n\t    BaseTween.prototype.ResetAndStart = function (resetloop, dtRemains) {\r\n\t        if (resetloop === true) {\r\n\t            this.loop = 1;\r\n\t        }\r\n\t        this.LoopInit();\r\n\t        this.state = state_1.State.Run;\r\n\t        if (dtRemains > 0) {\r\n\t            this.tickCb(dtRemains);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Skip = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant skip this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.state === state_1.State.Idle) {\r\n\t            this.Started();\r\n\t        }\r\n\t        this.elapsed = this.duration;\r\n\t        this.Complete();\r\n\t    };\r\n\t    BaseTween.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            console.warn('cant pause this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            console.warn('cant resume this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t        this.parent.AddTickListener(this.tickCb);\r\n\t    };\r\n\t    BaseTween.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant kill this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t        this.Killed();\r\n\t        this.Cleanup();\r\n\t    };\r\n\t    BaseTween.prototype.CheckPosition = function () { };\r\n\t    BaseTween.prototype.Default = function () {\r\n\t        this.elapsed = 0;\r\n\t        this.duration = 0;\r\n\t        this.timescale = 1;\r\n\t        this.loop = 1;\r\n\t        this.eventStart.length = 0;\r\n\t        this.eventUpdate.length = 0;\r\n\t        this.eventKill.length = 0;\r\n\t        this.eventComplete.length = 0;\r\n\t        this.firstStart = true;\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    BaseTween.prototype.Complete = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            console.warn('cant complete this tween, already in state', this.state);\r\n\t            return;\r\n\t        }\r\n\t        if (this.parent) {\r\n\t            this.parent.RemoveTickListener(this.tickCb);\r\n\t        }\r\n\t        this.state = state_1.State.Finished;\r\n\t        this.Completed();\r\n\t        this.Cleanup();\r\n\t    };\r\n\t    BaseTween.prototype.Started = function () {\r\n\t        for (var i = 0; i < this.eventStart.length; i++) {\r\n\t            try {\r\n\t                this.eventStart[i]();\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t        this.eventStart.length = 0;\r\n\t    };\r\n\t    BaseTween.prototype.Updated = function (dt, progress) {\r\n\t        for (var i = 0; i < this.eventUpdate.length; i++) {\r\n\t            try {\r\n\t                this.eventUpdate[i](dt, progress);\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    BaseTween.prototype.Killed = function () {\r\n\t        for (var i = 0; i < this.eventKill.length; i++) {\r\n\t            try {\r\n\t                this.eventKill[i]();\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t        this.eventKill.length = 0;\r\n\t    };\r\n\t    BaseTween.prototype.Completed = function () {\r\n\t        for (var i = 0; i < this.eventComplete.length; i++) {\r\n\t            try {\r\n\t                this.eventComplete[i]();\r\n\t            }\r\n\t            catch (e) {\r\n\t                console.warn(e);\r\n\t            }\r\n\t        }\r\n\t        this.eventComplete.length = 0;\r\n\t    };\r\n\t    BaseTween.prototype.OnStart = function (cb) {\r\n\t        this.eventStart[this.eventStart.length] = cb;\r\n\t    };\r\n\t    BaseTween.prototype.OnUpdate = function (cb) {\r\n\t        this.eventUpdate[this.eventUpdate.length] = cb;\r\n\t    };\r\n\t    BaseTween.prototype.OnKilled = function (cb) {\r\n\t        this.eventKill[this.eventKill.length] = cb;\r\n\t    };\r\n\t    BaseTween.prototype.OnComplete = function (cb) {\r\n\t        this.eventComplete[this.eventComplete.length] = cb;\r\n\t    };\r\n\t    return BaseTween;\r\n\t}());\r\n\texports.BaseTween = BaseTween;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar State;\r\n\t(function (State) {\r\n\t    State[State[\"Idle\"] = 0] = \"Idle\";\r\n\t    State[State[\"Run\"] = 1] = \"Run\";\r\n\t    State[State[\"Pause\"] = 2] = \"Pause\";\r\n\t    State[State[\"Finished\"] = 3] = \"Finished\";\r\n\t    State[State[\"Killed\"] = 4] = \"Killed\";\r\n\t})(State = exports.State || (exports.State = {}));\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Callback = (function (_super) {\r\n\t    __extends(Callback, _super);\r\n\t    function Callback(cb) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.tickCb = function (dt) {\r\n\t            _this.elapsed += dt;\r\n\t            _this.duration = 0;\r\n\t            cb();\r\n\t            _this.Updated(dt, 1);\r\n\t            _this.Complete();\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Callback.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Callback;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Callback.prototype.Validate = function () { };\r\n\t    Callback.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Callback.prototype.Cleanup = function () { };\r\n\t    return Callback;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Callback = Callback;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar TweenType;\r\n\t(function (TweenType) {\r\n\t    TweenType[TweenType[\"Ticker\"] = 0] = \"Ticker\";\r\n\t    TweenType[TweenType[\"Sequence\"] = 1] = \"Sequence\";\r\n\t    TweenType[TweenType[\"Tween\"] = 2] = \"Tween\";\r\n\t    TweenType[TweenType[\"Callback\"] = 3] = \"Callback\";\r\n\t    TweenType[TweenType[\"Delay\"] = 4] = \"Delay\";\r\n\t    TweenType[TweenType[\"None\"] = 5] = \"None\";\r\n\t})(TweenType = exports.TweenType || (exports.TweenType = {}));\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar Delay = (function (_super) {\r\n\t    __extends(Delay, _super);\r\n\t    function Delay(duration) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.duration = duration;\r\n\t        _this.tickCb = function (dt) {\r\n\t            _this.elapsed += dt;\r\n\t            var progress = Math.max(Math.min(_this.elapsed / _this.duration, 1), 0);\r\n\t            _super.prototype.Updated.call(_this, dt, progress);\r\n\t            if (_this.elapsed >= _this.duration) {\r\n\t                _this.Complete();\r\n\t            }\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Delay.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Delay;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Delay.prototype.Validate = function () { };\r\n\t    Delay.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Delay.prototype.Cleanup = function () { };\r\n\t    return Delay;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Delay = Delay;\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar eventList_1 = __webpack_require__(8);\r\n\tvar Ticker = (function (_super) {\r\n\t    __extends(Ticker, _super);\r\n\t    function Ticker() {\r\n\t        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n\t        _this.state = state_1.State.Idle;\r\n\t        _this.timescale = 1;\r\n\t        _this.elapsed = 0;\r\n\t        _this.update = 0;\r\n\t        _this.eventToAdd = [];\r\n\t        _this.eventToRemove = [];\r\n\t        _this.clean1 = [];\r\n\t        _this.clean2 = [];\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Ticker.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Ticker;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Ticker.prototype.ToClean = function () {\r\n\t        return this.update % 2 === 1 ? this.clean1 : this.clean2;\r\n\t    };\r\n\t    Object.defineProperty(Ticker.prototype, \"Elapsed\", {\r\n\t        get: function () {\r\n\t            return this.elapsed;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(Ticker.prototype, \"Duration\", {\r\n\t        get: function () {\r\n\t            return 0;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Ticker.prototype.IsCompleted = function () {\r\n\t        return this.state === state_1.State.Finished;\r\n\t    };\r\n\t    Ticker.prototype.IsRunning = function () {\r\n\t        return this.state === state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.IsKilled = function () {\r\n\t        return this.state === state_1.State.Killed;\r\n\t    };\r\n\t    Ticker.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t    };\r\n\t    Ticker.prototype.AddTickListener = function (cb) {\r\n\t        this.eventToAdd.push(cb);\r\n\t    };\r\n\t    Ticker.prototype.RemoveTickListener = function (cb) {\r\n\t        this.eventToRemove.push(cb);\r\n\t    };\r\n\t    Ticker.prototype.UpdateListener = function () {\r\n\t        if (this.eventToAdd.length > 0) {\r\n\t            for (var i = 0; i < this.eventToAdd.length; i++) {\r\n\t                this.Add(this.eventToAdd[i]);\r\n\t            }\r\n\t            this.eventToAdd = [];\r\n\t        }\r\n\t        if (this.eventToRemove.length > 0) {\r\n\t            for (var i = 0; i < this.eventToRemove.length; i++) {\r\n\t                this.Remove(this.eventToRemove[i]);\r\n\t            }\r\n\t            this.eventToRemove = [];\r\n\t        }\r\n\t    };\r\n\t    Ticker.prototype.Tick = function (dt) {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        this.UpdateListener();\r\n\t        var localDt = dt * this.timescale;\r\n\t        for (var tick = this.first; tick; tick = tick.node_next) {\r\n\t            tick(localDt);\r\n\t        }\r\n\t        this.elapsed += localDt;\r\n\t        this.update++;\r\n\t        this.UpdateListener();\r\n\t    };\r\n\t    Ticker.prototype.Start = function () {\r\n\t        if (this.state !== state_1.State.Idle) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Pause = function () {\r\n\t        if (this.state !== state_1.State.Run) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Pause;\r\n\t    };\r\n\t    Ticker.prototype.Resume = function () {\r\n\t        if (this.state !== state_1.State.Pause) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Run;\r\n\t    };\r\n\t    Ticker.prototype.Kill = function () {\r\n\t        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n\t            return;\r\n\t        }\r\n\t        this.state = state_1.State.Killed;\r\n\t    };\r\n\t    Ticker.prototype.Skip = function () {\r\n\t        throw new Error('The main ticker cannot be skipped');\r\n\t    };\r\n\t    Ticker.prototype.Reset = function () {\r\n\t        this.state = state_1.State.Idle;\r\n\t    };\r\n\t    Ticker.prototype.Clean = function (data) {\r\n\t        for (var i = 0; i < data.length; i++) {\r\n\t            var obj = data[i];\r\n\t            if (this.update % 2 === 0) {\r\n\t                this.clean1.push(obj);\r\n\t            }\r\n\t            else {\r\n\t                this.clean2.push(obj);\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Ticker.prototype.GetCleanTweens = function () {\r\n\t        var toClean = this.update % 2 === 1 ? this.clean1 : this.clean2;\r\n\t        for (var i = 0; i < toClean.length; i++) {\r\n\t            toClean[i].Default();\r\n\t        }\r\n\t        return toClean;\r\n\t    };\r\n\t    return Ticker;\r\n\t}(eventList_1.EventList));\r\n\texports.Ticker = Ticker;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar EventList = (function () {\r\n\t    function EventList() {\r\n\t        this.length = 0;\r\n\t    }\r\n\t    EventList.prototype.Add = function (obj) {\r\n\t        var newNode = this.GetNode(obj, this.last, undefined, this);\r\n\t        if (this.first === undefined) {\r\n\t            this.first = newNode;\r\n\t            this.last = newNode;\r\n\t        }\r\n\t        else if (this.last !== undefined) {\r\n\t            this.last.node_next = newNode;\r\n\t            this.last = newNode;\r\n\t        }\r\n\t        this.length += 1;\r\n\t    };\r\n\t    EventList.prototype.Pop = function () {\r\n\t        var first = this.first;\r\n\t        this.Remove(first);\r\n\t        return first;\r\n\t    };\r\n\t    EventList.prototype.Remove = function (obj) {\r\n\t        var node = obj;\r\n\t        if (node === undefined) {\r\n\t            console.log('Trying to remove an object which is not a node');\r\n\t            return;\r\n\t        }\r\n\t        if (node.node_list !== this) {\r\n\t            return;\r\n\t        }\r\n\t        if (node.node_next === undefined) {\r\n\t            this.last = node.node_previous;\r\n\t        }\r\n\t        else {\r\n\t            node.node_next.node_previous = node.node_previous;\r\n\t        }\r\n\t        if (node.node_previous === undefined) {\r\n\t            this.first = node.node_next;\r\n\t        }\r\n\t        else {\r\n\t            node.node_previous.node_next = node.node_next;\r\n\t        }\r\n\t        node.node_valid = false;\r\n\t        node.node_previous = undefined;\r\n\t        node.node_next = undefined;\r\n\t        node.node_list = undefined;\r\n\t        this.length -= 1;\r\n\t    };\r\n\t    EventList.prototype.Clear = function () {\r\n\t        var node = this.first;\r\n\t        while (node !== undefined) {\r\n\t            var nextNode = node.node_next;\r\n\t            node.node_valid = false;\r\n\t            node.node_previous = undefined;\r\n\t            node.node_next = undefined;\r\n\t            node.node_list = undefined;\r\n\t            node = nextNode;\r\n\t        }\r\n\t        this.first = undefined;\r\n\t        this.last = undefined;\r\n\t        this.length = 0;\r\n\t    };\r\n\t    EventList.prototype.GetNode = function (obj, previous, next, list) {\r\n\t        var node = obj;\r\n\t        if (!node.node_valid) {\r\n\t            node.node_valid = true;\r\n\t            node.node_previous = previous;\r\n\t            node.node_next = next;\r\n\t            node.node_list = list;\r\n\t        }\r\n\t        return node;\r\n\t    };\r\n\t    return EventList;\r\n\t}());\r\n\texports.EventList = EventList;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar tween_1 = __webpack_require__(10);\r\n\tvar TweenPool = (function () {\r\n\t    function TweenPool(size) {\r\n\t        this.tweens = [];\r\n\t        this.targetSize = size * 2;\r\n\t        for (var i = 0; i < size; i++) {\r\n\t            this.Add(this.CreateTween());\r\n\t        }\r\n\t    }\r\n\t    TweenPool.prototype.Add = function (tween) {\r\n\t        this.tweens.push(tween);\r\n\t    };\r\n\t    TweenPool.prototype.Pop = function () {\r\n\t        return this.tweens.shift();\r\n\t    };\r\n\t    TweenPool.prototype.CreateTween = function () {\r\n\t        return new tween_1.Tween(null, []);\r\n\t    };\r\n\t    TweenPool.prototype.PopTween = function () {\r\n\t        var tween = this.Pop();\r\n\t        if (tween === undefined) {\r\n\t            return this.CreateTween();\r\n\t        }\r\n\t        tween.Default();\r\n\t        return tween;\r\n\t    };\r\n\t    TweenPool.prototype.PushTween = function (tween) {\r\n\t        if (tween === undefined) {\r\n\t            return;\r\n\t        }\r\n\t        if (this.tweens.length > this.targetSize) {\r\n\t            return;\r\n\t        }\r\n\t        tween.Default();\r\n\t        this.Add(tween);\r\n\t    };\r\n\t    return TweenPool;\r\n\t}());\r\n\texports.TweenPool = TweenPool;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar __extends = (this && this.__extends) || (function () {\r\n\t    var extendStatics = Object.setPrototypeOf ||\r\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\t    return function (d, b) {\r\n\t        extendStatics(d, b);\r\n\t        function __() { this.constructor = d; }\r\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n\t    };\r\n\t})();\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar baseTween_1 = __webpack_require__(2);\r\n\tvar easingType_1 = __webpack_require__(11);\r\n\tvar easing_1 = __webpack_require__(12);\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar tweenType_1 = __webpack_require__(5);\r\n\tvar state_1 = __webpack_require__(3);\r\n\tvar Tween = (function (_super) {\r\n\t    __extends(Tween, _super);\r\n\t    function Tween(object, properties) {\r\n\t        var _this = _super.call(this) || this;\r\n\t        _this.relative = false;\r\n\t        _this.object = object;\r\n\t        _this.properties = properties;\r\n\t        _this.tickCb = function (dt) {\r\n\t            if (_this.state === state_1.State.Finished || _this.state === state_1.State.Killed) {\r\n\t                return;\r\n\t            }\r\n\t            var localDt = dt * _this.timescale;\r\n\t            _this.elapsed += localDt;\r\n\t            var progress = Math.max(Math.min(_this.elapsed / _this.duration, 1), 0);\r\n\t            _this.Update(localDt, progress);\r\n\t            if (_this.elapsed >= _this.duration) {\r\n\t                _this.loop--;\r\n\t                if (_this.loop === 0) {\r\n\t                    for (var i = 0; i < _this.properties.length; i++) {\r\n\t                        var prop = _this.properties[i];\r\n\t                        _this.object[prop] = _this.currentTo[prop];\r\n\t                    }\r\n\t                    _this.Complete();\r\n\t                }\r\n\t                else {\r\n\t                    _this.CheckPosition();\r\n\t                    _this.ResetAndStart(false, _this.elapsed - _this.duration);\r\n\t                }\r\n\t            }\r\n\t        };\r\n\t        return _this;\r\n\t    }\r\n\t    Object.defineProperty(Tween.prototype, \"Type\", {\r\n\t        get: function () {\r\n\t            return tweenType_1.TweenType.Tween;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Object.defineProperty(Tween.prototype, \"Object\", {\r\n\t        get: function () {\r\n\t            return this.object;\r\n\t        },\r\n\t        enumerable: true,\r\n\t        configurable: true\r\n\t    });\r\n\t    Tween.prototype.Init = function (object, properties) {\r\n\t        this.object = object;\r\n\t        this.properties = properties;\r\n\t    };\r\n\t    Tween.prototype.Start = function () {\r\n\t        _super.prototype.Start.call(this);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.Validate = function () {\r\n\t        if (!this.object) {\r\n\t            throw new Error('Cant Tween a undefined object');\r\n\t        }\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            if (!(prop in this.object)) {\r\n\t                throw new Error('Cant Tween an unknown property' + prop);\r\n\t            }\r\n\t        }\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant Start a tween without ticker');\r\n\t        }\r\n\t        if (!this.ease) {\r\n\t            this.ease = easing_1.easeTypes[easingType_1.EasingType.Linear];\r\n\t        }\r\n\t        this.CheckPosition();\r\n\t    };\r\n\t    Tween.prototype.CheckPosition = function () {\r\n\t        this.currentFrom = {};\r\n\t        this.currentTo = {};\r\n\t        if (!this.from) {\r\n\t            for (var i = 0; i < this.properties.length; i++) {\r\n\t                var prop = this.properties[i];\r\n\t                this.currentFrom[prop] = this.object[prop];\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            for (var i = 0; i < this.properties.length; i++) {\r\n\t                var prop = this.properties[i];\r\n\t                this.currentFrom[prop] = this.from[prop];\r\n\t                this.object[prop] = this.from[prop];\r\n\t            }\r\n\t        }\r\n\t        if (this.relative) {\r\n\t            for (var i = 0; i < this.properties.length; i++) {\r\n\t                var prop = this.properties[i];\r\n\t                this.currentTo[prop] = this.object[prop] + this.to[prop];\r\n\t            }\r\n\t        }\r\n\t        else {\r\n\t            for (var i = 0; i < this.properties.length; i++) {\r\n\t                var prop = this.properties[i];\r\n\t                this.currentTo[prop] = this.to[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.Update = function (dt, progress) {\r\n\t        var val = this.ease(progress);\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            this.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\r\n\t        }\r\n\t        _super.prototype.Updated.call(this, dt, progress);\r\n\t    };\r\n\t    Tween.prototype.SetParent = function (ticker) {\r\n\t        _super.prototype.SetParent.call(this, ticker);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.From = function (from) {\r\n\t        this.from = from;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.To = function (to, duration) {\r\n\t        this.to = to;\r\n\t        this.duration = duration;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetLoop = function (loop) {\r\n\t        this.loop = Math.round(loop);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetRelative = function (relative) {\r\n\t        this.relative = relative;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.SetTimescale = function (scale) {\r\n\t        this.timescale = scale;\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.Modify = function (diff, updateTo) {\r\n\t        for (var i = 0; i < this.properties.length; i++) {\r\n\t            var prop = this.properties[i];\r\n\t            if (!diff.hasOwnProperty(prop)) {\r\n\t                continue;\r\n\t            }\r\n\t            this.object[prop] += diff[prop];\r\n\t            if (updateTo) {\r\n\t                this.currentTo[prop] += diff[prop];\r\n\t            }\r\n\t            else {\r\n\t                this.currentFrom[prop] += diff[prop];\r\n\t            }\r\n\t        }\r\n\t    };\r\n\t    Tween.prototype.ToSequence = function () {\r\n\t        if (!this.parent) {\r\n\t            throw new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t        }\r\n\t        return new sequence_1.Sequence().SetParent(this.parent).Append(this);\r\n\t    };\r\n\t    Tween.prototype.Easing = function (type) {\r\n\t        var name = type;\r\n\t        var isNumber = !isNaN(parseFloat(name));\r\n\t        if (isNumber) {\r\n\t            var index = parseInt(name, 10);\r\n\t            if (index in easing_1.easeTypes) {\r\n\t                return easing_1.easeTypes[index];\r\n\t            }\r\n\t        }\r\n\t        if (name in easing_1.easeNames) {\r\n\t            return easing_1.easeNames[name];\r\n\t        }\r\n\t        throw new Error('Unknown ease method ' + type);\r\n\t    };\r\n\t    Tween.prototype.SetEasing = function (type) {\r\n\t        this.ease = this.Easing(type);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.LoopInit = function () {\r\n\t        this.elapsed = 0;\r\n\t    };\r\n\t    Tween.prototype.Cleanup = function () {\r\n\t        if (!this.parent || this.cleaned) {\r\n\t            return;\r\n\t        }\r\n\t        this.cleaned = true;\r\n\t        this.parent.Clean([this]);\r\n\t    };\r\n\t    Tween.prototype.Default = function () {\r\n\t        _super.prototype.Default.call(this);\r\n\t        this.object = undefined;\r\n\t        this.properties.length = 0;\r\n\t        this.from = undefined;\r\n\t        this.to = undefined;\r\n\t        this.currentFrom = undefined;\r\n\t        this.currentTo = undefined;\r\n\t        this.relative = false;\r\n\t        this.ease = easing_1.easeTypes[0];\r\n\t        this.cleaned = false;\r\n\t    };\r\n\t    Tween.prototype.OnStart = function (cb) {\r\n\t        _super.prototype.OnStart.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnUpdate = function (cb) {\r\n\t        _super.prototype.OnUpdate.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnKilled = function (cb) {\r\n\t        _super.prototype.OnKilled.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    Tween.prototype.OnComplete = function (cb) {\r\n\t        _super.prototype.OnComplete.call(this, cb);\r\n\t        return this;\r\n\t    };\r\n\t    return Tween;\r\n\t}(baseTween_1.BaseTween));\r\n\texports.Tween = Tween;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar EasingType;\r\n\t(function (EasingType) {\r\n\t    EasingType[EasingType[\"Linear\"] = 0] = \"Linear\";\r\n\t    EasingType[EasingType[\"InQuad\"] = 1] = \"InQuad\";\r\n\t    EasingType[EasingType[\"OutQuad\"] = 2] = \"OutQuad\";\r\n\t    EasingType[EasingType[\"InOutQuad\"] = 3] = \"InOutQuad\";\r\n\t    EasingType[EasingType[\"InCubic\"] = 4] = \"InCubic\";\r\n\t    EasingType[EasingType[\"OutCubic\"] = 5] = \"OutCubic\";\r\n\t    EasingType[EasingType[\"InOutCubic\"] = 6] = \"InOutCubic\";\r\n\t    EasingType[EasingType[\"InQuart\"] = 7] = \"InQuart\";\r\n\t    EasingType[EasingType[\"OutQuart\"] = 8] = \"OutQuart\";\r\n\t    EasingType[EasingType[\"InOutQuart\"] = 9] = \"InOutQuart\";\r\n\t    EasingType[EasingType[\"InSine\"] = 10] = \"InSine\";\r\n\t    EasingType[EasingType[\"OutSine\"] = 11] = \"OutSine\";\r\n\t    EasingType[EasingType[\"InOutSine\"] = 12] = \"InOutSine\";\r\n\t    EasingType[EasingType[\"InCirc\"] = 13] = \"InCirc\";\r\n\t    EasingType[EasingType[\"OutCirc\"] = 14] = \"OutCirc\";\r\n\t    EasingType[EasingType[\"InOutCirc\"] = 15] = \"InOutCirc\";\r\n\t    EasingType[EasingType[\"InQuint\"] = 16] = \"InQuint\";\r\n\t    EasingType[EasingType[\"OutQuint\"] = 17] = \"OutQuint\";\r\n\t    EasingType[EasingType[\"InOutQuint\"] = 18] = \"InOutQuint\";\r\n\t    EasingType[EasingType[\"InExponential\"] = 19] = \"InExponential\";\r\n\t    EasingType[EasingType[\"OutExponential\"] = 20] = \"OutExponential\";\r\n\t    EasingType[EasingType[\"InOutExponential\"] = 21] = \"InOutExponential\";\r\n\t    EasingType[EasingType[\"InElastic\"] = 22] = \"InElastic\";\r\n\t    EasingType[EasingType[\"OutElastic\"] = 23] = \"OutElastic\";\r\n\t    EasingType[EasingType[\"InOutElastic\"] = 24] = \"InOutElastic\";\r\n\t    EasingType[EasingType[\"InBack\"] = 25] = \"InBack\";\r\n\t    EasingType[EasingType[\"OutBack\"] = 26] = \"OutBack\";\r\n\t    EasingType[EasingType[\"InOutBack\"] = 27] = \"InOutBack\";\r\n\t    EasingType[EasingType[\"InBounce\"] = 28] = \"InBounce\";\r\n\t    EasingType[EasingType[\"OutBounce\"] = 29] = \"OutBounce\";\r\n\t    EasingType[EasingType[\"InOutBounce\"] = 30] = \"InOutBounce\";\r\n\t})(EasingType = exports.EasingType || (exports.EasingType = {}));\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar easingType_1 = __webpack_require__(11);\r\n\tvar PI = Math.PI;\r\n\tvar PI_OVER_TWO = Math.PI / 2;\r\n\tvar BACK = 1.70158;\r\n\tvar easingByType = [];\r\n\tvar easingByName = {};\r\n\teasingByType[easingType_1.EasingType.Linear] = easingByName['linear'] = function (t) {\r\n\t    return t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuad] = easingByName['inQuad'] = function (t) {\r\n\t    return t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuad] = easingByName['outQuad'] = function (t) {\r\n\t    return 2 * t - t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 2 * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 2 * (2 * t - t * t) - 1;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCubic] = easingByName['inCubic'] = function (t) {\r\n\t    return t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCubic] = easingByName['outCubic'] = function (t) {\r\n\t    return 3 * t - 3 * t * t + t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 4 * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        return 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuart] = easingByName['inQuart'] = function (t) {\r\n\t    return t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuart] = easingByName['outQuart'] = function (t) {\r\n\t    var t2 = t * t;\r\n\t    return 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return 8 * t * t * t * t;\r\n\t    }\r\n\t    else {\r\n\t        var t2 = t * t;\r\n\t        return 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InSine] = easingByName['inSine'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return 1 - Math.cos(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutSine] = easingByName['outSine'] = function (t) {\r\n\t    return Math.sin(PI_OVER_TWO * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutSine] = easingByName['inOutSine'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.cos(PI * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InCirc] = easingByName['inCirc'] = function (t) {\r\n\t    return 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutCirc] = easingByName['outCirc'] = function (t) {\r\n\t    return Math.sqrt(1 - Math.pow(1 - t, 2));\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t    }\r\n\t    else {\r\n\t        return (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InQuint] = easingByName['inQuint'] = function (t) {\r\n\t    return t * t * t * t * t;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutQuint] = easingByName['outQuint'] = function (t) {\r\n\t    return --t * t * t * t * t + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t) {\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * t * t * t * t * t;\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InExponential] = easingByName['inExponential'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return t === 0 ? 0 : Math.pow(1024, t - 1);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutExponential] = easingByName['outExponential'] = function (t) {\r\n\t    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * Math.pow(1024, t - 1);\r\n\t    }\r\n\t    return 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InElastic] = easingByName['inElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    return -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutElastic] = easingByName['outElastic'] = function (t) {\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    return Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t) {\r\n\t    if (t === 0) {\r\n\t        return 0;\r\n\t    }\r\n\t    if (t === 1) {\r\n\t        return 1;\r\n\t    }\r\n\t    t *= 2;\r\n\t    if (t < 1) {\r\n\t        return -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t    }\r\n\t    return 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBack] = easingByName['inBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBack] = easingByName['outBack'] = function (t) {\r\n\t    var s = BACK;\r\n\t    return t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBack] = easingByName['inOutBack'] = function (t) {\r\n\t    var s = BACK * 1.525;\r\n\t    if ((t *= 2) < 1) {\r\n\t        return 0.5 * (t * t * ((s + 1) * t - s));\r\n\t    }\r\n\t    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.OutBounce] = easingByName['outBounce'] = function (t) {\r\n\t    if (t < (1 / 2.75)) {\r\n\t        return 7.5625 * t * t;\r\n\t    }\r\n\t    else if (t < (2 / 2.75)) {\r\n\t        return 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t    }\r\n\t    else if (t < (2.5 / 2.75)) {\r\n\t        return 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t    }\r\n\t    else {\r\n\t        return 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t    }\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InBounce] = easingByName['inBounce'] = function (t) {\r\n\t    return 1 - easingByType[easingType_1.EasingType.OutBounce](1 - t);\r\n\t};\r\n\teasingByType[easingType_1.EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t) {\r\n\t    if (t < 0.5) {\r\n\t        return easingByType[easingType_1.EasingType.InBounce](t * 2) * 0.5;\r\n\t    }\r\n\t    return easingByType[easingType_1.EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n\t};\r\n\texports.easeTypes = easingByType;\r\n\texports.easeNames = easingByName;\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\tvar sequence_1 = __webpack_require__(1);\r\n\tvar SequencePool = (function () {\r\n\t    function SequencePool(size) {\r\n\t        this.sequences = [];\r\n\t        this.targetSize = size * 2;\r\n\t        for (var i = 0; i < size; i++) {\r\n\t            this.Add(this.CreateSequence());\r\n\t        }\r\n\t    }\r\n\t    SequencePool.prototype.Add = function (tween) {\r\n\t        this.sequences.push(tween);\r\n\t    };\r\n\t    SequencePool.prototype.Pop = function () {\r\n\t        return this.sequences.shift();\r\n\t    };\r\n\t    SequencePool.prototype.CreateSequence = function () {\r\n\t        return new sequence_1.Sequence();\r\n\t    };\r\n\t    SequencePool.prototype.PopSequence = function () {\r\n\t        var sequence = this.Pop();\r\n\t        if (sequence === undefined) {\r\n\t            return this.CreateSequence();\r\n\t        }\r\n\t        sequence.Default();\r\n\t        return sequence;\r\n\t    };\r\n\t    SequencePool.prototype.PushSequence = function (sequence) {\r\n\t        if (sequence === undefined) {\r\n\t            return;\r\n\t        }\r\n\t        if (this.sequences.length > this.targetSize) {\r\n\t            return;\r\n\t        }\r\n\t        sequence.Default();\r\n\t        this.Add(sequence);\r\n\t    };\r\n\t    return SequencePool;\r\n\t}());\r\n\texports.SequencePool = SequencePool;\r\n\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// fatina.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 750f8a7841c449699eb5","import { Sequence as sequence } from './tweens/sequence';\nimport { Ticker as ticker } from './ticker';\nimport { ITween } from './core/interfaces/ITween';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { ITicker } from './core/interfaces/ITicker';\nimport { TweenPool } from './pooling/tweenPool';\nimport { SequencePool } from './pooling/sequencePool';\nimport { TweenType } from './core/enum/tweenType';\n\nlet tickerManager: ticker;\nlet tweenPooling: TweenPool;\nlet sequencePooling: SequencePool;\nlet initialized = false;\nlet isFirstUpdate = true;\nlet lastFrame: any;\nlet lastTime = 0;\n\n// real time of Fatina (not affected by timescale, pause, ...)\nexport let time = 0;\n\n// time updated internally (affected by timescale, pause, ...)\nexport function Elapsed() {\n\treturn tickerManager.Elapsed;\n}\n\nexport function Ticker() {\n\treturn tickerManager;\n}\n\n/**\n * Method used when Fatina is used for the first time.\n * Can take few ms. (pool initialization & object creation)\n *\n * @export\n * @param {boolean} [disableAutoTick]\n * @returns {boolean}\n */\nexport function Init(disableAutoTick?: boolean, poolSize?: number): boolean {\n\tif (initialized) {\n\t\treturn false;\n\t}\n\n\tif (!tickerManager) {\n\t\ttickerManager = new ticker();\n\t\ttickerManager.Start();\n\t}\n\n\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\n\t\tlastFrame = requestFrame(updateLoop);\n\t}\n\n\ttweenPooling = new TweenPool(poolSize === undefined ? 600 : poolSize);\n\tsequencePooling = new SequencePool(poolSize === undefined ? 250 : poolSize);\n\n\tinitialized = true;\n\treturn true;\n}\n\n/**\n * Used to change the timescale of the whole game\n *\n * @export\n * @param {number} scale\n */\nexport function SetTimescale(scale: number): void {\n\ttickerManager.SetTimescale(scale);\n}\n\n/**\n * This method pause the update loop (update are not called anymore)\n *\n * @export\n */\nexport function Pause(): void {\n\ttickerManager.Pause();\n}\n\n/**\n * This method resume the update loop (works only if the game was paused before)\n *\n * @export\n */\nexport function Resume(): void {\n\ttickerManager.Resume();\n}\n\n/**\n * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\n *\n * @export\n */\nexport function Destroy() {\n\tif (tickerManager) {\n\t\ttickerManager.Kill();\n\t}\n\n\tif (lastFrame) {\n\t\tcancelFrame(lastFrame);\n\t}\n\n\tinitialized = false;\n}\n\n/**\n * Method used to tick all the child (tween or sequence)\n * This takes cares of recycling the old tween/sequence\n *\n * @export\n * @param {number} timestamp\n * @returns {*}\n */\nexport function Update(timestamp: number): any {\n\tif (!initialized || !tickerManager) {\n\t\treturn;\n\t}\n\n\tlet toClean = tickerManager.GetCleanTweens();\n\n\ttickerManager.Tick(timestamp);\n\ttime += timestamp;\n\n\tfor (let i = 0; i < toClean.length; i++) {\n\t\tlet clean = toClean[i];\n\t\tif (clean.Type === TweenType.Tween) {\n\t\t\ttweenPooling.PushTween(clean as ITween);\n\t\t} else if (clean.Type === TweenType.Sequence) {\n\t\t\tsequencePooling.PushSequence(clean as ISequence);\n\t\t}\n\t}\n\ttoClean.length = 0;\n}\n\n/**\n * Helper to create a tween (use the tween pool)\n *\n * @export\n * @param {*} obj\n * @param {string[]} properties\n * @returns {ITween}\n */\nexport function Tween(obj: any, properties: string[]): ITween {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\n\tlet tween = tweenPooling.PopTween();\n\ttween.Init(obj, properties);\n\ttween.SetParent(tickerManager as ITicker);\n\treturn tween;\n}\n\n/**\n * Helper to create a Sequence (use the sequence pool)\n *\n * @export\n * @returns {ISequence}\n */\nexport function Sequence(): ISequence {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\treturn new sequence().SetParent(tickerManager as ITicker);\n}\n\n/**\n * This part manage the auto-update loop if necessary (browser only)\n */\nlet requestFrame: any;\nlet cancelFrame: any;\nif (typeof(window) !== 'undefined') {\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame || window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\n}\n\nfunction updateLoop(timestamp: number) {\n\tlet dt = timestamp - lastTime;\n\tif (isFirstUpdate) {\n\t\tdt = 1;\n\t\tisFirstUpdate = false;\n\t}\n\n\t// cap to 500 ms\n\tif (dt > 500) {\n\t\tconsole.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\n\t\tdt = 500;\n\t}\n\n\tUpdate(dt);\n\tlastTime = timestamp;\n\tlastFrame = requestFrame(updateLoop);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/index.ts","import { BaseTween } from './baseTween';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITween } from '../core/interfaces/ITween';\nimport { IPlayable } from '../core/interfaces/IPlayable';\nimport { Callback } from './callback';\nimport { Delay } from './delay';\nimport { TweenType } from '../core/enum/tweenType';\nimport { State } from '../core/enum/state';\n\nexport class Sequence extends BaseTween implements ISequence, ITicker, IPlayable {\n\tpublic get Type() {\n\t\treturn TweenType.Sequence;\n\t}\n\n\tprivate eventTick: {(dt: number): void}[] = [];\n\tprivate eventStepStart: {(tween: ITween | IPlayable): void}[] = [];\n\tprivate eventStepEnd: {(tween: ITween | IPlayable): void}[] = [];\n\tprivate tweens: ((ITween | IPlayable)[])[] = [];\n\tprivate currentTween: (ITween | IPlayable)[] | undefined;\n\tprivate sequenceIndex = 0;\n\tprivate cleanTweens: (ITween | ISequence)[] = [];\n\tprivate cleaned: boolean;\n\n\tpublic get CurrentTween(): (ITween | IPlayable)[] | undefined {\n\t\treturn this.currentTween;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.tickCb = (dt: number) => {\n\t\t\tif (this.state === State.Finished || this.state === State.Killed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet localDt = dt * this.timescale;\n\t\t\tthis.elapsed += localDt;\n\t\t\tthis.Tick(localDt);\n\t\t};\n\t}\n\n\tpublic Start(): ISequence {\n\t\tsuper.Start();\n\t\treturn this;\n\t}\n\n\tprotected Validate() {\n\t}\n\n\tprotected LoopInit() {\n\t\tthis.sequenceIndex = 0;\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\t(tween as BaseTween).Reset(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic SetParent(ticker: ITicker): ISequence {\n\t\tsuper.SetParent(ticker);\n\t\treturn this;\n\t}\n\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventTick.unshift(cb);\n\t}\n\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tlet index = this.eventTick.indexOf(cb);\n\t\tif (index !== -1) {\n\t\t\tthis.eventTick.splice(index, 1);\n\t\t}\n\t}\n\n\tprivate Tick(dt: number, remains?: boolean) {\n\t\t// If no current tween, take the first one and start it\n\t\tif (!this.currentTween) {\n\t\t\tthis.currentTween = this.tweens[this.sequenceIndex];\n\t\t\tif (this.currentTween) {\n\t\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\t\tlet tween = this.currentTween[i];\n\t\t\t\t\ttween.Start();\n\t\t\t\t}\n\n\t\t\t\tthis.StepStarted(this.currentTween[0]);\n\t\t\t}\n\t\t}\n\n\t\tif (this.currentTween) {\n\t\t\t// Tick every listener\n\t\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\n\t\t\t\tthis.eventTick[i](dt);\n\t\t\t}\n\n\t\t\t// Dont emit update event for remains dt\n\t\t\tif (remains !== true) {\n\t\t\t\tsuper.Updated(dt, 0);\n\t\t\t}\n\t\t}\n\n\t\tlet remainsDt = dt;\n\n\t\t// Current tween over\n\t\tif (this.currentTween) {\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\tif (!this.currentTween[i].IsCompleted()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet first = this.currentTween[0];\n\t\t\tremainsDt = first.Elapsed - first.Duration;\n\n\t\t\tthis.StepEnded(this.currentTween[0]);\n\t\t\tthis.currentTween = undefined;\n\t\t\tthis.sequenceIndex++;\n\n\t\t\tif (remainsDt > 0.01) {\n\t\t\t\tthis.Tick(remainsDt, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Complete\n\t\tif (!this.currentTween && this.tweens.length === this.sequenceIndex) {\n\t\t\tthis.loop--;\n\t\t\tif (this.loop === 0) {\n\t\t\t\tthis.Complete();\n\t\t\t} else {\n\t\t\t\tthis.ResetAndStart(false, remainsDt);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate StepStarted(tween: (ITween | IPlayable)) {\n\t\tfor (let i = 0; i < this.eventStepStart.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventStepStart[i](tween);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate StepEnded(tween: (ITween | IPlayable)) {\n\t\tfor (let i = 0; i < this.eventStepEnd.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventStepEnd[i](tween);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic Append(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [tween];\n\t\treturn this;\n\t}\n\n\tpublic AppendCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic AppendInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic Prepend(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens.unshift([tween]);\n\t\treturn this;\n\t}\n\n\tpublic PrependCallback(cb: () => void): ISequence {\n\t\tlet playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic PrependInterval(duration: number): ISequence {\n\t\tlet playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic Skip(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant skip this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\tif (tween.IsKilled() || tween.IsCompleted()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (tween.Elapsed === 0) {\n\t\t\t\t\tthis.StepStarted(tween);\n\t\t\t\t}\n\t\t\t\ttween.Skip();\n\t\t\t\tthis.StepEnded(tween);\n\t\t\t}\n\t\t}\n\t\tsuper.Skip();\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant kill this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tlet tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tlet tween = tweenArray[j];\n\t\t\t\tif (tween.IsKilled() || tween.IsCompleted()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ttween.Kill();\n\t\t\t}\n\t\t}\n\t\tsuper.Kill();\n\t}\n\n\tpublic Join(tween: ITween | ISequence): ISequence {\n\t\tif (this.tweens.length === 0) {\n\t\t\treturn this.Append(tween);\n\t\t}\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\n\t\treturn this;\n\t}\n\n\tpublic SetTimescale(scale: number): ISequence {\n\t\tthis.timescale = scale;\n\t\treturn this;\n\t}\n\n\tpublic SetLoop(loop: number): ISequence {\n\t\tthis.loop = Math.round(loop);\n\t\treturn this;\n\t}\n\n\tpublic Default() {\n\t\tsuper.Default();\n\t\tthis.eventTick.length = 0;\n\t\tthis.eventStepStart.length = 0;\n\t\tthis.eventStepEnd.length = 0;\n\t\tthis.tweens.length = 0;\n\t\tthis.currentTween = undefined;\n\t\tthis.sequenceIndex = 0;\n\t\tthis.cleanTweens.length = 0;\n\t\tthis.cleaned = false;\n\t}\n\n\tpublic Cleanup() {\n\t\tif (!this.parent || this.cleaned) {\n\t\t\treturn;\n\t\t}\n\t\tthis.cleaned = true;\n\t\tthis.cleanTweens[this.cleanTweens.length] = this;\n\t\tthis.parent.Clean(this.cleanTweens);\n\t}\n\n\tpublic Clean(data: (ITween | ISequence)[]) {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tthis.cleanTweens[this.cleanTweens.length] = data[i];\n\t\t}\n\t}\n\n\tpublic OnStart(cb: () => void): ISequence {\n\t\tsuper.OnStart(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ISequence {\n\t\tsuper.OnUpdate(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnKilled(cb: () => void): ISequence {\n\t\tsuper.OnKilled(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnComplete(cb: () => void): ISequence {\n\t\tsuper.OnComplete(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tthis.eventStepStart[this.eventStepStart.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tthis.eventStepEnd[this.eventStepEnd.length] = cb;\n\t\treturn this;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/sequence.ts","import { ITicker } from '../core/interfaces/ITicker';\nimport { State } from '../core/enum/state';\nimport { TweenType } from '../core/enum/tweenType';\n\nexport abstract class BaseTween {\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\tpublic timescale = 1;\n\tprotected loop = 1;\n\n\tpublic abstract get Type(): TweenType;\n\n\tpublic get Elapsed() {\n\t\treturn this.elapsed;\n\t}\n\tpublic get Duration() {\n\t\treturn this.duration;\n\t}\n\n\tprotected parent: ITicker;\n\tprotected tickCb: (dt: number) => void;\n\tprotected state: State = State.Idle;\n\n\tprivate eventStart: {(): void}[] = [];\n\tprivate eventUpdate: {(dt: number, progress: number): void}[] = [];\n\tprivate eventKill: {(): void}[] = [];\n\tprivate eventComplete: {(): void}[] = [];\n\tprivate firstStart = true;\n\n\tprotected abstract Validate(): void;\n\tprotected abstract LoopInit(): void;\n\n\tpublic SetParent(ticker: ITicker): void {\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\t\tthis.parent = ticker;\n\t}\n\n\tpublic IsRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\n\tpublic IsCompleted(): boolean {\n\t\treturn this.state === State.Finished;\n\t}\n\n\tpublic IsKilled(): boolean {\n\t\treturn this.state === State.Killed;\n\t}\n\n\tpublic Start(): void {\n\t\tif (this.state !== State.Idle) {\n\t\t\tconsole.warn('cant start this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.firstStart) {\n\t\t\tthis.Validate();\n\t\t} else {\n\t\t\tthis.CheckPosition();\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\n\t\tif (this.firstStart) {\n\t\t\tthis.Started();\n\t\t\tthis.firstStart = false;\n\t\t}\n\t}\n\n\tpublic Reset(resetloop?: boolean): void {\n\t\tthis.state = State.Idle;\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tif (resetloop === true) {\n\t\t\tthis.loop = 1;\n\t\t}\n\n\t\tthis.LoopInit();\n\t}\n\n\tpublic ResetAndStart(resetloop: boolean, dtRemains: number) {\n\t\tif (resetloop === true) {\n\t\t\tthis.loop = 1;\n\t\t}\n\n\t\tthis.LoopInit();\n\n\t\tthis.state = State.Run;\n\t\tif (dtRemains > 0) {\n\t\t\tthis.tickCb(dtRemains);\n\t\t}\n\t}\n\n\tpublic Skip(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant skip this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.Started();\n\t\t}\n\n\t\tthis.elapsed = this.duration;\n\t\tthis.Complete();\n\t}\n\n\tpublic Pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\tconsole.warn('cant pause this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Pause;\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\t}\n\n\tpublic Resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\tconsole.warn('cant resume this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant kill this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tthis.state = State.Killed\n\t\tthis.Killed();\n\t\tthis.Cleanup();\n\t}\n\n\tprotected CheckPosition(): void {}\n\n\tprotected abstract Cleanup(): void;\n\n\tpublic Default() {\n\t\tthis.elapsed = 0;\n\t\tthis.duration = 0;\n\t\tthis.timescale = 1;\n\t\tthis.loop = 1;\n\t\tthis.eventStart.length = 0;\n\t\tthis.eventUpdate.length = 0;\n\t\tthis.eventKill.length = 0;\n\t\tthis.eventComplete.length = 0;\n\t\tthis.firstStart = true;\n\t\tthis.state = State.Idle;\n\t}\n\n\tprotected Complete(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tconsole.warn('cant complete this tween, already in state', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\n\t\tthis.state = State.Finished;\n\t\tthis.Completed();\n\t\tthis.Cleanup();\n\t}\n\n\tprotected Started() {\n\t\tfor (let i = 0; i < this.eventStart.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventStart[i]();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t\tthis.eventStart.length = 0;\n\t}\n\n\tprotected Updated(dt: number, progress: number) {\n\t\tfor (let i = 0; i < this.eventUpdate.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventUpdate[i](dt, progress);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected Killed() {\n\t\tfor (let i = 0; i < this.eventKill.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventKill[i]();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t\tthis.eventKill.length = 0;\n\t}\n\n\tprotected Completed() {\n\t\tfor (let i = 0; i < this.eventComplete.length; i++) {\n\t\t\ttry {\n\t\t\t\tthis.eventComplete[i]();\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn(e);\n\t\t\t}\n\t\t}\n\t\tthis.eventComplete.length = 0;\n\t}\n\n\tpublic OnStart(cb: () => void): void {\n\t\tthis.eventStart[this.eventStart.length] = cb;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): void {\n\t\tthis.eventUpdate[this.eventUpdate.length] = cb;\n\t}\n\n\tpublic OnKilled(cb: () => void): void {\n\t\tthis.eventKill[this.eventKill.length] = cb;\n\t}\n\n\tpublic OnComplete(cb: () => void): void {\n\t\tthis.eventComplete[this.eventComplete.length] = cb;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/baseTween.ts","export enum State {\r\n\tIdle,\r\n\tRun,\r\n\tPause,\r\n\tFinished,\r\n\tKilled\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/state.ts","import { BaseTween } from './baseTween';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport class Callback extends BaseTween implements IPlayable {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Callback;\r\n\t}\r\n\r\n\tconstructor(cb: () => void) {\r\n\t\tsuper();\r\n\t\tthis.tickCb = (dt: number) => {\r\n\t\t\tthis.elapsed += dt;\r\n\t\t\tthis.duration = 0;\r\n\r\n\t\t\tcb();\r\n\r\n\t\t\tthis.Updated(dt, 1);\r\n\t\t\tthis.Complete();\r\n\t\t};\r\n\t}\r\n\r\n\tprotected Validate() {}\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tprotected Cleanup(): void {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/callback.ts","export enum TweenType {\r\n\tTicker,\r\n\tSequence,\r\n\tTween,\r\n\tCallback,\r\n\tDelay,\r\n\tNone\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/tweenType.ts","import { BaseTween } from './baseTween';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { TweenType } from '../core/enum/tweenType';\r\n\r\nexport class Delay extends BaseTween implements IPlayable {\r\n\tpublic get Type() {\r\n\t\treturn TweenType.Delay;\r\n\t}\r\n\r\n\tconstructor(duration: number) {\r\n\t\tsuper();\r\n\t\tthis.duration = duration;\r\n\t\tthis.tickCb = (dt: number) => {\r\n\t\t\tthis.elapsed += dt;\r\n\r\n\t\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tsuper.Updated(dt, progress);\r\n\r\n\t\t\tif (this.elapsed >= this.duration) {\r\n\t\t\t\tthis.Complete();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tprotected Validate() {}\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tprotected Cleanup(): void {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/delay.ts","import { ITicker } from './core/interfaces/ITicker';\nimport { State } from './core/enum/state';\nimport { TweenType } from './core/enum/tweenType';\nimport { ITween } from './core/interfaces/ITween';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { EventList } from './core/eventList';\n\n/**\n * Main Fatina Ticker\n * Parent of all the normal tween and sequence\n *\n * @export\n * @class Ticker\n * @extends {EventList}\n * @implements {ITicker}\n */\nexport class Ticker extends EventList implements ITicker {\n\tpublic get Type() {\n\t\treturn TweenType.Ticker;\n\t}\n\n\tprivate state = State.Idle;\n\tprivate timescale = 1;\n\tprivate elapsed = 0;\n\tprivate update = 0;\n\tprivate eventToAdd: { (dt: number): void }[] = [];\n\tprivate eventToRemove: { (dt: number): void }[] = [];\n\tprivate clean1: (ITween | ISequence)[] = [];\n\tprivate clean2: (ITween | ISequence)[] = [];\n\n\tpublic ToClean(): (ITween | ISequence)[] {\n\t\treturn this.update % 2 === 1 ? this.clean1 : this.clean2;\n\t}\n\n\tpublic get Elapsed(): number {\n\t\treturn this.elapsed;\n\t}\n\n\tpublic get Duration(): number {\n\t\treturn 0;\n\t}\n\n\tpublic IsCompleted(): boolean {\n\t\treturn this.state === State.Finished;\n\t}\n\n\tpublic IsRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\n\tpublic IsKilled(): boolean {\n\t\treturn this.state === State.Killed;\n\t}\n\n\t/**\n\t * Method used to change the timescale\n\t *\n\t * @param {number} scale\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic SetTimescale(scale: number): void {\n\t\tthis.timescale = scale;\n\t}\n\n\t/**\n\t * Method used by the child to be updated\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventToAdd.push(cb);\n\t}\n\n\t/**\n\t * Method used by the child to not receive update anymore\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventToRemove.push(cb);\n\t}\n\n\t/**\n\t * Method used to update the array of listener\n\t * This is mostly for performance reason, being able to batch this operation in the updateLoop\n\t *\n\t * @private\n\t *\n\t * @memberOf Ticker\n\t */\n\tprivate UpdateListener() {\n\t\tif (this.eventToAdd.length > 0) {\n\t\t\tfor (let i = 0; i < this.eventToAdd.length; i++) {\n\t\t\t\tthis.Add(this.eventToAdd[i]);\n\t\t\t}\n\t\t\tthis.eventToAdd = [];\n\t\t}\n\n\t\tif (this.eventToRemove.length > 0) {\n\t\t\tfor (let i = 0; i < this.eventToRemove.length; i++) {\n\t\t\t\tthis.Remove(this.eventToRemove[i]);\n\t\t\t}\n\t\t\tthis.eventToRemove = [];\n\t\t}\n\t}\n\n\t/**\n\t * Method used to tick all the child (tick listeners)\n\t *\n\t * @param {number} dt\n\t * @returns\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic Tick(dt: number) {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.UpdateListener();\n\n\t\tlet localDt = dt * this.timescale;\n\t\tfor (let tick: any = this.first; tick; tick = tick.node_next) {\n\t\t\ttick(localDt);\n\t\t}\n\t\tthis.elapsed += localDt;\n\t\tthis.update++;\n\n\t\tthis.UpdateListener();\n\t}\n\n\tpublic Start(): void {\n\t\tif (this.state !== State.Idle) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Run;\n\t}\n\n\tpublic Pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Pause;\n\t}\n\n\tpublic Resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Run;\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state = State.Killed;\n\t}\n\n\tpublic Skip(): void {\n\t\tthrow new Error('The main ticker cannot be skipped');\n\t}\n\n\tpublic Reset(): void {\n\t\tthis.state = State.Idle;\n\t}\n\n\t/**\n\t * Method used to clean a list of old tween / sequence\n\t * This is using 2 array to avoid allocating new one on each frames\n\t *\n\t * @param {((ITween | ISequence)[])} data\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic Clean(data: (ITween | ISequence)[]): void {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tlet obj = data[i];\n\t\t\tif (this.update % 2 === 0) {\n\t\t\t\tthis.clean1.push(obj);\n\t\t\t} else {\n\t\t\t\tthis.clean2.push(obj);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic GetCleanTweens(): (ITween | ISequence)[] {\n\t\tlet toClean = this.update % 2 === 1 ? this.clean1 : this.clean2;\n\t\tfor (let i = 0; i < toClean.length; i++) {\n\t\t\ttoClean[i].Default();\n\t\t}\n\t\treturn toClean;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/ticker.ts","export abstract class EventList {\n\tpublic first: INode | undefined;\n\tpublic last: INode | undefined;\n\tpublic length = 0;\n\n\tpublic Add(obj: any): void {\n\t\tlet newNode = this.GetNode(obj, this.last, undefined, this);\n\t\tif (this.first === undefined) {\n\t\t\tthis.first = newNode;\n\t\t\tthis.last = newNode;\n\t\t} else if (this.last !== undefined) {\n\t\t\tthis.last.node_next = newNode;\n\t\t\tthis.last = newNode;\n\t\t}\n\t\tthis.length += 1;\n\t}\n\n\tpublic Pop(): INode | undefined {\n\t\tlet first = this.first;\n\t\tthis.Remove(first);\n\t\treturn first;\n\t}\n\n\tpublic Remove(obj: any): void {\n\t\tlet node = obj as INode;\n\t\tif (node === undefined) {\n\t\t\tconsole.log('Trying to remove an object which is not a node');\n\t\t\treturn;\n\t\t}\n\n\t\tif (node.node_list !== this) {\n\t\t\t// console.warn('Trying to remove a node that does not belong to the list');\n\t\t\treturn;\n\t\t}\n\n\t\t// Removing any existing reference to the node\n\t\tif (node.node_next === undefined) {\n\t\t\tthis.last = node.node_previous;\n\t\t} else {\n\t\t\tnode.node_next.node_previous = node.node_previous;\n\t\t}\n\n\t\tif (node.node_previous === undefined) {\n\t\t\tthis.first = node.node_next;\n\t\t} else {\n\t\t\tnode.node_previous.node_next = node.node_next;\n\t\t}\n\n\t\t// Removing any existing reference from the node\n\t\tnode.node_valid = false;\n\t\tnode.node_previous = undefined;\n\t\tnode.node_next = undefined;\n\t\tnode.node_list = undefined;\n\n\t\t// One less node in the list\n\t\tthis.length -= 1;\n\t}\n\n\tpublic Clear() {\n\t\tlet node = this.first;\n\t\twhile (node !== undefined) {\n\t\t\tlet nextNode = node.node_next;\n\t\t\tnode.node_valid = false;\n\t\t\tnode.node_previous = undefined;\n\t\t\tnode.node_next = undefined;\n\t\t\tnode.node_list = undefined;\n\t\t\tnode = nextNode;\n\t\t}\n\n\t\tthis.first = undefined;\n\t\tthis.last = undefined;\n\t\tthis.length = 0;\n\t}\n\n\tprivate GetNode(obj: any, previous: INode | undefined, next: INode | undefined, list: EventList): INode {\n\t\tlet node = obj as INode;\n\t\tif (!node.node_valid) {\n\t\t\tnode.node_valid = true;\n\t\t\tnode.node_previous = previous;\n\t\t\tnode.node_next = next;\n\t\t\tnode.node_list = list;\n\t\t}\n\t\treturn node;\n\t}\n}\n\nexport interface INode {\n\tnode_valid: boolean;\n\tnode_previous: INode | undefined;\n\tnode_next: INode | undefined;\n\tnode_list: EventList | undefined;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/eventList.ts","import { Tween } from '../tweens/tween';\nimport { ITween } from '../core/interfaces/ITween';\n\nexport class TweenPool {\n\tprivate targetSize: number;\n\tprivate tweens: ITween[] = [];\n\n\tconstructor(size: number) {\n\t\tthis.targetSize = size * 2;\n\t\tfor (let i = 0; i < size; i ++) {\n\t\t\tthis.Add(this.CreateTween());\n\t\t}\n\t}\n\n\tprivate Add(tween: ITween) {\n\t\tthis.tweens.push(tween);\n\t}\n\n\tprivate Pop(): ITween | undefined {\n\t\treturn this.tweens.shift();\n\t}\n\n\tprivate CreateTween(): ITween {\n\t\treturn new Tween(null, []);\n\t}\n\n\tpublic PopTween(): ITween {\n\t\tlet tween = this.Pop() as any;\n\t\tif (tween === undefined) {\n\t\t\treturn this.CreateTween();\n\t\t}\n\t\ttween.Default();\n\t\treturn tween;\n\t}\n\n\tpublic PushTween(tween: ITween) {\n\t\tif (tween === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.tweens.length > this.targetSize) {\n\t\t\treturn;\n\t\t}\n\t\ttween.Default();\n\t\tthis.Add(tween);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/pooling/tweenPool.ts","\nimport { BaseTween } from './baseTween';\nimport { ITween } from '../core/interfaces/ITween';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { EasingType } from '../core/enum/easingType';\nimport { easeNames, easeTypes } from '../easing/easing';\nimport { Sequence } from './sequence';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { TweenType } from '../core/enum/tweenType';\nimport { State } from '../core/enum/state';\n\n/**\n * Tween class\n * Takes control of a/many values of one object and animates them.\n *\n * @export\n * @class Tween\n * @extends {BaseTween}\n * @implements {ITween}\n */\nexport class Tween extends BaseTween implements ITween {\n\tpublic get Type() {\n\t\treturn TweenType.Tween;\n\t}\n\n\tpublic get Object() {\n\t\treturn this.object;\n\t}\n\n\tprivate object: any;\n\tprivate properties: string[];\n\tprivate from: any;\n\tprivate to: any;\n\tprivate currentFrom: any;\n\tprivate currentTo: any;\n\tprivate cleaned: boolean;\n\n\tprivate relative = false;\n\tprivate ease: (t: number, args?: any) => number;\n\n\tconstructor(object: any, properties: string[]) {\n\t\tsuper();\n\n\t\tthis.object = object;\n\t\tthis.properties = properties;\n\n\t\tthis.tickCb = (dt: number) => {\n\t\t\tif (this.state === State.Finished || this.state === State.Killed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet localDt = dt * this.timescale;\n\t\t\tthis.elapsed += localDt;\n\n\t\t\tlet progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\t\tthis.Update(localDt, progress);\n\n\t\t\tif (this.elapsed >= this.duration) {\n\t\t\t\tthis.loop--;\n\t\t\t\tif (this.loop === 0) {\n\t\t\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\t\t\tlet prop = this.properties[i];\n\t\t\t\t\t\tthis.object[prop] = this.currentTo[prop];\n\t\t\t\t\t}\n\t\t\t\t\tthis.Complete();\n\t\t\t\t} else {\n\t\t\t\t\tthis.CheckPosition();\n\t\t\t\t\tthis.ResetAndStart(false, this.elapsed - this.duration);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Used to define the object and the properties modified by this tween\n\t *\n\t * @param {*} object\n\t * @param {string[]} properties\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Init(object: any, properties: string[]) {\n\t\tthis.object = object;\n\t\tthis.properties = properties;\n\t}\n\n\t/**\n\t * Method used to start a tween\n\t *\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Start(): ITween {\n\t\tsuper.Start();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used on start to check the values of this tween\n\t *\n\t * @protected\n\t *\n\t * @memberOf Tween\n\t */\n\tprotected Validate() {\n\t\t// Check the object\n\t\tif (!this.object) {\n\t\t\tthrow new Error('Cant Tween a undefined object');\n\t\t}\n\n\t\t// Check the properties of that object\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\t\t\tif (!(prop in this.object)) {\n\t\t\t\tthrow new Error('Cant Tween an unknown property' + prop);\n\t\t\t}\n\t\t}\n\n\t\t// Check this tween will be updated\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('Cant Start a tween without ticker');\n\t\t}\n\n\t\t// Easing\n\t\tif (!this.ease) {\n\t\t\tthis.ease = easeTypes[EasingType.Linear];\n\t\t}\n\n\t\tthis.CheckPosition();\n\t}\n\n\tprotected CheckPosition() {\n\t\tthis.currentFrom = {};\n\t\tthis.currentTo = {};\n\n\t\t// From\n\t\tif (!this.from) {\n\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\tlet prop = this.properties[i];\n\t\t\t\tthis.currentFrom[prop] = this.object[prop];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\tlet prop = this.properties[i];\n\t\t\t\tthis.currentFrom[prop] = this.from[prop];\n\t\t\t\tthis.object[prop] = this.from[prop];\n\t\t\t}\n\t\t}\n\n\t\t// Relative\n\t\tif (this.relative) {\n\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\tlet prop = this.properties[i];\n\t\t\t\tthis.currentTo[prop] = this.object[prop] + this.to[prop];\n\t\t\t}\n\t\t} else {\n\t\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\t\tlet prop = this.properties[i];\n\t\t\t\tthis.currentTo[prop] = this.to[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Method used to update the properties and emit the onUpdate event\n\t *\n\t * @private\n\t * @param {number} dt\n\t * @param {number} progress\n\t *\n\t * @memberOf Tween\n\t */\n\tprivate Update(dt: number, progress: number) {\n\t\tlet val = this.ease(progress);\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\t\t\tthis.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\n\t\t}\n\t\tsuper.Updated(dt, progress);\n\t}\n\n\t/**\n\t * Method used to define the ticker of this tween\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\n\t *\n\t * @param {ITicker} ticker\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetParent(ticker: ITicker): ITween {\n\t\tsuper.SetParent(ticker);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to set the values at the beginning of the tween\n\t *\n\t * @param {*} from\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic From(from: any): ITween {\n\t\tthis.from = from;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to set the values at the end of the tween\n\t *\n\t * @param {*} to\n\t * @param {number} duration\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic To(to: any, duration: number): ITween {\n\t\tthis.to = to;\n\t\tthis.duration = duration;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to define how many time the tween has to loop\n\t * Extra: if -1 the tween will loop forever\n\t *\n\t * @param {number} loop\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetLoop(loop: number): ITween {\n\t\tthis.loop = Math.round(loop);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to define if the tween as to work in relative or not\n\t *\n\t * @param {boolean} relative\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetRelative(relative: boolean): ITween {\n\t\tthis.relative = relative;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used to change the timescale of the tween\n\t *\n\t * @param {number} scale\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetTimescale(scale: number): ITween {\n\t\tthis.timescale = scale;\n\t\treturn this;\n\t}\n\n\t/**\n\t * To apply a modifier on a current tween\n\t *\n\t * @param {*} diff\n\t * @param {boolean} updateTo\n\t *\n\t * @memberof Tween\n\t */\n\tpublic Modify(diff: any, updateTo: boolean): void {\n\t\tfor (let i = 0; i < this.properties.length; i++) {\n\t\t\tlet prop = this.properties[i];\n\t\t\tif (!diff.hasOwnProperty(prop)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.object[prop] += diff[prop];\n\t\t\tif (updateTo) {\n\t\t\t\tthis.currentTo[prop] += diff[prop];\n\t\t\t} else {\n\t\t\t\tthis.currentFrom[prop] += diff[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Method used to create a sequence with this tween as first value.\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\n\t *\n\t * @returns {ISequence}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic ToSequence(): ISequence {\n\t\tif (!this.parent) {\n\t\t\tthrow new Error('Cant convert to a sequence, parent ticker not defined');\n\t\t}\n\t\treturn new Sequence().SetParent(this.parent).Append(this);\n\t}\n\n\tprivate Easing(type: EasingType | string): (t: number) => number {\n\t\tlet name = type as string;\n\t\tlet isNumber = !isNaN(parseFloat(name));\n\n\t\tif (isNumber) {\n\t\t\tlet index = parseInt(name, 10);\n\t\t\tif (index in easeTypes) {\n\t\t\t\treturn easeTypes[index];\n\t\t\t}\n\t\t}\n\n\t\tif (name in easeNames) {\n\t\t\treturn easeNames[name];\n\t\t}\n\n\t\tthrow new Error('Unknown ease method ' + type);\n\t}\n\n\t/**\n\t * Method used to set the type of easing for this tween\n\t *\n\t * @param {(EasingType | string)} type\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetEasing(type: EasingType | string): ITween {\n\t\tthis.ease = this.Easing(type)\n\t\treturn this;\n\t}\n\n\t/**\n\t * Method used when the tween is reset (loop)\n\t *\n\t * @protected\n\t *\n\t * @memberOf Tween\n\t */\n\tprotected LoopInit() {\n\t\tthis.elapsed = 0;\n\t}\n\n\t/**\n\t * Method used to notify the ticker that this tween is finished (can be clean)\n\t *\n\t * @returns\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Cleanup() {\n\t\tif (!this.parent || this.cleaned) {\n\t\t\treturn;\n\t\t}\n\t\tthis.cleaned = true;\n\t\tthis.parent.Clean([this]);\n\t}\n\n\t/**\n\t * Method used set everything back to normal values\n\t *\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic Default() {\n\t\tsuper.Default();\n\t\tthis.object = undefined;\n\t\tthis.properties.length = 0;\n\t\tthis.from = undefined;\n\t\tthis.to = undefined;\n\t\tthis.currentFrom = undefined;\n\t\tthis.currentTo = undefined;\n\t\tthis.relative = false;\n\t\tthis.ease = easeTypes[0];\n\t\tthis.cleaned = false;\n\t}\n\n\tpublic OnStart(cb: () => void): ITween {\n\t\tsuper.OnStart(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): ITween {\n\t\tsuper.OnUpdate(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnKilled(cb: () => void): ITween {\n\t\tsuper.OnKilled(cb);\n\t\treturn this;\n\t}\n\n\tpublic OnComplete(cb: () => void): ITween {\n\t\tsuper.OnComplete(cb);\n\t\treturn this;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/tween.ts","export enum EasingType {\r\n\tLinear,\r\n\tInQuad,\r\n\tOutQuad,\r\n\tInOutQuad,\r\n\tInCubic,\r\n\tOutCubic,\r\n\tInOutCubic,\r\n\tInQuart,\r\n\tOutQuart,\r\n\tInOutQuart,\r\n\tInSine,\r\n\tOutSine,\r\n\tInOutSine,\r\n\tInCirc,\r\n\tOutCirc,\r\n\tInOutCirc,\r\n\tInQuint,\r\n\tOutQuint,\r\n\tInOutQuint,\r\n\tInExponential,\r\n\tOutExponential,\r\n\tInOutExponential,\r\n\tInElastic,\r\n\tOutElastic,\r\n\tInOutElastic,\r\n\tInBack,\r\n\tOutBack,\r\n\tInOutBack,\r\n\tInBounce,\r\n\tOutBounce,\r\n\tInOutBounce\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/easingType.ts","import { EasingType } from '../core/enum/easingType';\r\n\r\n/**\r\n * List of easing method\r\n *\r\n * Mostly based on http://easings.net/\r\n */\r\nlet PI = Math.PI;\r\nlet PI_OVER_TWO = Math.PI / 2;\r\nlet BACK = 1.70158;\r\n\r\nlet easingByType: ((t: number, args?: any) => number)[] = [];\r\nlet easingByName: { [id: string]: (t: number, args?: any) => number } = {};\r\n\r\n// Linear\r\neasingByType[EasingType.Linear] = easingByName['linear'] = function (t: number): number {\r\n\treturn t;\r\n};\r\n\r\n// Quad\r\neasingByType[EasingType.InQuad] = easingByName['inQuad'] = function (t: number): number {\r\n\treturn t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuad] = easingByName['outQuad'] = function (t: number): number {\r\n\treturn 2 * t - t * t;\r\n};\r\n\r\neasingByType[EasingType.InOutQuad] = easingByName['inOutQuad'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 2 * t * t;\r\n\t} else {\r\n\t\treturn 2 * (2 * t - t * t) - 1;\r\n\t}\r\n};\r\n\r\n// Cubic\r\neasingByType[EasingType.InCubic] = easingByName['inCubic'] = function (t: number): number {\r\n\treturn t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutCubic] = easingByName['outCubic'] = function (t: number): number {\r\n\treturn 3 * t - 3 * t * t + t * t * t;\r\n};\r\n\r\neasingByType[EasingType.InOutCubic] = easingByName['inOutCubic'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 4 * t * t * t;\r\n\t} else {\r\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t}\r\n};\r\n\r\n// Quart\r\neasingByType[EasingType.InQuart] = easingByName['inQuart'] = function (t: number): number {\r\n\treturn t * t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuart] = easingByName['outQuart'] = function (t: number): number {\r\n\tlet t2 = t * t;\r\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\n\r\neasingByType[EasingType.InOutQuart] = easingByName['inOutQuart'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn 8 * t * t * t * t;\r\n\t} else {\r\n\t\tlet t2 = t * t;\r\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t}\r\n};\r\n\r\n// Sine\r\neasingByType[EasingType.InSine] = easingByName['inSine'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByType[EasingType.OutSine] = easingByName['outSine'] = function (t: number): number {\r\n\treturn Math.sin(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByType[EasingType.InOutSine] = easingByName['inOutSine'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.cos(PI * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t}\r\n};\r\n\r\n// Circular\r\neasingByType[EasingType.InCirc] = easingByName['inCirc'] = function (t: number): number {\r\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\n\r\neasingByType[EasingType.OutCirc] = easingByName['outCirc'] = function (t: number): number {\r\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\n\r\neasingByType[EasingType.InOutCirc] = easingByName['inOutCirc'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t}\r\n};\r\n\r\n// Quint\r\neasingByType[EasingType.InQuint] = easingByName['inQuint'] = function (t: number): number {\r\n\treturn t * t * t * t * t;\r\n};\r\n\r\neasingByType[EasingType.OutQuint] = easingByName['outQuint'] = function (t: number): number {\r\n\treturn --t * t * t * t * t + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutQuint] = easingByName['inOutQuint'] = function (t: number): number {\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * t * t * t * t * t;\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\n\r\n// Exponential\r\neasingByType[EasingType.InExponential] = easingByName['inExponential'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\n\r\neasingByType[EasingType.OutExponential] = easingByName['outExponential'] = function (t: number): number {\r\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\r\n};\r\n\r\neasingByType[EasingType.InOutExponential] = easingByName['inOutExponential'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * Math.pow(1024, t - 1);\r\n\t}\r\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\r\n};\r\n\r\n// Elastic\r\neasingByType[EasingType.InElastic] = easingByName['inElastic'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\n\r\neasingByType[EasingType.OutElastic] = easingByName['outElastic'] = function (t: number): number {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutElastic] = easingByName['inOutElastic'] = function (t: number): number {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t}\r\n\r\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\n// Back\r\neasingByType[EasingType.InBack] = easingByName['inBack'] = function (t: number): number {\r\n\tlet s = BACK;\r\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\r\n};\r\n\r\neasingByType[EasingType.OutBack] = easingByName['outBack'] = function (t: number): number {\r\n\tlet s = BACK;\r\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\n\r\neasingByType[EasingType.InOutBack] = easingByName['inOutBack'] = function (t: number): number {\r\n\tlet s = BACK * 1.525;\r\n\tif ((t *= 2) < 1) {\r\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\n\r\n// Bounce\r\neasingByType[EasingType.OutBounce] = easingByName['outBounce'] = function (t: number): number {\r\n\tif (t < (1 / 2.75)) {\r\n\t\treturn 7.5625 * t * t;\r\n\t} else if (t < (2 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t} else if (t < (2.5 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t} else {\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t}\r\n};\r\n\r\neasingByType[EasingType.InBounce] = easingByName['inBounce'] = function (t: number): number {\r\n\treturn 1 - easingByType[EasingType.OutBounce](1 - t);\r\n};\r\n\r\neasingByType[EasingType.InOutBounce] = easingByName['inOutBounce'] = function (t: number): number {\r\n\tif (t < 0.5) {\r\n\t\treturn easingByType[EasingType.InBounce](t * 2) * 0.5;\r\n\t}\r\n\treturn easingByType[EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n};\r\n\r\n// Export both array\r\nexport let easeTypes = easingByType;\r\nexport let easeNames = easingByName;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easing.ts","import { ISequence } from '../core/interfaces/ISequence';\nimport { Sequence } from '../tweens/sequence';\n\nexport class SequencePool {\n\tprivate targetSize: number;\n\tprivate sequences: ISequence[] = [];\n\n\tconstructor(size: number) {\n\t\tthis.targetSize = size * 2;\n\t\tfor (let i = 0; i < size; i ++) {\n\t\t\tthis.Add(this.CreateSequence());\n\t\t}\n\t}\n\n\tprivate Add(tween: ISequence) {\n\t\tthis.sequences.push(tween);\n\t}\n\n\tprivate Pop(): ISequence | undefined {\n\t\treturn this.sequences.shift();\n\t}\n\n\tprivate CreateSequence(): ISequence {\n\t\treturn new Sequence();\n\t}\n\n\tpublic PopSequence(): ISequence {\n\t\tlet sequence = this.Pop();\n\t\tif (sequence === undefined) {\n\t\t\treturn this.CreateSequence();\n\t\t}\n\t\tsequence.Default();\n\t\treturn sequence;\n\t}\n\n\tpublic PushSequence(sequence: ISequence) {\n\t\tif (sequence === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.sequences.length > this.targetSize) {\n\t\t\treturn;\n\t\t}\n\n\t\tsequence.Default();\n\t\tthis.Add(sequence);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/pooling/sequencePool.ts"],"sourceRoot":""}