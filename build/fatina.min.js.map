{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///fatina.min.js","webpack:///webpack/bootstrap e11887ba1d4aa88f30fb","webpack:///./src/fatina/core/enum/state.ts","webpack:///./src/fatina/tweens/baseTween.ts","webpack:///./src/fatina/core/enum/log.ts","webpack:///./src/fatina/easing/easingType.ts","webpack:///./src/fatina/tweens/delay.ts","webpack:///./src/fatina/tweens/sequence.ts","webpack:///./src/fatina/index.ts","webpack:///./src/fatina/ticker.ts","webpack:///./src/fatina/core/eventList.ts","webpack:///./src/fatina/tweens/callback.ts","webpack:///./src/fatina/tweens/tween.ts","webpack:///./src/fatina/easing/easing.ts"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","State","log_1","state_1","BaseTween","elapsed","duration","timescale","state","Idle","loopOriginal","loop","yoyoOriginal","yoyo","firstStart","recycled","safe","logLevel","Log","None","Start","Validate","CheckPosition","Run","parent","CheckTickListener","tickCb","AddTickListener","EmitEvent","eventStart","Recycle","Reset","skipParent","RemoveParentListener","LoopInit","eventRestart","ResetAndStart","dtRemains","SetParent","ticker","SetTimescale","scale","Pause","Info","Resume","Skip","finalValue","Killed","Finished","Complete","Kill","eventKill","SetLoop","Math","round","IsIdle","IsRunning","IsFinished","IsPaused","eventComplete","RemoveTickListener","SetSafe","SetLog","level","message","data","console","log","Emit","func","args","apply","e","warn","listeners","length","OnStart","cb","Array","Debug","OnRestart","OnUpdate","eventUpdate","OnKilled","OnComplete","EasingType","__extends","extendStatics","setPrototypeOf","__proto__","b","__","constructor","create","baseTween_1","Delay","_super","_this","Tick","bind","dt","remainsDt","progress","max","min","callback_1","delay_1","Sequence","eventTick","tweens","sequenceIndex","tweenArray","j","unshift","index","indexOf","splice","localDt","LocalTick","remains","currentTween","NextTween","first","eventStepEnd","undefined","eventStepStart","Append","tween","AppendCallback","playable","Callback","AppendInterval","Prepend","PrependCallback","PrependInterval","Join","push","OnStepStart","OnStepEnd","Elapsed","tickerManager","MainTicker","initialized","Init","AddListenerCreated","eventCreated","RemoveListenerCreated","disableAutoTick","ticker_1","Ticker","lastFrame","requestFrame","updateLoop","isSafe","Destroy","cancelFrame","Update","timestamp","time","Tween","obj","properties","t","tween_1","AddContext","sequence_1","SetTimeout","fn","timeout","SetInterval","interval","EmitCreated","tick","handler","LoadPlugin","newPlugin","loadedPlugins","lastTime","isFirstUpdate","easingType_1","Easing","plugin","window","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","eventList_1","arguments","update","eventToAdd","eventToRemove","found","UpdateListener","Add","Remove","node_next","Error","EventList","newNode","GetNode","last","node","node_list","node_previous","node_valid","previous","next","list","callback","easing_1","steps","relative","prop","ease","easeId","Linear","easeNames","currentFrom","currentTo","from","to","val","Reverse","From","To","SetRelative","Modify","diff","updateTo","Yoyo","SetSteps","ToSequence","type","SetEasing","PI","PI_OVER_TWO","easingByName","InQuad","OutQuad","InOutQuad","InCubic","OutCubic","InOutCubic","InQuart","OutQuart","t2","InOutQuart","InSine","cos","OutSine","sin","InOutSine","InCirc","sqrt","pow","OutCirc","InOutCirc","InQuint","OutQuint","InOutQuint","InExponential","OutExponential","InOutExponential","InElastic","OutElastic","InOutElastic","InBack","OutBack","InOutBack","BACK","OutBounce","InBounce","InOutBounce"],"mappings":"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","file":"fatina.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Idle\"] = 0] = \"Idle\";\r\n    State[State[\"Run\"] = 1] = \"Run\";\r\n    State[State[\"Pause\"] = 2] = \"Pause\";\r\n    State[State[\"Finished\"] = 3] = \"Finished\";\r\n    State[State[\"Killed\"] = 4] = \"Killed\";\r\n})(State = exports.State || (exports.State = {}));\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar log_1 = __webpack_require__(2);\r\nvar state_1 = __webpack_require__(0);\r\nvar BaseTween = (function () {\r\n    function BaseTween() {\r\n        this.elapsed = 0;\r\n        this.duration = 0;\r\n        this.timescale = 1;\r\n        this.state = state_1.State.Idle;\r\n        this.loopOriginal = 1;\r\n        this.loop = 1;\r\n        this.yoyoOriginal = 0;\r\n        this.yoyo = 0;\r\n        this.firstStart = true;\r\n        this.recycled = false;\r\n        this.safe = true;\r\n        this.logLevel = log_1.Log.None;\r\n    }\r\n    BaseTween.prototype.Start = function () {\r\n        if (this.state !== state_1.State.Idle) {\r\n            return this;\r\n        }\r\n        if (this.firstStart) {\r\n            this.Validate();\r\n        }\r\n        else {\r\n            this.CheckPosition();\r\n        }\r\n        this.state = state_1.State.Run;\r\n        if (this.recycled) {\r\n            if (!this.parent.CheckTickListener(this.tickCb)) {\r\n                this.parent.AddTickListener(this.tickCb);\r\n            }\r\n            this.recycled = false;\r\n        }\r\n        else {\r\n            this.parent.AddTickListener(this.tickCb);\r\n        }\r\n        if (this.firstStart) {\r\n            this.EmitEvent(this.eventStart);\r\n            this.firstStart = false;\r\n        }\r\n        return this;\r\n    };\r\n    BaseTween.prototype.Recycle = function () {\r\n        this.Reset(true);\r\n        this.firstStart = true;\r\n        this.recycled = true;\r\n    };\r\n    BaseTween.prototype.Reset = function (skipParent) {\r\n        this.state = state_1.State.Idle;\r\n        if (!skipParent) {\r\n            this.RemoveParentListener();\r\n        }\r\n        this.loop = this.loopOriginal;\r\n        this.LoopInit();\r\n        this.EmitEvent(this.eventRestart);\r\n    };\r\n    BaseTween.prototype.ResetAndStart = function (dtRemains) {\r\n        this.LoopInit();\r\n        this.EmitEvent(this.eventRestart);\r\n        this.state = state_1.State.Run;\r\n        if (dtRemains > 0) {\r\n            this.tickCb(dtRemains);\r\n        }\r\n    };\r\n    BaseTween.prototype.SetParent = function (ticker) {\r\n        this.RemoveParentListener();\r\n        this.parent = ticker;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.SetTimescale = function (scale) {\r\n        this.timescale = scale;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.Pause = function () {\r\n        if (this.state !== state_1.State.Run) {\r\n            this.Info(log_1.Log.Info, 'Cannot pause this tween ', this.state);\r\n            return;\r\n        }\r\n        this.state = state_1.State.Pause;\r\n        this.RemoveParentListener();\r\n    };\r\n    BaseTween.prototype.Resume = function () {\r\n        if (this.state !== state_1.State.Pause) {\r\n            this.Info(log_1.Log.Info, 'Cannot resume this tween ', this.state);\r\n            return;\r\n        }\r\n        this.state = state_1.State.Run;\r\n        this.parent.AddTickListener(this.tickCb);\r\n    };\r\n    BaseTween.prototype.Skip = function (finalValue) {\r\n        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n            this.Info(log_1.Log.Info, 'Cannot skip this tween ', this.state);\r\n            return;\r\n        }\r\n        if (this.state === state_1.State.Idle) {\r\n            this.EmitEvent(this.eventStart);\r\n        }\r\n        if (finalValue) {\r\n            this.tickCb(this.duration - this.elapsed + (this.yoyo * this.duration));\r\n            return;\r\n        }\r\n        this.elapsed = this.duration;\r\n        this.Complete();\r\n    };\r\n    BaseTween.prototype.Kill = function () {\r\n        if (this.state === state_1.State.Killed) {\r\n            this.Info(log_1.Log.Info, 'Cannot kill this tween ', this.state);\r\n            return;\r\n        }\r\n        this.state = state_1.State.Killed;\r\n        this.RemoveParentListener();\r\n        this.EmitEvent(this.eventKill);\r\n    };\r\n    BaseTween.prototype.SetLoop = function (loop) {\r\n        this.loopOriginal = Math.round(loop);\r\n        this.loop = this.loopOriginal;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.IsIdle = function () {\r\n        return this.state === state_1.State.Idle;\r\n    };\r\n    BaseTween.prototype.IsRunning = function () {\r\n        return this.state === state_1.State.Run;\r\n    };\r\n    BaseTween.prototype.IsFinished = function () {\r\n        return this.state === state_1.State.Killed || this.state === state_1.State.Finished;\r\n    };\r\n    BaseTween.prototype.IsPaused = function () {\r\n        return this.state === state_1.State.Pause;\r\n    };\r\n    BaseTween.prototype.Complete = function () {\r\n        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n            this.Info(log_1.Log.Info, 'Cannot complete this tween ', this.state);\r\n            return;\r\n        }\r\n        this.state = state_1.State.Finished;\r\n        this.RemoveParentListener();\r\n        this.EmitEvent(this.eventComplete);\r\n    };\r\n    BaseTween.prototype.RemoveParentListener = function () {\r\n        if (this.parent) {\r\n            this.parent.RemoveTickListener(this.tickCb);\r\n        }\r\n    };\r\n    BaseTween.prototype.CheckPosition = function () { };\r\n    BaseTween.prototype.Validate = function () { };\r\n    BaseTween.prototype.LoopInit = function () {\r\n        this.elapsed = 0;\r\n    };\r\n    BaseTween.prototype.SetSafe = function (safe) {\r\n        this.safe = safe;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.SetLog = function (level) {\r\n        this.logLevel = level;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.Info = function (level, message, data) {\r\n        if (level > this.logLevel) {\r\n            return;\r\n        }\r\n        if (data) {\r\n            console.log(message, data);\r\n        }\r\n        else {\r\n            console.log(message);\r\n        }\r\n    };\r\n    BaseTween.prototype.Emit = function (func, args) {\r\n        if (!this.safe) {\r\n            return func.apply(this, args);\r\n        }\r\n        try {\r\n            func.apply(this, args);\r\n        }\r\n        catch (e) {\r\n            console.warn(e);\r\n        }\r\n    };\r\n    BaseTween.prototype.EmitEvent = function (listeners, args) {\r\n        if (!listeners) {\r\n            return;\r\n        }\r\n        for (var i = 0; i < listeners.length; i++) {\r\n            this.Emit(listeners[i], args);\r\n        }\r\n    };\r\n    BaseTween.prototype.OnStart = function (cb) {\r\n        if (!this.eventStart) {\r\n            this.eventStart = new Array(0);\r\n        }\r\n        this.eventStart[this.eventStart.length] = cb;\r\n        this.Info(log_1.Log.Debug, 'onStart');\r\n        return this;\r\n    };\r\n    BaseTween.prototype.OnRestart = function (cb) {\r\n        if (!this.eventRestart) {\r\n            this.eventRestart = new Array(0);\r\n        }\r\n        this.eventRestart[this.eventRestart.length] = cb;\r\n        this.Info(log_1.Log.Debug, 'onRestart');\r\n        return this;\r\n    };\r\n    BaseTween.prototype.OnUpdate = function (cb) {\r\n        if (!this.eventUpdate) {\r\n            this.eventUpdate = new Array(0);\r\n        }\r\n        this.eventUpdate[this.eventUpdate.length] = cb;\r\n        return this;\r\n    };\r\n    BaseTween.prototype.OnKilled = function (cb) {\r\n        if (!this.eventKill) {\r\n            this.eventKill = new Array(0);\r\n        }\r\n        this.eventKill[this.eventKill.length] = cb;\r\n        this.Info(log_1.Log.Debug, 'onKilled');\r\n        return this;\r\n    };\r\n    BaseTween.prototype.OnComplete = function (cb) {\r\n        if (!this.eventComplete) {\r\n            this.eventComplete = new Array(0);\r\n        }\r\n        this.eventComplete[this.eventComplete.length] = cb;\r\n        this.Info(log_1.Log.Debug, 'onComplete');\r\n        return this;\r\n    };\r\n    return BaseTween;\r\n}());\r\nexports.BaseTween = BaseTween;\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Log;\r\n(function (Log) {\r\n    Log[Log[\"None\"] = 0] = \"None\";\r\n    Log[Log[\"Info\"] = 1] = \"Info\";\r\n    Log[Log[\"Debug\"] = 2] = \"Debug\";\r\n})(Log = exports.Log || (exports.Log = {}));\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EasingType;\r\n(function (EasingType) {\r\n    EasingType[\"Linear\"] = \"linear\";\r\n    EasingType[\"InQuad\"] = \"inQuad\";\r\n    EasingType[\"OutQuad\"] = \"outQuad\";\r\n    EasingType[\"InOutQuad\"] = \"inOutQuad\";\r\n    EasingType[\"InCubic\"] = \"inCubic\";\r\n    EasingType[\"OutCubic\"] = \"outCubic\";\r\n    EasingType[\"InOutCubic\"] = \"inOutCubic\";\r\n    EasingType[\"InQuart\"] = \"inQuart\";\r\n    EasingType[\"OutQuart\"] = \"outQuart\";\r\n    EasingType[\"InOutQuart\"] = \"inOutQuart\";\r\n    EasingType[\"InSine\"] = \"inSine\";\r\n    EasingType[\"OutSine\"] = \"outSine\";\r\n    EasingType[\"InOutSine\"] = \"inOutSine\";\r\n    EasingType[\"InCirc\"] = \"inCirc\";\r\n    EasingType[\"OutCirc\"] = \"outCirc\";\r\n    EasingType[\"InOutCirc\"] = \"inOutCirc\";\r\n    EasingType[\"InQuint\"] = \"inQuint\";\r\n    EasingType[\"OutQuint\"] = \"outQuint\";\r\n    EasingType[\"InOutQuint\"] = \"inOutQuint\";\r\n    EasingType[\"InExponential\"] = \"inExponential\";\r\n    EasingType[\"OutExponential\"] = \"outExponential\";\r\n    EasingType[\"InOutExponential\"] = \"inOutExponential\";\r\n    EasingType[\"InElastic\"] = \"inElastic\";\r\n    EasingType[\"OutElastic\"] = \"outElastic\";\r\n    EasingType[\"InOutElastic\"] = \"inOutElastic\";\r\n    EasingType[\"InBack\"] = \"inBack\";\r\n    EasingType[\"OutBack\"] = \"outBack\";\r\n    EasingType[\"InOutBack\"] = \"inOutBack\";\r\n    EasingType[\"InBounce\"] = \"inBounce\";\r\n    EasingType[\"OutBounce\"] = \"outBounce\";\r\n    EasingType[\"InOutBounce\"] = \"inOutBounce\";\r\n})(EasingType = exports.EasingType || (exports.EasingType = {}));\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar baseTween_1 = __webpack_require__(1);\r\nvar Delay = (function (_super) {\r\n    __extends(Delay, _super);\r\n    function Delay(duration) {\r\n        var _this = _super.call(this) || this;\r\n        _this.duration = duration;\r\n        _this.tickCb = _this.Tick.bind(_this);\r\n        return _this;\r\n    }\r\n    Delay.prototype.Tick = function (dt) {\r\n        this.remainsDt = dt * this.timescale;\r\n        while (this.remainsDt > 0) {\r\n            this.elapsed += this.remainsDt;\r\n            var progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n            this.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\r\n            if (this.elapsed < this.duration) {\r\n                return;\r\n            }\r\n            this.remainsDt = this.elapsed - this.duration;\r\n            this.loop--;\r\n            if (this.loop === 0) {\r\n                this.Complete();\r\n                return;\r\n            }\r\n            this.ResetAndStart(0);\r\n        }\r\n    };\r\n    return Delay;\r\n}(baseTween_1.BaseTween));\r\nexports.Delay = Delay;\r\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar log_1 = __webpack_require__(2);\r\nvar state_1 = __webpack_require__(0);\r\nvar baseTween_1 = __webpack_require__(1);\r\nvar callback_1 = __webpack_require__(9);\r\nvar delay_1 = __webpack_require__(4);\r\nvar Sequence = (function (_super) {\r\n    __extends(Sequence, _super);\r\n    function Sequence() {\r\n        var _this = _super.call(this) || this;\r\n        _this.eventTick = [];\r\n        _this.tweens = [];\r\n        _this.sequenceIndex = 0;\r\n        _this.tickCb = _this.Tick.bind(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(Sequence.prototype, \"Count\", {\r\n        get: function () {\r\n            return this.tweens.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Sequence.prototype.LoopInit = function () {\r\n        this.sequenceIndex = 0;\r\n        for (var i = 0; i < this.tweens.length; i++) {\r\n            var tweenArray = this.tweens[i];\r\n            for (var j = 0; j < tweenArray.length; j++) {\r\n                tweenArray[j].Reset();\r\n            }\r\n        }\r\n    };\r\n    Sequence.prototype.AddTickListener = function (cb) {\r\n        this.eventTick.unshift(cb);\r\n    };\r\n    Sequence.prototype.RemoveTickListener = function (cb) {\r\n        var index = this.eventTick.indexOf(cb);\r\n        if (index !== -1) {\r\n            this.eventTick.splice(index, 1);\r\n        }\r\n    };\r\n    Sequence.prototype.CheckTickListener = function (cb) {\r\n        return false;\r\n    };\r\n    Sequence.prototype.Tick = function (dt) {\r\n        if (this.state === state_1.State.Finished || this.state === state_1.State.Killed) {\r\n            return;\r\n        }\r\n        var localDt = dt * this.timescale;\r\n        this.elapsed += localDt;\r\n        this.LocalTick(localDt);\r\n    };\r\n    Sequence.prototype.LocalTick = function (dt, remains) {\r\n        if (!this.currentTween) {\r\n            this.NextTween();\r\n        }\r\n        if (this.currentTween) {\r\n            for (var i = this.eventTick.length - 1; i >= 0; i--) {\r\n                this.eventTick[i](dt);\r\n            }\r\n            if (remains !== true) {\r\n                this.EmitEvent(this.eventUpdate, [dt, 0]);\r\n            }\r\n        }\r\n        var remainsDt = dt;\r\n        if (this.currentTween) {\r\n            for (var i = 0; i < this.currentTween.length; i++) {\r\n                if (this.currentTween[i].state !== state_1.State.Finished) {\r\n                    return;\r\n                }\r\n            }\r\n            var first = this.currentTween[0];\r\n            remainsDt = first.elapsed - first.duration;\r\n            this.EmitEvent(this.eventStepEnd, [this.currentTween[0]]);\r\n            this.Info(log_1.Log.Debug, 'OnStepEnd', this.eventStepEnd);\r\n            this.currentTween = undefined;\r\n            this.sequenceIndex++;\r\n            if (remainsDt > 0.01) {\r\n                this.LocalTick(remainsDt, true);\r\n                return;\r\n            }\r\n        }\r\n        if (!this.currentTween && this.tweens.length === this.sequenceIndex) {\r\n            this.loop--;\r\n            if (this.loop === 0) {\r\n                this.Complete();\r\n            }\r\n            else {\r\n                this.ResetAndStart(remainsDt);\r\n            }\r\n        }\r\n    };\r\n    Sequence.prototype.NextTween = function () {\r\n        this.currentTween = this.tweens[this.sequenceIndex];\r\n        if (this.currentTween) {\r\n            for (var i = 0; i < this.currentTween.length; i++) {\r\n                var tween = this.currentTween[i];\r\n                tween.Start();\r\n            }\r\n            this.EmitEvent(this.eventStepStart, [this.currentTween[0]]);\r\n            this.Info(log_1.Log.Debug, 'OnStepStart', this.eventStepStart);\r\n        }\r\n    };\r\n    Sequence.prototype.Append = function (tween) {\r\n        tween.SetParent(this);\r\n        this.tweens[this.tweens.length] = [tween];\r\n        return this;\r\n    };\r\n    Sequence.prototype.AppendCallback = function (cb) {\r\n        var playable = new callback_1.Callback(cb);\r\n        playable.SetParent(this);\r\n        this.tweens[this.tweens.length] = [playable];\r\n        return this;\r\n    };\r\n    Sequence.prototype.AppendInterval = function (duration) {\r\n        var playable = new delay_1.Delay(duration);\r\n        playable.SetParent(this);\r\n        this.tweens[this.tweens.length] = [playable];\r\n        return this;\r\n    };\r\n    Sequence.prototype.Prepend = function (tween) {\r\n        tween.SetParent(this);\r\n        this.tweens.unshift([tween]);\r\n        return this;\r\n    };\r\n    Sequence.prototype.PrependCallback = function (cb) {\r\n        var playable = new callback_1.Callback(cb);\r\n        playable.SetParent(this);\r\n        this.tweens.unshift([playable]);\r\n        return this;\r\n    };\r\n    Sequence.prototype.PrependInterval = function (duration) {\r\n        var playable = new delay_1.Delay(duration);\r\n        playable.SetParent(this);\r\n        this.tweens.unshift([playable]);\r\n        return this;\r\n    };\r\n    Sequence.prototype.Skip = function (finalValue) {\r\n        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n            this.Info(log_1.Log.Info, 'Cannot skip this tween ', this.state);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.tweens.length; i++) {\r\n            var tweenArray = this.tweens[i];\r\n            for (var j = 0; j < tweenArray.length; j++) {\r\n                var tween = tweenArray[j];\r\n                if (tween.elapsed === 0) {\r\n                    this.EmitEvent(this.eventStepStart, [tween]);\r\n                    this.Info(log_1.Log.Debug, 'OnStepStart', this.eventStepStart);\r\n                }\r\n                tween.Skip(finalValue);\r\n                this.EmitEvent(this.eventStepEnd, [tween]);\r\n                this.Info(log_1.Log.Debug, 'OnStepEnd', this.eventStepEnd);\r\n            }\r\n        }\r\n        _super.prototype.Skip.call(this);\r\n    };\r\n    Sequence.prototype.Kill = function () {\r\n        if (this.state === state_1.State.Killed) {\r\n            this.Info(log_1.Log.Info, 'Cannot kill this tween ', this.state);\r\n            return;\r\n        }\r\n        for (var i = 0; i < this.tweens.length; i++) {\r\n            var tweenArray = this.tweens[i];\r\n            for (var j = 0; j < tweenArray.length; j++) {\r\n                tweenArray[j].Kill();\r\n            }\r\n        }\r\n        _super.prototype.Kill.call(this);\r\n    };\r\n    Sequence.prototype.Join = function (tween) {\r\n        if (this.tweens.length === 0) {\r\n            return this.Append(tween);\r\n        }\r\n        tween.SetParent(this);\r\n        this.tweens[this.tweens.length - 1].push(tween);\r\n        return this;\r\n    };\r\n    Sequence.prototype.OnStepStart = function (cb) {\r\n        if (!this.eventStepStart) {\r\n            this.eventStepStart = new Array(0);\r\n        }\r\n        this.eventStepStart[this.eventStepStart.length] = cb;\r\n        return this;\r\n    };\r\n    Sequence.prototype.OnStepEnd = function (cb) {\r\n        if (!this.eventStepEnd) {\r\n            this.eventStepEnd = new Array(0);\r\n        }\r\n        this.eventStepEnd[this.eventStepEnd.length] = cb;\r\n        return this;\r\n    };\r\n    return Sequence;\r\n}(baseTween_1.BaseTween));\r\nexports.Sequence = Sequence;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar log_1 = __webpack_require__(2);\r\nvar easingType_1 = __webpack_require__(3);\r\nexports.Easing = easingType_1.EasingType;\r\nvar ticker_1 = __webpack_require__(7);\r\nvar delay_1 = __webpack_require__(4);\r\nvar sequence_1 = __webpack_require__(5);\r\nvar tween_1 = __webpack_require__(10);\r\nvar tickerManager;\r\nvar initialized = false;\r\nvar isFirstUpdate = true;\r\nvar lastFrame;\r\nvar lastTime = 0;\r\nvar logLevel = log_1.Log.None;\r\nvar safe = true;\r\nvar eventCreated = [];\r\nvar loadedPlugins = [];\r\nexports.plugin = {};\r\nexports.time = 0;\r\nfunction Elapsed() {\r\n    return tickerManager.elapsed;\r\n}\r\nexports.Elapsed = Elapsed;\r\nfunction MainTicker() {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    return tickerManager;\r\n}\r\nexports.MainTicker = MainTicker;\r\nfunction AddListenerCreated(cb) {\r\n    eventCreated.push(cb);\r\n}\r\nexports.AddListenerCreated = AddListenerCreated;\r\nfunction RemoveListenerCreated(cb) {\r\n    var index = eventCreated.indexOf(cb);\r\n    if (index !== -1) {\r\n        eventCreated.splice(index, 1);\r\n    }\r\n}\r\nexports.RemoveListenerCreated = RemoveListenerCreated;\r\nfunction Init(disableAutoTick) {\r\n    if (initialized) {\r\n        return false;\r\n    }\r\n    if (!tickerManager) {\r\n        tickerManager = new ticker_1.Ticker();\r\n        tickerManager.Start();\r\n    }\r\n    if (typeof (window) !== 'undefined' && !disableAutoTick) {\r\n        lastFrame = requestFrame(updateLoop);\r\n    }\r\n    initialized = true;\r\n    return true;\r\n}\r\nexports.Init = Init;\r\nfunction SetTimescale(scale) {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    tickerManager.SetTimescale(scale);\r\n}\r\nexports.SetTimescale = SetTimescale;\r\nfunction Pause() {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    tickerManager.Pause();\r\n}\r\nexports.Pause = Pause;\r\nfunction Resume() {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    tickerManager.Resume();\r\n}\r\nexports.Resume = Resume;\r\nfunction SetLog(level) {\r\n    logLevel = level;\r\n}\r\nexports.SetLog = SetLog;\r\nfunction SetSafe(isSafe) {\r\n    safe = isSafe;\r\n}\r\nexports.SetSafe = SetSafe;\r\nfunction Destroy() {\r\n    if (tickerManager) {\r\n        tickerManager.Kill();\r\n    }\r\n    if (lastFrame) {\r\n        cancelFrame(lastFrame);\r\n    }\r\n    initialized = false;\r\n}\r\nexports.Destroy = Destroy;\r\nfunction Update(timestamp) {\r\n    if (!initialized || !tickerManager) {\r\n        return;\r\n    }\r\n    tickerManager.Tick(timestamp);\r\n    exports.time += timestamp;\r\n}\r\nexports.Update = Update;\r\nfunction Tween(obj, properties) {\r\n    var t = new tween_1.Tween(obj, properties);\r\n    AddContext(t);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] Tween Instantiated', t);\r\n    return t;\r\n}\r\nexports.Tween = Tween;\r\nfunction Sequence() {\r\n    var s = new sequence_1.Sequence();\r\n    AddContext(s);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] Sequence Instantiated', s);\r\n    return s;\r\n}\r\nexports.Sequence = Sequence;\r\nfunction Delay(duration) {\r\n    var d = new delay_1.Delay(duration);\r\n    AddContext(d);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] Sequence Instantiated', d);\r\n    return d;\r\n}\r\nexports.Delay = Delay;\r\nfunction SetTimeout(fn, duration) {\r\n    var timeout = new delay_1.Delay(duration).OnComplete(fn);\r\n    AddContext(timeout);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] SetTimeout Instantiated', timeout);\r\n    return timeout.Start();\r\n}\r\nexports.SetTimeout = SetTimeout;\r\nfunction SetInterval(fn, duration) {\r\n    var interval = new delay_1.Delay(duration).OnRestart(fn).SetLoop(-1);\r\n    AddContext(interval);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] SetInterval Instantiated', interval);\r\n    return interval.Start();\r\n}\r\nexports.SetInterval = SetInterval;\r\nfunction AddContext(obj) {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    obj.SetParent(tickerManager);\r\n    if (logLevel !== log_1.Log.None) {\r\n        obj.SetLog(logLevel);\r\n    }\r\n    if (!safe) {\r\n        obj.SetSafe(safe);\r\n    }\r\n    EmitCreated(obj);\r\n}\r\nfunction Ticker() {\r\n    if (!initialized) {\r\n        Init();\r\n    }\r\n    var tick = new ticker_1.Ticker();\r\n    var handler = tick.Tick.bind(tick);\r\n    tick.SetParent(tickerManager, handler);\r\n    tickerManager.AddTickListener(handler);\r\n    tick.Start();\r\n    EmitCreated(tick);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] Ticker Instantiated', tick);\r\n    return tick;\r\n}\r\nexports.Ticker = Ticker;\r\nfunction LoadPlugin(newPlugin) {\r\n    newPlugin.Init(this);\r\n    loadedPlugins.push(newPlugin);\r\n    Info(log_1.Log.Debug, '[Fatina.Manager] Plugin Loaded', newPlugin.name);\r\n}\r\nexports.LoadPlugin = LoadPlugin;\r\nfunction Info(level, message, data) {\r\n    if (level > logLevel) {\r\n        return;\r\n    }\r\n    if (data) {\r\n        console.log(message, data);\r\n    }\r\n    else {\r\n        console.log(message);\r\n    }\r\n}\r\nfunction Emit(func, tween) {\r\n    if (!safe) {\r\n        return func(tween);\r\n    }\r\n    try {\r\n        func(tween);\r\n    }\r\n    catch (e) {\r\n        console.warn(e);\r\n    }\r\n}\r\nfunction EmitCreated(tween) {\r\n    for (var i = 0; i < eventCreated.length; i++) {\r\n        Emit(eventCreated[i], tween);\r\n    }\r\n}\r\nvar requestFrame;\r\nvar cancelFrame;\r\nif (typeof (window) !== 'undefined') {\r\n    requestFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\r\n    cancelFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\r\n}\r\nfunction updateLoop(timestamp) {\r\n    var dt = timestamp - lastTime;\r\n    if (isFirstUpdate) {\r\n        dt = 1;\r\n        isFirstUpdate = false;\r\n    }\r\n    if (dt > 500) {\r\n        console.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\r\n        dt = 500;\r\n    }\r\n    Update(dt);\r\n    lastTime = timestamp;\r\n    lastFrame = requestFrame(updateLoop);\r\n}\r\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar state_1 = __webpack_require__(0);\r\nvar eventList_1 = __webpack_require__(8);\r\nvar Ticker = (function (_super) {\r\n    __extends(Ticker, _super);\r\n    function Ticker() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = state_1.State.Idle;\r\n        _this.timescale = 1;\r\n        _this.elapsed = 0;\r\n        _this.duration = 0;\r\n        _this.update = 0;\r\n        _this.eventToAdd = [];\r\n        _this.eventToRemove = [];\r\n        return _this;\r\n    }\r\n    Ticker.prototype.SetParent = function (parent, tick) {\r\n        this.tick = tick;\r\n        this.parent = parent;\r\n    };\r\n    Ticker.prototype.SetTimescale = function (scale) {\r\n        this.timescale = scale;\r\n    };\r\n    Ticker.prototype.AddTickListener = function (cb) {\r\n        this.eventToAdd.push(cb);\r\n    };\r\n    Ticker.prototype.RemoveTickListener = function (cb) {\r\n        this.eventToRemove.push(cb);\r\n    };\r\n    Ticker.prototype.CheckTickListener = function (cb) {\r\n        var found = false;\r\n        while (true) {\r\n            var index = this.eventToRemove.indexOf(cb);\r\n            if (index === -1) {\r\n                return found;\r\n            }\r\n            this.eventToRemove.splice(index, 1);\r\n            found = true;\r\n        }\r\n    };\r\n    Ticker.prototype.UpdateListener = function () {\r\n        if (this.eventToAdd.length > 0) {\r\n            for (var i = 0; i < this.eventToAdd.length; i++) {\r\n                this.Add(this.eventToAdd[i]);\r\n            }\r\n            this.eventToAdd = [];\r\n        }\r\n        if (this.eventToRemove.length > 0) {\r\n            for (var i = 0; i < this.eventToRemove.length; i++) {\r\n                this.Remove(this.eventToRemove[i]);\r\n            }\r\n            this.eventToRemove = [];\r\n        }\r\n    };\r\n    Ticker.prototype.Tick = function (dt) {\r\n        if (this.state !== state_1.State.Run) {\r\n            return;\r\n        }\r\n        this.UpdateListener();\r\n        var localDt = dt * this.timescale;\r\n        for (var tick = this.first; tick; tick = tick.node_next) {\r\n            tick(localDt);\r\n        }\r\n        this.elapsed += localDt;\r\n        this.update++;\r\n        this.UpdateListener();\r\n    };\r\n    Ticker.prototype.Start = function () {\r\n        if (this.state === state_1.State.Idle) {\r\n            this.state = state_1.State.Run;\r\n        }\r\n    };\r\n    Ticker.prototype.Pause = function () {\r\n        if (this.state === state_1.State.Run) {\r\n            this.state = state_1.State.Pause;\r\n        }\r\n    };\r\n    Ticker.prototype.Resume = function () {\r\n        if (this.state === state_1.State.Pause) {\r\n            this.state = state_1.State.Run;\r\n        }\r\n    };\r\n    Ticker.prototype.Kill = function () {\r\n        if (this.state === state_1.State.Killed || this.state === state_1.State.Finished) {\r\n            return;\r\n        }\r\n        if (this.parent && this.tick) {\r\n            this.parent.RemoveTickListener(this.tick);\r\n        }\r\n        this.state = state_1.State.Killed;\r\n    };\r\n    Ticker.prototype.Skip = function () {\r\n        throw new Error('The main ticker cannot be skipped');\r\n    };\r\n    Ticker.prototype.Reset = function () {\r\n        this.state = state_1.State.Idle;\r\n    };\r\n    Ticker.prototype.IsIdle = function () {\r\n        return this.state === state_1.State.Idle;\r\n    };\r\n    Ticker.prototype.IsRunning = function () {\r\n        return this.state === state_1.State.Run;\r\n    };\r\n    Ticker.prototype.IsFinished = function () {\r\n        return this.state === state_1.State.Killed || this.state === state_1.State.Finished;\r\n    };\r\n    Ticker.prototype.IsPaused = function () {\r\n        return this.state === state_1.State.Pause;\r\n    };\r\n    return Ticker;\r\n}(eventList_1.EventList));\r\nexports.Ticker = Ticker;\r\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventList = (function () {\r\n    function EventList() {\r\n        this.length = 0;\r\n    }\r\n    EventList.prototype.Add = function (obj) {\r\n        var newNode = this.GetNode(obj, this.last, undefined, this);\r\n        if (this.first === undefined) {\r\n            this.first = newNode;\r\n            this.last = newNode;\r\n        }\r\n        else if (this.last !== undefined) {\r\n            this.last.node_next = newNode;\r\n            this.last = newNode;\r\n        }\r\n        this.length += 1;\r\n    };\r\n    EventList.prototype.Remove = function (obj) {\r\n        var node = obj;\r\n        if (node === undefined) {\r\n            return;\r\n        }\r\n        if (node.node_list !== this) {\r\n            return;\r\n        }\r\n        if (node.node_next === undefined) {\r\n            this.last = node.node_previous;\r\n        }\r\n        else {\r\n            node.node_next.node_previous = node.node_previous;\r\n        }\r\n        if (node.node_previous === undefined) {\r\n            this.first = node.node_next;\r\n        }\r\n        else {\r\n            node.node_previous.node_next = node.node_next;\r\n        }\r\n        node.node_valid = false;\r\n        node.node_previous = undefined;\r\n        node.node_next = undefined;\r\n        node.node_list = undefined;\r\n        this.length -= 1;\r\n    };\r\n    EventList.prototype.GetNode = function (obj, previous, next, list) {\r\n        var node = obj;\r\n        if (!node.node_valid) {\r\n            node.node_valid = true;\r\n            node.node_previous = previous;\r\n            node.node_next = next;\r\n            node.node_list = list;\r\n        }\r\n        return node;\r\n    };\r\n    return EventList;\r\n}());\r\nexports.EventList = EventList;\r\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar baseTween_1 = __webpack_require__(1);\r\nvar Callback = (function (_super) {\r\n    __extends(Callback, _super);\r\n    function Callback(cb) {\r\n        var _this = _super.call(this) || this;\r\n        _this.callback = cb;\r\n        _this.tickCb = _this.Tick.bind(_this);\r\n        return _this;\r\n    }\r\n    Callback.prototype.Tick = function (dt) {\r\n        this.elapsed += dt;\r\n        this.duration = 0;\r\n        this.callback();\r\n        this.EmitEvent(this.eventUpdate, [dt, 1]);\r\n        this.Complete();\r\n    };\r\n    return Callback;\r\n}(baseTween_1.BaseTween));\r\nexports.Callback = Callback;\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar state_1 = __webpack_require__(0);\r\nvar easing_1 = __webpack_require__(11);\r\nvar easingType_1 = __webpack_require__(3);\r\nvar baseTween_1 = __webpack_require__(1);\r\nvar sequence_1 = __webpack_require__(5);\r\nvar Tween = (function (_super) {\r\n    __extends(Tween, _super);\r\n    function Tween(object, properties) {\r\n        var _this = _super.call(this) || this;\r\n        _this.steps = 0;\r\n        _this.relative = false;\r\n        _this.object = object;\r\n        _this.properties = properties;\r\n        _this.tickCb = _this.Tick.bind(_this);\r\n        return _this;\r\n    }\r\n    Tween.prototype.Init = function (object, properties) {\r\n        this.object = object;\r\n        this.properties = properties;\r\n    };\r\n    Tween.prototype.Validate = function () {\r\n        if (!this.object) {\r\n            throw new Error('Cant Tween a undefined object');\r\n        }\r\n        for (var i = 0; i < this.properties.length; i++) {\r\n            var prop = this.properties[i];\r\n            if (!(prop in this.object)) {\r\n                throw new Error('Cant Tween an unknown property' + prop);\r\n            }\r\n        }\r\n        if (!this.parent) {\r\n            throw new Error('Cant Start a tween without ticker');\r\n        }\r\n        if (!this.ease) {\r\n            this.easeId = easingType_1.EasingType.Linear;\r\n            this.ease = easing_1.easeNames[easingType_1.EasingType.Linear];\r\n        }\r\n        this.CheckPosition();\r\n    };\r\n    Tween.prototype.CheckPosition = function () {\r\n        if (!this.currentFrom) {\r\n            this.currentFrom = {};\r\n        }\r\n        if (!this.currentTo) {\r\n            this.currentTo = {};\r\n        }\r\n        for (var i = 0; i < this.properties.length; i++) {\r\n            var prop = this.properties[i];\r\n            if (!this.from) {\r\n                this.currentFrom[prop] = this.object[prop];\r\n            }\r\n            else {\r\n                this.currentFrom[prop] = this.from[prop];\r\n                this.object[prop] = this.from[prop];\r\n            }\r\n            if (this.relative) {\r\n                this.currentTo[prop] = this.object[prop] + this.to[prop];\r\n            }\r\n            else {\r\n                this.currentTo[prop] = this.to[prop];\r\n            }\r\n        }\r\n    };\r\n    Tween.prototype.Tick = function (dt) {\r\n        if (this.state === state_1.State.Finished || this.state === state_1.State.Killed) {\r\n            return;\r\n        }\r\n        this.remainsDt = dt * this.timescale;\r\n        while (this.remainsDt > 0) {\r\n            this.elapsed += this.remainsDt;\r\n            var progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n            var val = this.ease(progress);\r\n            if ((this.yoyoOriginal - this.yoyo) % 2 === 1) {\r\n                val = 1 - this.ease(1 - progress);\r\n            }\r\n            if (this.steps !== 0) {\r\n                val = Math.round(val * this.steps) / this.steps;\r\n            }\r\n            if (this.object) {\r\n                for (var i = 0; i < this.properties.length; i++) {\r\n                    var prop = this.properties[i];\r\n                    this.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\r\n                }\r\n            }\r\n            this.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\r\n            if (this.elapsed < this.duration) {\r\n                return;\r\n            }\r\n            this.remainsDt = this.elapsed - this.duration;\r\n            if (this.yoyo > 0) {\r\n                this.Reverse();\r\n                this.ResetAndStart(0);\r\n                this.yoyo--;\r\n                continue;\r\n            }\r\n            this.loop--;\r\n            if (this.loop === 0) {\r\n                this.Complete();\r\n                return;\r\n            }\r\n            this.CheckPosition();\r\n            this.ResetAndStart(0);\r\n        }\r\n    };\r\n    Tween.prototype.From = function (from) {\r\n        this.from = from;\r\n        return this;\r\n    };\r\n    Tween.prototype.To = function (to, duration) {\r\n        this.to = to;\r\n        this.duration = duration;\r\n        return this;\r\n    };\r\n    Tween.prototype.SetRelative = function (relative) {\r\n        this.relative = relative;\r\n        return this;\r\n    };\r\n    Tween.prototype.Modify = function (diff, updateTo) {\r\n        for (var i = 0; i < this.properties.length; i++) {\r\n            var prop = this.properties[i];\r\n            if (!diff.hasOwnProperty(prop)) {\r\n                continue;\r\n            }\r\n            this.object[prop] += diff[prop];\r\n            if (updateTo) {\r\n                this.currentTo[prop] += diff[prop];\r\n            }\r\n            else {\r\n                this.currentFrom[prop] += diff[prop];\r\n            }\r\n        }\r\n    };\r\n    Tween.prototype.Reset = function (skipParent) {\r\n        if ((this.yoyoOriginal - this.yoyo) % 2 === 1) {\r\n            var previous = this.currentFrom;\r\n            this.currentFrom = this.currentTo;\r\n            this.currentTo = previous;\r\n            previous = this.from;\r\n            this.from = this.to;\r\n            this.to = previous;\r\n            var elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n            this.elapsed = Math.round(elapsed * 1000) / 1000;\r\n        }\r\n        this.yoyo = this.yoyoOriginal;\r\n        _super.prototype.Reset.call(this, skipParent);\r\n    };\r\n    Tween.prototype.Reverse = function () {\r\n        var previous = this.currentFrom;\r\n        this.currentFrom = this.currentTo;\r\n        this.currentTo = previous;\r\n        previous = this.from;\r\n        this.from = this.to;\r\n        this.to = previous;\r\n        var elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n        this.elapsed = Math.round(elapsed * 1000) / 1000;\r\n        if (this.state === state_1.State.Finished) {\r\n            this.Reset(true);\r\n            this.Start();\r\n        }\r\n    };\r\n    Tween.prototype.Yoyo = function (time) {\r\n        this.yoyoOriginal = time;\r\n        this.yoyo = time;\r\n        return this;\r\n    };\r\n    Tween.prototype.SetSteps = function (steps) {\r\n        this.steps = steps;\r\n        return this;\r\n    };\r\n    Tween.prototype.ToSequence = function () {\r\n        if (!this.parent) {\r\n            throw new Error('Cant convert to a sequence, parent ticker not defined');\r\n        }\r\n        return new sequence_1.Sequence().SetParent(this.parent).Append(this);\r\n    };\r\n    Tween.prototype.Easing = function (type) {\r\n        var name = type;\r\n        if (name in easing_1.easeNames) {\r\n            return easing_1.easeNames[name];\r\n        }\r\n        throw new Error('Unknown ease method ' + type);\r\n    };\r\n    Tween.prototype.SetEasing = function (type) {\r\n        this.easeId = type;\r\n        this.ease = this.Easing(type);\r\n        return this;\r\n    };\r\n    Tween.prototype.LoopInit = function () {\r\n        this.elapsed = 0;\r\n    };\r\n    return Tween;\r\n}(baseTween_1.BaseTween));\r\nexports.Tween = Tween;\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar easingType_1 = __webpack_require__(3);\r\nvar PI = Math.PI;\r\nvar PI_OVER_TWO = Math.PI / 2;\r\nvar BACK = 1.70158;\r\nvar easingByName = {};\r\neasingByName[easingType_1.EasingType.Linear] = function (t) {\r\n    return t;\r\n};\r\neasingByName[easingType_1.EasingType.InQuad] = function (t) {\r\n    return t * t;\r\n};\r\neasingByName[easingType_1.EasingType.OutQuad] = function (t) {\r\n    return 2 * t - t * t;\r\n};\r\neasingByName[easingType_1.EasingType.InOutQuad] = function (t) {\r\n    if (t < 0.5) {\r\n        return 2 * t * t;\r\n    }\r\n    else {\r\n        return 2 * (2 * t - t * t) - 1;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InCubic] = function (t) {\r\n    return t * t * t;\r\n};\r\neasingByName[easingType_1.EasingType.OutCubic] = function (t) {\r\n    return 3 * t - 3 * t * t + t * t * t;\r\n};\r\neasingByName[easingType_1.EasingType.InOutCubic] = function (t) {\r\n    if (t < 0.5) {\r\n        return 4 * t * t * t;\r\n    }\r\n    else {\r\n        return 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InQuart] = function (t) {\r\n    return t * t * t * t;\r\n};\r\neasingByName[easingType_1.EasingType.OutQuart] = function (t) {\r\n    var t2 = t * t;\r\n    return 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\neasingByName[easingType_1.EasingType.InOutQuart] = function (t) {\r\n    if (t < 0.5) {\r\n        return 8 * t * t * t * t;\r\n    }\r\n    else {\r\n        var t2 = t * t;\r\n        return 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InSine] = function (t) {\r\n    if (t === 1) {\r\n        return 1;\r\n    }\r\n    return 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\neasingByName[easingType_1.EasingType.OutSine] = function (t) {\r\n    return Math.sin(PI_OVER_TWO * t);\r\n};\r\neasingByName[easingType_1.EasingType.InOutSine] = function (t) {\r\n    if (t < 0.5) {\r\n        return (1 - Math.cos(PI * t)) / 2;\r\n    }\r\n    else {\r\n        return (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InCirc] = function (t) {\r\n    return 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\neasingByName[easingType_1.EasingType.OutCirc] = function (t) {\r\n    return Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\neasingByName[easingType_1.EasingType.InOutCirc] = function (t) {\r\n    if (t < 0.5) {\r\n        return (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n    }\r\n    else {\r\n        return (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InQuint] = function (t) {\r\n    return t * t * t * t * t;\r\n};\r\neasingByName[easingType_1.EasingType.OutQuint] = function (t) {\r\n    return --t * t * t * t * t + 1;\r\n};\r\neasingByName[easingType_1.EasingType.InOutQuint] = function (t) {\r\n    t *= 2;\r\n    if (t < 1) {\r\n        return 0.5 * t * t * t * t * t;\r\n    }\r\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\neasingByName[easingType_1.EasingType.InExponential] = function (t) {\r\n    if (t === 1) {\r\n        return 1;\r\n    }\r\n    return t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\neasingByName[easingType_1.EasingType.OutExponential] = function (t) {\r\n    return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);\r\n};\r\neasingByName[easingType_1.EasingType.InOutExponential] = function (t) {\r\n    if (t === 0) {\r\n        return 0;\r\n    }\r\n    if (t === 1) {\r\n        return 1;\r\n    }\r\n    t *= 2;\r\n    if (t < 1) {\r\n        return 0.5 * Math.pow(1024, t - 1);\r\n    }\r\n    return 0.5 * (-Math.pow(2, -10 * (t - 1)) + 2);\r\n};\r\neasingByName[easingType_1.EasingType.InElastic] = function (t) {\r\n    if (t === 0) {\r\n        return 0;\r\n    }\r\n    return -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\neasingByName[easingType_1.EasingType.OutElastic] = function (t) {\r\n    if (t === 1) {\r\n        return 1;\r\n    }\r\n    return Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\neasingByName[easingType_1.EasingType.InOutElastic] = function (t) {\r\n    if (t === 0) {\r\n        return 0;\r\n    }\r\n    if (t === 1) {\r\n        return 1;\r\n    }\r\n    t *= 2;\r\n    if (t < 1) {\r\n        return -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n    }\r\n    return 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\neasingByName[easingType_1.EasingType.InBack] = function (t) {\r\n    var s = BACK;\r\n    return t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n};\r\neasingByName[easingType_1.EasingType.OutBack] = function (t) {\r\n    var s = BACK;\r\n    return t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\neasingByName[easingType_1.EasingType.InOutBack] = function (t) {\r\n    var s = BACK * 1.525;\r\n    t *= 2;\r\n    if (t < 1) {\r\n        return 0.5 * (t * t * ((s + 1) * t - s));\r\n    }\r\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\neasingByName[easingType_1.EasingType.OutBounce] = function (t) {\r\n    if (t < (1 / 2.75)) {\r\n        return 7.5625 * t * t;\r\n    }\r\n    else if (t < (2 / 2.75)) {\r\n        return 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n    }\r\n    else if (t < (2.5 / 2.75)) {\r\n        return 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n    }\r\n    else {\r\n        return 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n    }\r\n};\r\neasingByName[easingType_1.EasingType.InBounce] = function (t) {\r\n    return 1 - easingByName[easingType_1.EasingType.OutBounce](1 - t);\r\n};\r\neasingByName[easingType_1.EasingType.InOutBounce] = function (t) {\r\n    if (t < 0.5) {\r\n        return easingByName[easingType_1.EasingType.InBounce](t * 2) * 0.5;\r\n    }\r\n    return easingByName[easingType_1.EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n};\r\nexports.easeNames = easingByName;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// fatina.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e11887ba1d4aa88f30fb","/**\r\n * Possible states of a Tween / Sequence\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum State {\r\n\tIdle,\r\n\tRun,\r\n\tPause,\r\n\tFinished,\r\n\tKilled\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/state.ts","import { Log } from '../core/enum/log';\r\nimport { State } from '../core/enum/state';\r\nimport { ITicker } from '../core/interfaces/ITicker';\r\n\r\n/**\r\n * Shared behaviors between different types of tweens and sequence\r\n * Used mostly to manage:\r\n *  - events\r\n *  - state\r\n *  - loop and restart\r\n *\r\n * @export\r\n * @abstract\r\n * @class BaseTween\r\n */\r\nexport abstract class BaseTween<T extends BaseTween<any>>  {\r\n\t// events\r\n\tprotected eventStart: {(): void}[] | undefined;\r\n\tprotected eventRestart: {(): void}[] | undefined;\r\n\tprotected eventUpdate: {(dt: number, progress: number): void}[] | undefined;\r\n\tprotected eventKill: {(): void}[] | undefined;\r\n\tprotected eventComplete: {(): void}[] | undefined;\r\n\r\n\t// public properties\r\n\tpublic elapsed = 0;\r\n\tpublic duration = 0;\r\n\tpublic timescale = 1;\r\n\tpublic state: State = State.Idle;\r\n\r\n\t// private properties\r\n\tprotected loopOriginal = 1;\r\n\tprotected loop = 1;\r\n\tprotected yoyoOriginal = 0;\r\n\tprotected yoyo = 0;\r\n\tprotected parent: ITicker;\r\n\tprotected tickCb: (dt: number) => void;\r\n\tprivate firstStart = true;\r\n\tprivate recycled = false;\r\n\tprivate safe = true;\r\n\tprivate logLevel = Log.None;\r\n\r\n\t/**\r\n\t * Method used to start a tween\r\n\t *\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Start(): T {\r\n\t\tif (this.state !== State.Idle) {\r\n\t\t\treturn this as any;\r\n\t\t}\r\n\r\n\t\tif (this.firstStart) {\r\n\t\t\tthis.Validate();\r\n\t\t} else {\r\n\t\t\tthis.CheckPosition();\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tif (this.recycled) {\r\n\t\t\tif (!this.parent.CheckTickListener(this.tickCb)) {\r\n\t\t\t\tthis.parent.AddTickListener(this.tickCb);\r\n\t\t\t}\r\n\t\t\tthis.recycled = false;\r\n\t\t} else {\r\n\t\t\tthis.parent.AddTickListener(this.tickCb);\r\n\t\t}\r\n\r\n\t\tif (this.firstStart) {\r\n\t\t\tthis.EmitEvent(this.eventStart);\r\n\t\t\tthis.firstStart = false;\r\n\t\t}\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Reset a tween to be reusable (with start)\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Recycle() {\r\n\t\tthis.Reset(true);\r\n\t\tthis.firstStart = true;\r\n\t\tthis.recycled = true;\r\n\t}\r\n\r\n\t/**\r\n\t * To Reset a Tween already finished (example looping sequence)\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Reset(skipParent?: boolean): void {\r\n\t\tthis.state = State.Idle;\r\n\r\n\t\tif (!skipParent) {\r\n\t\t\tthis.RemoveParentListener();\r\n\t\t}\r\n\r\n\t\tthis.loop = this.loopOriginal;\r\n\t\tthis.LoopInit();\r\n\t\tthis.EmitEvent(this.eventRestart);\r\n\t}\r\n\r\n\t/**\r\n\t * To immediately Reset a tween without stopping/restarting it\r\n\t * This is faster than calling manually Reset() & Start() & Tick()\r\n\t *\r\n\t * @param {number} dtRemains\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic ResetAndStart(dtRemains: number) {\r\n\t\tthis.LoopInit();\r\n\t\tthis.EmitEvent(this.eventRestart);\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tif (dtRemains > 0) {\r\n\t\t\tthis.tickCb(dtRemains);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define the ticker of this tween\r\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\r\n\t *\r\n\t * @param {ITicker} ticker\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic SetParent(ticker: ITicker): T {\r\n\t\tthis.RemoveParentListener();\r\n\t\tthis.parent = ticker;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to change the timescale of the tween\r\n\t *\r\n\t * @param {number} scale\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic SetTimescale(scale: number): T {\r\n\t\tthis.timescale = scale;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to pause a tween or a sequence (only work if the tween runs)\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Pause(): void {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot pause this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Pause;\r\n\t\tthis.RemoveParentListener();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to resume a tween or a sequence (only work if the tween is paused)\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Resume(): void {\r\n\t\tif (this.state !== State.Pause) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot resume this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tthis.parent.AddTickListener(this.tickCb);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Skip this tween or sequence and directly finish it\r\n\t *\r\n\t * @param {boolean} [finalValue]\r\n\t * @returns {void}\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Skip(finalValue?: boolean): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot skip this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.state === State.Idle) {\r\n\t\t\tthis.EmitEvent(this.eventStart);\r\n\t\t}\r\n\r\n\t\tif (finalValue) {\r\n\t\t\tthis.tickCb(this.duration - this.elapsed + (this.yoyo * this.duration));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.elapsed = this.duration;\r\n\t\tthis.Complete();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Stop/Kill a tween or a sequence\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic Kill(): void {\r\n\t\tif (this.state === State.Killed) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot kill this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Killed;\r\n\t\tthis.RemoveParentListener();\r\n\t\tthis.EmitEvent(this.eventKill);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define how many time the tween has to loop\r\n\t * Extra: if -1 the tween will loop forever\r\n\t *\r\n\t * @param {number} loop\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetLoop(loop: number): T {\r\n\t\tthis.loopOriginal = Math.round(loop);\r\n\t\tthis.loop = this.loopOriginal;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\tpublic IsIdle(): boolean {\r\n\t\treturn this.state === State.Idle;\r\n\t}\r\n\r\n\tpublic IsRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic IsFinished(): boolean {\r\n\t\treturn this.state === State.Killed || this.state === State.Finished;\r\n\t}\r\n\r\n\tpublic IsPaused(): boolean {\r\n\t\treturn this. state === State.Pause;\r\n\t}\r\n\r\n\tprotected Complete(): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot complete this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Finished;\r\n\t\tthis.RemoveParentListener();\r\n\t\tthis.EmitEvent(this.eventComplete);\r\n\t}\r\n\r\n\tprotected RemoveParentListener() {\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected CheckPosition(): void {}\r\n\tprotected Validate(): void {}\r\n\tprotected LoopInit(): void {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tpublic SetSafe(safe: boolean): T {\r\n\t\tthis.safe = safe;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\tpublic SetLog(level: Log): T {\r\n\t\tthis.logLevel = level;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\tprotected Info(level: Log, message: string, data?: any) {\r\n\t\tif (level > this.logLevel) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (data) {\r\n\t\t\tconsole.log(message, data);\r\n\t\t} else {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Emit(func: any, args: any) {\r\n\t\tif (!this.safe) {\r\n\t\t\treturn func.apply(this, args);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tfunc.apply(this, args);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected EmitEvent(listeners: any, args?: any) {\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < listeners.length; i++) {\r\n\t\t\tthis.Emit(listeners[i], args);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Callback called when the tween started\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic OnStart(cb: () => void): T {\r\n\t\tif (!this.eventStart) {\r\n\t\t\tthis.eventStart = new Array(0);\r\n\t\t}\r\n\t\tthis.eventStart[this.eventStart.length] = cb;\r\n\t\tthis.Info(Log.Debug, 'onStart');\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween restart (loop)\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic OnRestart(cb: () => void): T {\r\n\t\tif (!this.eventRestart) {\r\n\t\t\tthis.eventRestart = new Array(0);\r\n\t\t}\r\n\t\tthis.eventRestart[this.eventRestart.length] = cb;\r\n\t\tthis.Info(Log.Debug, 'onRestart');\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is updated\r\n\t *\r\n\t * @param {(dt: number, progress: number) => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): T {\r\n\t\tif (!this.eventUpdate) {\r\n\t\t\tthis.eventUpdate = new Array(0);\r\n\t\t}\r\n\t\tthis.eventUpdate[this.eventUpdate.length] = cb;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is manually killed\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic OnKilled(cb: () => void): T {\r\n\t\tif (!this.eventKill) {\r\n\t\t\tthis.eventKill = new Array(0);\r\n\t\t}\r\n\t\tthis.eventKill[this.eventKill.length] = cb;\r\n\t\tthis.Info(Log.Debug, 'onKilled');\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is finished\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic OnComplete(cb: () => void): T {\r\n\t\tif (!this.eventComplete) {\r\n\t\t\tthis.eventComplete = new Array(0);\r\n\t\t}\r\n\t\tthis.eventComplete[this.eventComplete.length] = cb;\r\n\t\tthis.Info(Log.Debug, 'onComplete');\r\n\t\treturn this as any;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/baseTween.ts","/**\r\n * Enum use to set the verbosity level of fatina and tweens\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum Log {\r\n\tNone = 0,\r\n\tInfo = 1,\r\n\tDebug = 2\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/enum/log.ts","\r\n/**\r\n * List of all easing methods\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum EasingType {\r\n\tLinear = 'linear',\r\n\tInQuad = 'inQuad',\r\n\tOutQuad = 'outQuad',\r\n\tInOutQuad = 'inOutQuad',\r\n\tInCubic = 'inCubic',\r\n\tOutCubic = 'outCubic',\r\n\tInOutCubic = 'inOutCubic',\r\n\tInQuart = 'inQuart',\r\n\tOutQuart = 'outQuart',\r\n\tInOutQuart = 'inOutQuart',\r\n\tInSine = 'inSine',\r\n\tOutSine = 'outSine',\r\n\tInOutSine = 'inOutSine',\r\n\tInCirc = 'inCirc',\r\n\tOutCirc = 'outCirc',\r\n\tInOutCirc = 'inOutCirc',\r\n\tInQuint = 'inQuint',\r\n\tOutQuint = 'outQuint',\r\n\tInOutQuint = 'inOutQuint',\r\n\tInExponential = 'inExponential',\r\n\tOutExponential = 'outExponential',\r\n\tInOutExponential = 'inOutExponential',\r\n\tInElastic = 'inElastic',\r\n\tOutElastic = 'outElastic',\r\n\tInOutElastic = 'inOutElastic',\r\n\tInBack = 'inBack',\r\n\tOutBack = 'outBack',\r\n\tInOutBack = 'inOutBack',\r\n\tInBounce = 'inBounce',\r\n\tOutBounce = 'outBounce',\r\n\tInOutBounce = 'inOutBounce'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easingType.ts","import { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { BaseTween } from './baseTween';\r\n\r\n/**\r\n * Fake tween used to delay other tweens in a sequence\r\n *\r\n * @export\r\n * @class Delay\r\n * @extends {BaseTween}\r\n * @implements {IPlayable}\r\n */\r\nexport class Delay extends BaseTween<Delay> implements IPlayable {\r\n\tprivate remainsDt: number;\r\n\r\n\tconstructor(duration: number) {\r\n\t\tsuper();\r\n\t\tthis.duration = duration;\r\n\t\tthis.tickCb = this.Tick.bind(this);\r\n\t}\r\n\r\n\tprivate Tick(dt: number) {\r\n\t\tthis.remainsDt = dt * this.timescale;\r\n\r\n\t\twhile (this.remainsDt > 0) {\r\n\t\t\tthis.elapsed += this.remainsDt;\r\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tthis.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\r\n\r\n\t\t\tif (this.elapsed < this.duration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.remainsDt = this.elapsed - this.duration;\r\n\t\t\tthis.loop--;\r\n\t\t\tif (this.loop === 0) {\r\n\t\t\t\tthis.Complete();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.ResetAndStart(0);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/delay.ts","import { Log } from '../core/enum/log';\r\nimport { State } from '../core/enum/state';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { ITicker } from '../core/interfaces/ITicker';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { BaseTween } from './baseTween';\r\nimport { Callback } from './callback';\r\nimport { Delay } from './delay';\r\n\r\n/**\r\n * Sequence: used to animate other tweens or sequence\r\n * Can play them sequentially or in parallel\r\n *\r\n * @export\r\n * @class Sequence\r\n * @extends {BaseTween}\r\n * @implements {ISequence}\r\n * @implements {ITicker}\r\n * @implements {IPlayable}\r\n */\r\nexport class Sequence extends BaseTween<Sequence> implements ISequence, ITicker, IPlayable {\r\n\t// events\r\n\tprivate eventStepStart: {(tween: ITween | IPlayable): void}[] | undefined;\r\n\tprivate eventStepEnd: {(tween: ITween | IPlayable): void}[] | undefined;\r\n\r\n\t// public properties\r\n\tpublic currentTween: (ITween | IPlayable)[] | undefined;\r\n\r\n\t// private properties\r\n\tprivate eventTick: {(dt: number): void}[] = [];\r\n\tprivate tweens: ((ITween | IPlayable)[])[] = [];\r\n\tprivate sequenceIndex = 0;\r\n\r\n\tpublic get Count(): number {\r\n\t\treturn this.tweens.length;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.tickCb = this.Tick.bind(this);\r\n\t}\r\n\r\n\tprotected LoopInit() {\r\n\t\tthis.sequenceIndex = 0;\r\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\r\n\t\t\tconst tweenArray = this.tweens[i];\r\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\r\n\t\t\t\ttweenArray[j].Reset();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic AddTickListener(cb: (dt: number) => void): void {\r\n\t\tthis.eventTick.unshift(cb);\r\n\t}\r\n\r\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\r\n\t\tconst index = this.eventTick.indexOf(cb);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.eventTick.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic CheckTickListener(cb: (dt: number) => void): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprivate Tick(dt: number) {\r\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst localDt = dt * this.timescale;\r\n\t\tthis.elapsed += localDt;\r\n\t\tthis.LocalTick(localDt);\r\n\t}\r\n\r\n\tprivate LocalTick(dt: number, remains?: boolean) {\r\n\t\t// If no current tween, take the first one and start it\r\n\t\tif (!this.currentTween) {\r\n\t\t\tthis.NextTween();\r\n\t\t}\r\n\r\n\t\tif (this.currentTween) {\r\n\t\t\t// Tick every listener\r\n\t\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\r\n\t\t\t\tthis.eventTick[i](dt);\r\n\t\t\t}\r\n\r\n\t\t\t// Dont emit update event for remains dt\r\n\t\t\tif (remains !== true) {\r\n\t\t\t\tthis.EmitEvent(this.eventUpdate, [dt, 0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet remainsDt = dt;\r\n\r\n\t\t// Current tween over\r\n\t\tif (this.currentTween) {\r\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\r\n\t\t\t\tif (this.currentTween[i].state !== State.Finished) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst first = this.currentTween[0];\r\n\t\t\tremainsDt = first.elapsed - first.duration;\r\n\r\n\t\t\tthis.EmitEvent(this.eventStepEnd, [this.currentTween[0]]);\r\n\t\t\tthis.Info(Log.Debug, 'OnStepEnd', this.eventStepEnd);\r\n\t\t\tthis.currentTween = undefined;\r\n\t\t\tthis.sequenceIndex++;\r\n\r\n\t\t\tif (remainsDt > 0.01) {\r\n\t\t\t\tthis.LocalTick(remainsDt, true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Complete\r\n\t\tif (!this.currentTween && this.tweens.length === this.sequenceIndex) {\r\n\t\t\tthis.loop--;\r\n\t\t\tif (this.loop === 0) {\r\n\t\t\t\tthis.Complete();\r\n\t\t\t} else {\r\n\t\t\t\tthis.ResetAndStart(remainsDt);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate NextTween() {\r\n\t\tthis.currentTween = this.tweens[this.sequenceIndex];\r\n\t\tif (this.currentTween) {\r\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\r\n\t\t\t\tconst tween = this.currentTween[i];\r\n\t\t\t\ttween.Start();\r\n\t\t\t}\r\n\r\n\t\t\tthis.EmitEvent(this.eventStepStart, [this.currentTween[0]]);\r\n\t\t\tthis.Info(Log.Debug, 'OnStepStart', this.eventStepStart);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Append(tween: ITween | ISequence): ISequence {\r\n\t\ttween.SetParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [tween];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic AppendCallback(cb: () => void): ISequence {\r\n\t\tconst playable = new Callback(cb);\r\n\t\tplayable.SetParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [playable];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic AppendInterval(duration: number): ISequence {\r\n\t\tconst playable = new Delay(duration);\r\n\t\tplayable.SetParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [playable];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Prepend(tween: ITween | ISequence): ISequence {\r\n\t\ttween.SetParent(this);\r\n\t\tthis.tweens.unshift([tween]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic PrependCallback(cb: () => void): ISequence {\r\n\t\tconst playable = new Callback(cb);\r\n\t\tplayable.SetParent(this);\r\n\t\tthis.tweens.unshift([playable]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic PrependInterval(duration: number): ISequence {\r\n\t\tconst playable = new Delay(duration);\r\n\t\tplayable.SetParent(this);\r\n\t\tthis.tweens.unshift([playable]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic Skip(finalValue?: boolean): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot skip this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\r\n\t\t\tconst tweenArray = this.tweens[i];\r\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\r\n\t\t\t\tconst tween = tweenArray[j];\r\n\t\t\t\tif (tween.elapsed === 0) {\r\n\t\t\t\t\tthis.EmitEvent(this.eventStepStart, [tween]);\r\n\t\t\t\t\tthis.Info(Log.Debug, 'OnStepStart', this.eventStepStart);\r\n\t\t\t\t}\r\n\t\t\t\ttween.Skip(finalValue);\r\n\t\t\t\tthis.EmitEvent(this.eventStepEnd, [tween]);\r\n\t\t\t\tthis.Info(Log.Debug, 'OnStepEnd', this.eventStepEnd);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsuper.Skip();\r\n\t}\r\n\r\n\tpublic Kill(): void {\r\n\t\tif (this.state === State.Killed) {\r\n\t\t\tthis.Info(Log.Info, 'Cannot kill this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\r\n\t\t\tconst tweenArray = this.tweens[i];\r\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\r\n\t\t\t\ttweenArray[j].Kill();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsuper.Kill();\r\n\t}\r\n\r\n\tpublic Join(tween: ITween | ISequence): ISequence {\r\n\t\tif (this.tweens.length === 0) {\r\n\t\t\treturn this.Append(tween);\r\n\t\t}\r\n\t\ttween.SetParent(this);\r\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\r\n\t\tif (!this.eventStepStart) {\r\n\t\t\tthis.eventStepStart = new Array(0);\r\n\t\t}\r\n\t\tthis.eventStepStart[this.eventStepStart.length] = cb;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic OnStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\r\n\t\tif (!this.eventStepEnd) {\r\n\t\t\tthis.eventStepEnd = new Array(0);\r\n\t\t}\r\n\t\tthis.eventStepEnd[this.eventStepEnd.length] = cb;\r\n\t\treturn this;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/sequence.ts","import { Log } from './core/enum/log';\r\nimport { IControl } from './core/interfaces/IControl';\r\nimport { IPlayable } from './core/interfaces/IPlayable';\r\nimport { IPlugin } from './core/interfaces/IPlugin';\r\nimport { ISequence } from './core/interfaces/ISequence';\r\nimport { ITicker } from './core/interfaces/ITicker';\r\nimport { ITween } from './core/interfaces/ITween';\r\nimport { EasingType } from './easing/easingType';\r\nimport { Ticker as ticker } from './ticker';\r\nimport { Delay as delay } from './tweens/delay';\r\nimport { Sequence as sequence } from './tweens/sequence';\r\nimport { Tween as tween } from './tweens/tween';\r\n\r\nlet tickerManager: ticker;\r\nlet initialized = false;\r\nlet isFirstUpdate = true;\r\nlet lastFrame: any;\r\nlet lastTime = 0;\r\nlet logLevel = Log.None;\r\nlet safe = true;\r\nconst eventCreated: {(control: IControl): void}[] = [];\r\n\r\nconst loadedPlugins: IPlugin[] = [];\r\n\r\n// Area for plugins to add helpers / dynamic method\r\nexport let plugin: any = {};\r\n\r\n// Expose the easing enum\r\nexport { EasingType as Easing };\r\n\r\n// real time of Fatina (not affected by timescale, pause, ...)\r\nexport let time = 0;\r\n\r\n// time updated internally (affected by timescale, pause, ...)\r\nexport function Elapsed(): number {\r\n\treturn tickerManager.elapsed;\r\n}\r\n\r\nexport function MainTicker(): ITicker {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\treturn tickerManager;\r\n}\r\n\r\n/**\r\n * Add a listener method on tween/sequence creation\r\n *\r\n * @export\r\n * @param {(control: IControl) => void} cb\r\n */\r\nexport function AddListenerCreated(cb: (control: IControl) => void): void {\r\n\teventCreated.push(cb);\r\n}\r\n\r\n/**\r\n * Remove a listener method on tween/sequence creation\r\n *\r\n * @export\r\n * @param {(control: IControl) => void} cb\r\n */\r\nexport function RemoveListenerCreated(cb: (control: IControl) => void): void {\r\n\tconst index = eventCreated.indexOf(cb);\r\n\tif (index !== -1) {\r\n\t\teventCreated.splice(index, 1);\r\n\t}\r\n}\r\n\r\n/**\r\n * Method used when Fatina is used for the first time.\r\n * Can take few ms. (pool initialization & object creation)\r\n *\r\n * @export\r\n * @param {boolean} [disableAutoTick]\r\n * @returns {boolean}\r\n */\r\nexport function Init(disableAutoTick?: boolean): boolean {\r\n\tif (initialized) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (!tickerManager) {\r\n\t\ttickerManager = new ticker();\r\n\t\ttickerManager.Start();\r\n\t}\r\n\r\n\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\r\n\t\tlastFrame = requestFrame(updateLoop);\r\n\t}\r\n\r\n\tinitialized = true;\r\n\treturn true;\r\n}\r\n\r\n/**\r\n * Used to change the timescale of the whole game\r\n *\r\n * @export\r\n * @param {number} scale\r\n */\r\nexport function SetTimescale(scale: number): void {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\ttickerManager.SetTimescale(scale);\r\n}\r\n\r\n/**\r\n * This method pause the update loop (update are not called anymore)\r\n *\r\n * @export\r\n */\r\nexport function Pause(): void {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\ttickerManager.Pause();\r\n}\r\n\r\n/**\r\n * This method resume the update loop (works only if the game was paused before)\r\n *\r\n * @export\r\n */\r\nexport function Resume(): void {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\ttickerManager.Resume();\r\n}\r\n\r\n/**\r\n * This method is used to change the log level\r\n *\r\n * @export\r\n * @param {Log} level\r\n */\r\nexport function SetLog(level: Log) {\r\n\tlogLevel = level;\r\n}\r\n\r\n/**\r\n * This method is used to enable / disable the callback try/catch\r\n *\r\n * @export\r\n * @param {boolean} isSafe\r\n */\r\nexport function SetSafe(isSafe: boolean) {\r\n\tsafe = isSafe;\r\n}\r\n\r\n/**\r\n * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\r\n *\r\n * @export\r\n */\r\nexport function Destroy() {\r\n\tif (tickerManager) {\r\n\t\ttickerManager.Kill();\r\n\t}\r\n\r\n\tif (lastFrame) {\r\n\t\tcancelFrame(lastFrame);\r\n\t}\r\n\r\n\tinitialized = false;\r\n}\r\n\r\n/**\r\n * Method used to tick all the child (tween or sequence)\r\n * This takes cares of recycling the old tween/sequence\r\n *\r\n * @export\r\n * @param {number} timestamp\r\n * @returns {*}\r\n */\r\nexport function Update(timestamp: number): any {\r\n\tif (!initialized || !tickerManager) {\r\n\t\treturn;\r\n\t}\r\n\ttickerManager.Tick(timestamp);\r\n\ttime += timestamp;\r\n}\r\n\r\n/**\r\n * Helper to create a tween (use the tween pool)\r\n *\r\n * @export\r\n * @param {*} obj\r\n * @param {string[]} properties\r\n * @returns {ITween}\r\n */\r\nexport function Tween(obj: any, properties: string[]): ITween {\r\n\tconst t = new tween(obj, properties);\r\n\tAddContext(t);\r\n\tInfo(Log.Debug, '[Fatina.Manager] Tween Instantiated', t);\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * Helper to create a Sequence (use the sequence pool)\r\n *\r\n * @export\r\n * @returns {ISequence}\r\n */\r\nexport function Sequence(): ISequence {\r\n\tconst s = new sequence();\r\n\tAddContext(s);\r\n\tInfo(Log.Debug, '[Fatina.Manager] Sequence Instantiated', s);\r\n\treturn s;\r\n}\r\n\r\n/**\r\n * Helper to create a Delay\r\n *\r\n * @export\r\n * @param {number} duration\r\n * @returns {IPlayable}\r\n */\r\nexport function Delay(duration: number): IPlayable {\r\n\tconst d = new delay(duration);\r\n\tAddContext(d);\r\n\tInfo(Log.Debug, '[Fatina.Manager] Sequence Instantiated', d);\r\n\treturn d;\r\n}\r\n\r\n/**\r\n * Helper used to replace usage of normal js setTimeout() by a tween\r\n * https://www.w3schools.com/jsref/met_win_settimeout.asp\r\n *\r\n * @export\r\n * @param {() => void} fn\r\n * @param {number} duration\r\n * @returns {IPlayable}\r\n */\r\nexport function SetTimeout(fn: () => void, duration: number): IPlayable {\r\n\tconst timeout = new delay(duration).OnComplete(fn);\r\n\tAddContext(timeout);\r\n\tInfo(Log.Debug, '[Fatina.Manager] SetTimeout Instantiated', timeout);\r\n\treturn timeout.Start();\r\n}\r\n\r\n/**\r\n * Helper used to replace usage of normal js setInterval() by a tween\r\n * https://www.w3schools.com/jsref/met_win_setinterval.asp\r\n *\r\n * @export\r\n * @param {() => void} fn\r\n * @param {number} duration\r\n * @returns {IPlayable}\r\n */\r\nexport function SetInterval(fn: () => void, duration: number): IPlayable {\r\n\tconst interval = new delay(duration).OnRestart(fn).SetLoop(-1);\r\n\tAddContext(interval);\r\n\tInfo(Log.Debug, '[Fatina.Manager] SetInterval Instantiated', interval);\r\n\treturn interval.Start();\r\n}\r\n\r\n/**\r\n * Private method to set common data to every object (the parent ticker, safe mode, verbose mode)\r\n *\r\n * @param {(IPlayable | ITween | ISequence)} obj\r\n */\r\nfunction AddContext(obj: IPlayable | ITween | ISequence): void {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\r\n\tobj.SetParent(tickerManager as ITicker);\r\n\r\n\tif (logLevel !== Log.None) {\r\n\t\tobj.SetLog(logLevel);\r\n\t}\r\n\r\n\tif (!safe) {\r\n\t\tobj.SetSafe(safe);\r\n\t}\r\n\r\n\tEmitCreated(obj);\r\n}\r\n\r\n/**\r\n * Create or Get a ticker with a defined name\r\n * This ticker is a child of the main ticker\r\n *\r\n * @export\r\n * @param {string} name\r\n * @returns {ITicker}\r\n */\r\nexport function Ticker(): ITicker {\r\n\tif (!initialized) {\r\n\t\tInit();\r\n\t}\r\n\r\n\tconst tick = new ticker();\r\n\tconst handler = tick.Tick.bind(tick);\r\n\ttick.SetParent(tickerManager, handler);\r\n\ttickerManager.AddTickListener(handler);\r\n\ttick.Start();\r\n\r\n\tEmitCreated(tick);\r\n\tInfo(Log.Debug, '[Fatina.Manager] Ticker Instantiated', tick);\r\n\treturn tick;\r\n}\r\n\r\n/**\r\n * Initialize a plugin by passing fatina object to it\r\n *\r\n * @export\r\n * @param {IPlugin} newPlugin\r\n */\r\nexport function LoadPlugin(newPlugin: IPlugin) {\r\n\tnewPlugin.Init(this);\r\n\tloadedPlugins.push(newPlugin);\r\n\tInfo(Log.Debug, '[Fatina.Manager] Plugin Loaded', newPlugin.name);\r\n}\r\n\r\nfunction Info(level: Log, message: string, data?: any) {\r\n\tif (level > logLevel) {\r\n\t\treturn;\r\n\t}\r\n\tif (data) {\r\n\t\tconsole.log(message, data);\r\n\t} else {\r\n\t\tconsole.log(message);\r\n\t}\r\n}\r\n\r\nfunction Emit(func: any, tween: IControl) {\r\n\tif (!safe) {\r\n\t\treturn func(tween);\r\n\t}\r\n\r\n\ttry {\r\n\t\tfunc(tween);\r\n\t} catch (e) {\r\n\t\tconsole.warn(e);\r\n\t}\r\n}\r\n\r\nfunction EmitCreated(tween: IControl) {\r\n\tfor (let i = 0; i < eventCreated.length; i++) {\r\n\t\tEmit(eventCreated[i], tween);\r\n\t}\r\n}\r\n\r\n/**\r\n * This part manage the auto-update loop if necessary (browser only)\r\n */\r\nlet requestFrame: any;\r\nlet cancelFrame: any;\r\nif (typeof(window) !== 'undefined') {\r\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame || window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\r\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\r\n}\r\n\r\nfunction updateLoop(timestamp: number) {\r\n\tlet dt = timestamp - lastTime;\r\n\tif (isFirstUpdate) {\r\n\t\tdt = 1;\r\n\t\tisFirstUpdate = false;\r\n\t}\r\n\r\n\t// cap to 500 ms\r\n\tif (dt > 500) {\r\n\t\tconsole.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 500ms.');\r\n\t\tdt = 500;\r\n\t}\r\n\r\n\tUpdate(dt);\r\n\tlastTime = timestamp;\r\n\tlastFrame = requestFrame(updateLoop);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/index.ts","import { State } from './core/enum/state';\r\nimport { EventList } from './core/eventList';\r\nimport { ITicker } from './core/interfaces/ITicker';\r\n\r\n/**\r\n * Main Fatina Ticker\r\n * Parent of all the normal tween and sequence\r\n *\r\n * @export\r\n * @class Ticker\r\n * @extends {EventList}\r\n * @implements {ITicker}\r\n */\r\nexport class Ticker extends EventList implements ITicker {\r\n\tpublic state = State.Idle;\r\n\tprivate timescale = 1;\r\n\tpublic elapsed = 0;\r\n\tpublic duration = 0;\r\n\tprivate update = 0;\r\n\tprivate eventToAdd: { (dt: number): void }[] = [];\r\n\tprivate eventToRemove: { (dt: number): void }[] = [];\r\n\tpublic tick: (dt: number) => void | undefined;\r\n\tprivate parent: ITicker;\r\n\r\n\tpublic SetParent(parent: ITicker, tick: (dt: number) => void) {\r\n\t\tthis.tick = tick;\r\n\t\tthis.parent = parent;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to change the timescale\r\n\t *\r\n\t * @param {number} scale\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic SetTimescale(scale: number): void {\r\n\t\tthis.timescale = scale;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used by the child to be updated\r\n\t *\r\n\t * @param {(dt: number) => void} cb\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic AddTickListener(cb: (dt: number) => void): void {\r\n\t\tthis.eventToAdd.push(cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used by the child to not receive update anymore\r\n\t *\r\n\t * @param {(dt: number) => void} cb\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\r\n\t\tthis.eventToRemove.push(cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Internal method used to cancel a stop (restart in the same frame)\r\n\t *\r\n\t * @param {(dt: number) => void} cb\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic CheckTickListener(cb: (dt: number) => void): boolean {\r\n\t\tlet found = false;\r\n\t\twhile (true) {\r\n\t\t\tconst index = this.eventToRemove.indexOf(cb);\r\n\t\t\tif (index === -1) {\r\n\t\t\t\treturn found;\r\n\t\t\t}\r\n\t\t\tthis.eventToRemove.splice(index, 1);\r\n\t\t\tfound = true;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to update the array of listener\r\n\t * This is mostly for performance reason, being able to batch this operation in the updateLoop\r\n\t *\r\n\t * @private\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tprivate UpdateListener() {\r\n\t\tif (this.eventToAdd.length > 0) {\r\n\t\t\tfor (let i = 0; i < this.eventToAdd.length; i++) {\r\n\t\t\t\tthis.Add(this.eventToAdd[i]);\r\n\t\t\t}\r\n\t\t\tthis.eventToAdd = [];\r\n\t\t}\r\n\r\n\t\tif (this.eventToRemove.length > 0) {\r\n\t\t\tfor (let i = 0; i < this.eventToRemove.length; i++) {\r\n\t\t\t\tthis.Remove(this.eventToRemove[i]);\r\n\t\t\t}\r\n\t\t\tthis.eventToRemove = [];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to tick all the child (tick listeners)\r\n\t *\r\n\t * @param {number} dt\r\n\t * @returns\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic Tick(dt: number) {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.UpdateListener();\r\n\r\n\t\tconst localDt = dt * this.timescale;\r\n\t\tfor (let tick: any = this.first; tick; tick = tick.node_next) {\r\n\t\t\ttick(localDt);\r\n\t\t}\r\n\t\tthis.elapsed += localDt;\r\n\t\tthis.update++;\r\n\r\n\t\tthis.UpdateListener();\r\n\t}\r\n\r\n\tpublic Start(): void {\r\n\t\tif (this.state === State.Idle) {\r\n\t\t\tthis.state = State.Run;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Pause(): void {\r\n\t\tif (this.state === State.Run) {\r\n\t\t\tthis.state = State.Pause;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Resume(): void {\r\n\t\tif (this.state === State.Pause) {\r\n\t\t\tthis.state = State.Run;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Kill(): void {\r\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.parent && this.tick) {\r\n\t\t\tthis.parent.RemoveTickListener(this.tick);\r\n\t\t}\r\n\r\n\t\tthis.state = State.Killed;\r\n\t}\r\n\r\n\tpublic Skip(): void {\r\n\t\tthrow new Error('The main ticker cannot be skipped');\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.state = State.Idle;\r\n\t}\r\n\r\n\tpublic IsIdle(): boolean {\r\n\t\treturn this.state === State.Idle;\r\n\t}\r\n\r\n\tpublic IsRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic IsFinished(): boolean {\r\n\t\treturn this.state === State.Killed || this.state === State.Finished;\r\n\t}\r\n\r\n\tpublic IsPaused(): boolean {\r\n\t\treturn this. state === State.Pause;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/ticker.ts","/**\r\n * Simple DoublyList used for events management\r\n * Not really reusable, optimized only to append, remove and iterate\r\n *\r\n * @export\r\n * @abstract\r\n * @class EventList\r\n */\r\nexport abstract class EventList {\r\n\tpublic first: INode | undefined;\r\n\tpublic last: INode | undefined;\r\n\tpublic length = 0;\r\n\r\n\tpublic Add(obj: any): void {\r\n\t\tconst newNode = this.GetNode(obj, this.last, undefined, this);\r\n\t\tif (this.first === undefined) {\r\n\t\t\tthis.first = newNode;\r\n\t\t\tthis.last = newNode;\r\n\t\t} else if (this.last !== undefined) {\r\n\t\t\tthis.last.node_next = newNode;\r\n\t\t\tthis.last = newNode;\r\n\t\t}\r\n\t\tthis.length += 1;\r\n\t}\r\n\r\n\tpublic Remove(obj: any): void {\r\n\t\tconst node = obj as INode;\r\n\t\tif (node === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (node.node_list !== this) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Removing any existing reference to the node\r\n\t\tif (node.node_next === undefined) {\r\n\t\t\tthis.last = node.node_previous;\r\n\t\t} else {\r\n\t\t\tnode.node_next.node_previous = node.node_previous;\r\n\t\t}\r\n\r\n\t\tif (node.node_previous === undefined) {\r\n\t\t\tthis.first = node.node_next;\r\n\t\t} else {\r\n\t\t\tnode.node_previous.node_next = node.node_next;\r\n\t\t}\r\n\r\n\t\t// Removing any existing reference from the node\r\n\t\tnode.node_valid = false;\r\n\t\tnode.node_previous = undefined;\r\n\t\tnode.node_next = undefined;\r\n\t\tnode.node_list = undefined;\r\n\r\n\t\t// One less node in the list\r\n\t\tthis.length -= 1;\r\n\t}\r\n\r\n\tprivate GetNode(obj: any, previous: INode | undefined, next: INode | undefined, list: EventList): INode {\r\n\t\tconst node = obj as INode;\r\n\t\tif (!node.node_valid) {\r\n\t\t\tnode.node_valid = true;\r\n\t\t\tnode.node_previous = previous;\r\n\t\t\tnode.node_next = next;\r\n\t\t\tnode.node_list = list;\r\n\t\t}\r\n\t\treturn node;\r\n\t}\r\n}\r\n\r\nexport interface INode {\r\n\tnode_valid: boolean;\r\n\tnode_previous: INode | undefined;\r\n\tnode_next: INode | undefined;\r\n\tnode_list: EventList | undefined;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/core/eventList.ts","import { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { BaseTween } from './baseTween';\r\n\r\n/**\r\n * Fake tween used to append or join callback in a sequence\r\n *\r\n * @export\r\n * @class Callback\r\n * @extends {BaseTween}\r\n * @implements {IPlayable}\r\n */\r\nexport class Callback extends BaseTween<Callback> implements IPlayable {\r\n\tprivate callback: () => void;\r\n\r\n\tconstructor(cb: () => void) {\r\n\t\tsuper();\r\n\t\tthis.callback = cb;\r\n\t\tthis.tickCb = this.Tick.bind(this);\r\n\t}\r\n\r\n\tprivate Tick(dt: number) {\r\n\t\tthis.elapsed += dt;\r\n\t\tthis.duration = 0;\r\n\t\tthis.callback();\r\n\t\tthis.EmitEvent(this.eventUpdate, [dt, 1]);\r\n\t\tthis.Complete();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/callback.ts","import { State } from '../core/enum/state';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { easeNames } from '../easing/easing';\r\nimport { EasingType } from '../easing/easingType';\r\nimport { BaseTween } from './baseTween';\r\nimport { Sequence } from './sequence';\r\n\r\n/**\r\n * Tween: Used to animate values of an object\r\n *\r\n * @export\r\n * @class Tween\r\n * @extends {BaseTween}\r\n * @implements {ITween}\r\n */\r\nexport class Tween extends BaseTween<Tween> implements ITween {\r\n\tprivate object: any;\r\n\tprivate properties: string[];\r\n\tprivate from: any;\r\n\tprivate to: any;\r\n\tprivate steps = 0;\r\n\tprivate currentFrom: any;\r\n\tprivate currentTo: any;\r\n\tprivate remainsDt: number;\r\n\tprivate relative = false;\r\n\tprivate ease: (t: number) => number;\r\n\tprivate easeId: EasingType | string;\r\n\r\n\tconstructor(object: any, properties: string[]) {\r\n\t\tsuper();\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\t\tthis.tickCb = this.Tick.bind(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Used to define the object and the properties modified by this tween\r\n\t *\r\n\t * @param {*} object\r\n\t * @param {string[]} properties\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Init(object: any, properties: string[]) {\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used on start to check the values of this tween\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected Validate() {\r\n\t\t// Check the object\r\n\t\tif (!this.object) {\r\n\t\t\tthrow new Error('Cant Tween a undefined object');\r\n\t\t}\r\n\r\n\t\t// Check the properties of that object\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\t\t\tif (!(prop in this.object)) {\r\n\t\t\t\tthrow new Error('Cant Tween an unknown property' + prop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check this tween will be updated\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant Start a tween without ticker');\r\n\t\t}\r\n\r\n\t\t// Easing\r\n\t\tif (!this.ease) {\r\n\t\t\tthis.easeId = EasingType.Linear;\r\n\t\t\tthis.ease = easeNames[EasingType.Linear];\r\n\t\t}\r\n\r\n\t\tthis.CheckPosition();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to calculate currentFrom/currentTo based on the config\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected CheckPosition() {\r\n\t\tif (!this.currentFrom) {\r\n\t\t\tthis.currentFrom = {};\r\n\t\t}\r\n\t\tif (!this.currentTo) {\r\n\t\t\tthis.currentTo = {};\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\r\n\t\t\t// From\r\n\t\t\tif (!this.from) {\r\n\t\t\t\tthis.currentFrom[prop] = this.object[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentFrom[prop] = this.from[prop];\r\n\t\t\t\tthis.object[prop] = this.from[prop];\r\n\t\t\t}\r\n\r\n\t\t\t// Relative\r\n\t\t\tif (this.relative) {\r\n\t\t\t\tthis.currentTo[prop] = this.object[prop] + this.to[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentTo[prop] = this.to[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Tick(dt: number) {\r\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.remainsDt = dt * this.timescale;\r\n\t\twhile (this.remainsDt > 0) {\r\n\t\t\tthis.elapsed += this.remainsDt;\r\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tlet val = this.ease(progress);\r\n\r\n\t\t\t// Yoyo easing (need to be reversed)\r\n\t\t\tif ((this.yoyoOriginal - this.yoyo) % 2 === 1) {\r\n\t\t\t\tval = 1 - this.ease(1 - progress);\r\n\t\t\t}\r\n\r\n\t\t\t// Steps behaviour\r\n\t\t\tif (this.steps !== 0) {\r\n\t\t\t\tval = Math.round(val * this.steps) / this.steps;\r\n\t\t\t}\r\n\r\n\t\t\t// Update if the object still exist\r\n\t\t\tif (this.object) {\r\n\t\t\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\t\t\tconst prop = this.properties[i];\r\n\t\t\t\t\tthis.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\r\n\r\n\t\t\tif (this.elapsed < this.duration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.remainsDt = this.elapsed - this.duration;\r\n\r\n\t\t\t// Yoyo effect ( A -> B -> A )\r\n\t\t\tif (this.yoyo > 0) {\r\n\t\t\t\tthis.Reverse();\r\n\t\t\t\tthis.ResetAndStart(0);\r\n\t\t\t\tthis.yoyo--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Loop management\r\n\t\t\tthis.loop--;\r\n\t\t\tif (this.loop === 0) {\r\n\t\t\t\tthis.Complete();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.CheckPosition();\r\n\t\t\tthis.ResetAndStart(0);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the beginning of the tween\r\n\t *\r\n\t * @param {*} from\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic From(from: any): ITween {\r\n\t\tthis.from = from;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the end of the tween\r\n\t *\r\n\t * @param {*} to\r\n\t * @param {number} duration\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic To(to: any, duration: number): ITween {\r\n\t\tthis.to = to;\r\n\t\tthis.duration = duration;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define if the tween as to work in relative or not\r\n\t *\r\n\t * @param {boolean} relative\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetRelative(relative: boolean): ITween {\r\n\t\tthis.relative = relative;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * To apply a modifier on a current tween\r\n\t *\r\n\t * @param {*} diff\r\n\t * @param {boolean} updateTo\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Modify(diff: any, updateTo: boolean): void {\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\t\t\tif (!diff.hasOwnProperty(prop)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.object[prop] += diff[prop];\r\n\r\n\t\t\tif (updateTo) {\r\n\t\t\t\tthis.currentTo[prop] += diff[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentFrom[prop] += diff[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Overwrite the Reset (just for yoyo)\r\n\t *\r\n\t * @param {boolean} [skipParent]\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Reset(skipParent?: boolean): void {\r\n\t\tif ((this.yoyoOriginal - this.yoyo) % 2 === 1) {\r\n\t\t\tlet previous = this.currentFrom;\r\n\t\t\tthis.currentFrom = this.currentTo;\r\n\t\t\tthis.currentTo = previous;\r\n\r\n\t\t\tprevious = this.from;\r\n\t\t\tthis.from = this.to;\r\n\t\t\tthis.to = previous;\r\n\r\n\t\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\t\t}\r\n\t\tthis.yoyo = this.yoyoOriginal;\r\n\t\tsuper.Reset(skipParent);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Reverse(): void {\r\n\t\tlet previous = this.currentFrom;\r\n\t\tthis.currentFrom = this.currentTo;\r\n\t\tthis.currentTo = previous;\r\n\r\n\t\tprevious = this.from;\r\n\t\tthis.from = this.to;\r\n\t\tthis.to = previous;\r\n\r\n\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\r\n\t\tif (this.state === State.Finished) {\r\n\t\t\tthis.Reset(true);\r\n\t\t\tthis.Start();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween N times at the end\r\n\t *\r\n\t * @param {number} time\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Yoyo(time: number): ITween {\r\n\t\tthis.yoyoOriginal = time;\r\n\t\tthis.yoyo = time;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Quantify the tween value to a certain amount of steps\r\n\t *\r\n\t * @param {number} steps\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetSteps(steps: number): ITween {\r\n\t\tthis.steps = steps;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to create a sequence with this tween as first value.\r\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\r\n\t *\r\n\t * @returns {ISequence}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic ToSequence(): ISequence {\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t\t}\r\n\t\treturn new Sequence().SetParent(this.parent).Append(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Private easing method (resolve the right method and set it)\r\n\t *\r\n\t * @private\r\n\t * @param {(EasingType | string)} type\r\n\t * @returns {(t: number) => number}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprivate Easing(type: EasingType | string): (t: number) => number {\r\n\t\tconst name = type as string;\r\n\r\n\t\tif (name in easeNames) {\r\n\t\t\treturn easeNames[name];\r\n\t\t}\r\n\r\n\t\tthrow new Error('Unknown ease method ' + type);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the type of easing for this tween\r\n\t *\r\n\t * @param {(EasingType | string)} type\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetEasing(type: EasingType | string): ITween {\r\n\t\tthis.easeId = type;\r\n\t\tthis.ease = this.Easing(type);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used when the tween is reset (loop)\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/tweens/tween.ts","/**\r\n * List of easing method\r\n *\r\n * Mostly based on http://easings.net/\r\n */\r\nimport { EasingType } from './easingType';\r\n\r\nconst PI = Math.PI;\r\nconst PI_OVER_TWO = Math.PI / 2;\r\nconst BACK = 1.70158;\r\nconst easingByName: { [id: string]: (t: number) => number } = {};\r\n\r\n// Linear\r\neasingByName[EasingType.Linear] = (t: number): number => {\r\n\treturn t;\r\n};\r\n\r\n// Quad\r\neasingByName[EasingType.InQuad] = (t: number): number => {\r\n\treturn t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuad] = (t: number): number => {\r\n\treturn 2 * t - t * t;\r\n};\r\n\r\neasingByName[EasingType.InOutQuad] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 2 * t * t;\r\n\t} else {\r\n\t\treturn 2 * (2 * t - t * t) - 1;\r\n\t}\r\n};\r\n\r\n// Cubic\r\neasingByName[EasingType.InCubic] = (t: number): number => {\r\n\treturn t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutCubic] = (t: number): number => {\r\n\treturn 3 * t - 3 * t * t + t * t * t;\r\n};\r\n\r\neasingByName[EasingType.InOutCubic] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 4 * t * t * t;\r\n\t} else {\r\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t}\r\n};\r\n\r\n// Quart\r\neasingByName[EasingType.InQuart] = (t: number): number => {\r\n\treturn t * t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuart] = (t: number): number => {\r\n\tconst t2 = t * t;\r\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\n\r\neasingByName[EasingType.InOutQuart] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 8 * t * t * t * t;\r\n\t} else {\r\n\t\tconst t2 = t * t;\r\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t}\r\n};\r\n\r\n// Sine\r\neasingByName[EasingType.InSine] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByName[EasingType.OutSine] = (t: number): number => {\r\n\treturn Math.sin(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByName[EasingType.InOutSine] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.cos(PI * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t}\r\n};\r\n\r\n// Circular\r\neasingByName[EasingType.InCirc] = (t: number): number => {\r\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\n\r\neasingByName[EasingType.OutCirc] = (t: number): number => {\r\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\n\r\neasingByName[EasingType.InOutCirc] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t}\r\n};\r\n\r\n// Quint\r\neasingByName[EasingType.InQuint] = (t: number): number => {\r\n\treturn t * t * t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuint] = (t: number): number => {\r\n\treturn --t * t * t * t * t + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutQuint] = (t: number): number => {\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * t * t * t * t * t;\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\n\r\n// Exponential\r\neasingByName[EasingType.InExponential] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\n\r\neasingByName[EasingType.OutExponential] = (t: number): number => {\r\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\r\n};\r\n\r\neasingByName[EasingType.InOutExponential] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * Math.pow(1024, t - 1);\r\n\t}\r\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\r\n};\r\n\r\n// Elastic\r\neasingByName[EasingType.InElastic] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\n\r\neasingByName[EasingType.OutElastic] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutElastic] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t}\r\n\r\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\n// Back\r\neasingByName[EasingType.InBack] = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\r\n};\r\n\r\neasingByName[EasingType.OutBack] = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutBack] = (t: number): number => {\r\n\tconst s = BACK * 1.525;\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\n\r\n// Bounce\r\neasingByName[EasingType.OutBounce] = (t: number): number => {\r\n\tif (t < (1 / 2.75)) {\r\n\t\treturn 7.5625 * t * t;\r\n\t} else if (t < (2 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t} else if (t < (2.5 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t} else {\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t}\r\n};\r\n\r\neasingByName[EasingType.InBounce] = (t: number): number => {\r\n\treturn 1 - easingByName[EasingType.OutBounce](1 - t);\r\n};\r\n\r\neasingByName[EasingType.InOutBounce] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn easingByName[EasingType.InBounce](t * 2) * 0.5;\r\n\t}\r\n\treturn easingByName[EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n};\r\n\r\nexport let easeNames = easingByName;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/fatina/easing/easing.ts"],"sourceRoot":""}