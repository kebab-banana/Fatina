// [Fatina]  Build: 3.0.0-beta.2 - Saturday, April 6th, 2019, 2:41:29 PM  
 (function(){'use strict';(function(d,c){"object"===typeof exports&&"object"===typeof module?module.exports=c():"function"===typeof define&&define.amd?define("Fatina",[],c):"object"===typeof exports?exports.Fatina=c():d.Fatina=c()})("undefined"!==typeof self?self:this,function(){return function(d){function c(g){if(f[g])return f[g].exports;var b=f[g]={i:g,l:!1,exports:{}};d[g].call(b.exports,b,b.exports,c);b.l=!0;return b.exports}var f={};c.m=d;c.c=f;c.d=function(g,b,k){c.o(g,b)||Object.defineProperty(g,b,{enumerable:!0,
get:k})};c.r=function(c){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})};c.t=function(d,b){b&1&&(d=c(d));if(b&8||b&4&&"object"===typeof d&&d&&d.__esModule)return d;var k=Object.create(null);c.r(k);Object.defineProperty(k,"default",{enumerable:!0,value:d});if(b&2&&"string"!=typeof d)for(var a in d)c.d(k,a,function(a){return d[a]}.bind(null,a));return k};c.n=function(d){var b=d&&d.__esModule?
function(){return d["default"]}:function(){return d};c.d(b,"a",b);return b};c.o=function(c,b){return Object.prototype.hasOwnProperty.call(c,b)};c.p="";return c(c.s=5)}([function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});class g{constructor(){this.events={};this.duration=this.elapsed=0;this.timescale=1;this.state=0;this.first=!0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return 3<=this.state}get isPaused(){return 2===this.state}start(){if(0!==
this.state)return this;this.first?this.validate():this.check();this.state=1;this.parent.addTick(this.tickCb);this.first&&(this.emitEvent(this.events.start),this.first=!1);return this}reset(b){this.state=0;b||this.removeParent();this.loop&&(this.loop.value=this.loop.original);this.loopInit();this.emitEvent(this.events.restart)}resetAndStart(b){this.loopInit();this.emitEvent(this.events.restart);this.state=1;0<b&&this.tickCb(b)}setParent(b){this.removeParent();this.parent=b;return this}setTimescale(b){this.timescale=
b;return this}pause(){1!==this.state?this.info(1,"Cannot pause this tween ",this.state):(this.state=2,this.removeParent())}resume(){2!==this.state?this.info(1,"Cannot resume this tween ",this.state):(this.state=1,this.parent.addTick(this.tickCb))}skip(b){3<=this.state?this.info(1,"Cannot skip this tween ",this.state):(0===this.state&&this.emitEvent(this.events.start),b?this.tickCb(this.duration-this.elapsed+(this.yo?this.yo.value*this.duration:0)):(this.elapsed=this.duration,this.complete()))}kill(){4===
this.state?this.info(1,"Cannot kill this tween ",this.state):(this.state=4,this.removeParent(),this.emitEvent(this.events.kill))}setLoop(b){this.loop||(this.loop={original:1,value:1});this.loop.original=Math.round(b);this.loop.value=this.loop.original;return this}setSettings(b){this.settings?Object.assign(this.settings,b):this.settings=b;return this}complete(){3<=this.state?this.info(1,"Cannot complete this tween ",this.state):(this.state=3,this.removeParent(),this.emitEvent(this.events.complete))}removeParent(){this.parent&&
this.parent.removeTick(this.tickCb)}check(){}validate(){}loopInit(){this.elapsed=0}info(b,c,a){!this.settings||b>this.settings.logLevel||console.log(c,a)}emit(b,c){if(this.settings&&!this.settings.safe)return b.apply(this,c);try{b.apply(this,c)}catch(a){console.warn(a)}}emitEvent(b,c){if(b)if(b instanceof Array)for(const a of b)this.emit(a,c);else this.emit(b,c)}onStart(b){return this.onEvent("start",b)}onRestart(b){return this.onEvent("restart",b)}onUpdate(b){return this.onEvent("update",b)}onKilled(b){return this.onEvent("kill",
b)}onComplete(b){return this.onEvent("complete",b)}onEvent(b,c){this.events[b]?this.events[b]instanceof Array?this.events[b].push(c):this.events[b]=[this.events[b],c]:this.events[b]=c;return this}}c.BaseTween=g},function(d,c,f){function g(b){b=b.split(".");return b[b.length-1]}Object.defineProperty(c,"__esModule",{value:!0});c.getRoot=function(b,c){c=c.split(".");for(let a=0;a<c.length-1;a++)b=b[c[a]];return b};c.getProp=g;c.getData=function(b,c){const a={};a[g(b)]=c;return a}},function(d,c,f){Object.defineProperty(c,
"__esModule",{value:!0});const g=Math.PI,b=Math.PI/2,k={linear:a=>a,inQuad:a=>a*a,outQuad:a=>2*a-a*a,inOutQuad:a=>.5>a?2*a*a:2*(2*a-a*a)-1,inCubic:a=>a*a*a,outCubic:a=>3*a-3*a*a+a*a*a,inOutCubic:a=>.5>a?4*a*a*a:4*(3*a-3*a*a+a*a*a)-3,inQuart:a=>a*a*a*a,outQuart:a=>{const b=a*a;return 4*a-6*b+4*b*a-b*b},inOutQuart:a=>{if(.5>a)return 8*a*a*a*a;{const b=a*a;return 8*(4*a-6*b+4*b*a-b*b)-7}},inSine:a=>1===a?1:1-Math.cos(b*a),outSine:a=>Math.sin(b*a),inOutSine:a=>.5>a?(1-Math.cos(g*a))/2:(1+Math.sin(g*(a-
.5)))/2,inCirc:a=>1-Math.sqrt(1-Math.pow(a,2)),outCirc:a=>Math.sqrt(1-Math.pow(1-a,2)),inOutCirc:a=>.5>a?(1-Math.sqrt(1-4*a*a))/2:(1+Math.sqrt(-3+8*a-4*a*a))/2,inQuint:a=>a*a*a*a*a,outQuint:a=>--a*a*a*a*a+1,inOutQuint:a=>{a*=2;return 1>a?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},inExponential:a=>1===a?1:0===a?0:Math.pow(1024,a-1),outExponential:a=>1===a?1:1-Math.pow(2,-10*a),inOutExponential:a=>{if(0===a)return 0;if(1===a)return 1;a*=2;return 1>a?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},inElastic:a=>
0===a?0:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI),outElastic:a=>1===a?1:Math.pow(2,-10*a)*Math.sin(5*(a-.1)*Math.PI)+1,inOutElastic:a=>{if(0===a)return 0;if(1===a)return 1;a*=2;return 1>a?-.5*Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1},inBack:a=>1===a?1:a*a*(2.70158*a-1.70158),outBack:a=>0===a?0:--a*a*(2.70158*a+1.70158)+1,inOutBack:a=>{a*=2;return 1>a?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},outBounce:a=>
a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,inBounce:a=>1-k.outBounce(1-a),inOutBounce:a=>.5>a?.5*k.inBounce(2*a):.5*k.outBounce(2*a-1)+.5};c.easeNames=k},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});d=f(0);class g extends d.BaseTween{constructor(b){super();this.remains=0;this.duration=b;this.tickCb=this.tick.bind(this)}tick(b){for(this.remains=b*this.timescale;0<this.remains;){this.elapsed+=
this.remains;b=Math.max(Math.min(this.elapsed/this.duration,1),0);this.events.update&&this.emitEvent(this.events.update,[this.remains,b]);if(this.elapsed<this.duration)break;this.remains=this.elapsed-this.duration;if(this.loop&&(this.loop.value--,0!==this.loop.value)){this.resetAndStart(0);continue}this.complete();break}}}c.Delay=g},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});d=f(0);const g=f(10),b=f(3);class k extends d.BaseTween{constructor(a){super();this.evtTick=new Set;this.tweens=
[];this.remains=this.index=0;this.tickCb=this.tick.bind(this);if(a){this.tweens=Array(a.length);for(let b=0;b<a.length;b++)a[b].setParent(this),this.tweens[b]=[a[b]]}}get count(){return this.tweens.length}loopInit(){this.index=0;for(const a of this.tweens)for(const b of a)b.reset()}addTick(a){this.evtTick.add(a)}removeTick(a){this.evtTick.delete(a)}tick(a){3<=this.state||(this.remains=a*this.timescale,this.elapsed+=this.remains,this.localTick(this.remains))}localTick(a,b){this.cur||this.nextTween();
this.cur&&(this.evtTick.forEach(function(b){b(a)}),!0!==b&&this.events.update&&this.emitEvent(this.events.update,[a,0]));this.remains=a;if(this.cur){for(const a of this.cur)if(3!==a.state)return;this.remains=this.cur[0].elapsed-this.cur[0].duration;this.events.stepEnd&&this.emitEvent(this.events.stepEnd,this.cur[0]);this.cur=void 0;this.index++;if(.01<this.remains){this.localTick(this.remains,!0);return}}if(!this.cur&&this.tweens.length===this.index){if(this.loop&&(this.loop.value--,0!==this.loop.value)){this.resetAndStart(this.remains);
return}this.complete()}}nextTween(){if(this.cur=this.tweens[this.index]){for(const a of this.cur)a.start();this.events.stepStart&&this.emitEvent(this.events.stepStart,this.cur[0])}}append(a){a.setParent(this);this.tweens[this.tweens.length]=[a];return this}appendCallback(a){a=new g.Callback(a);a.setParent(this);this.tweens[this.tweens.length]=[a];return this}appendInterval(a){a=new b.Delay(a);a.setParent(this);this.tweens[this.tweens.length]=[a];return this}prepend(a){a.setParent(this);this.tweens.unshift([a]);
return this}prependCallback(a){a=new g.Callback(a);a.setParent(this);this.tweens.unshift([a]);return this}prependInterval(a){a=new b.Delay(a);a.setParent(this);this.tweens.unshift([a]);return this}skip(a){if(3<=this.state)this.info(1,"Cannot skip this tween ",this.state);else{for(const b of this.tweens)for(const c of b)0===c.elapsed&&this.emitEvent(this.events.stepStart,c),c.skip(a),this.emitEvent(this.events.stepEnd,c);super.skip()}}kill(){if(4===this.state)this.info(1,"Cannot kill this tween ",
this.state);else{for(const a of this.tweens)for(const b of a)b.kill();super.kill()}}join(a){if(0===this.tweens.length)return this.append(a);a.setParent(this);this.tweens[this.tweens.length-1].push(a);return this}onStepStart(a){return this.onEvent("stepStart",a)}onStepEnd(a){return this.onEvent("stepEnd",a)}}c.Sequence=k},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});d=f(6);f=f(12);c.EasingType=f.EasingType;c.default=new d.Fatina},function(d,c,f){Object.defineProperty(c,"__esModule",
{value:!0});const g=f(7),b=f(8),k=f(9),a=f(3),n=f(4),l=f(11);let h,m,e;"undefined"!==typeof window&&(m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,e=window.cancelAnimationFrame||window.mozCancelAnimationFrame);class u{constructor(){this.plugin={};this.loadedPlugins=[];this.eventCreated=[];this.settings={logLevel:0,safe:!0,smooth:!1,maxFrameDt:50,maxFrameNumber:40,maxDt:500};this.version="3.0.0-beta.2";this.lastTime=
this.dt=this.time=0;this.initialized=!1;this.pulse=(a,c)=>b.pulsePreset(this,a,c);this.scale=(a,c)=>b.scalePreset(this,a,c);this.wobble=(a,c)=>b.wobblePreset(this,a,c);this.sonar=(a,c)=>b.sonarPreset(this,a,c);this.shake=(a,c)=>b.shakePreset(this,a,c);this.curve=(a,b)=>g.curve(this,a,b);this.arc=(a,b)=>g.arc(this,a,b);this.path=(a,b)=>g.path(this,a,b)}get elapsed(){return this.manager.elapsed}get mainTicker(){this.initialized||this.init();return this.manager}init(a){if(this.initialized)return!1;this.manager||
(this.manager=new k.Ticker,this.manager.start());"undefined"===typeof window||a||(h=m(this.updateLoop.bind(this)));console.log(" %c Fatina - Tweening library for games ("+this.version+") https://github.com/kefniark/Fatina ","background: #222; color: #9fbff4; padding: 5px");return this.initialized=!0}setTimescale(a){this.init();this.manager.setTimescale(a)}pause(){this.init();this.manager.pause()}resume(){this.init();this.manager.resume()}destroy(){this.manager&&this.manager.kill();h&&e(h);this.initialized=
!1}update(a){this.initialized&&this.manager&&(this.manager.tick(a),this.time+=a)}tween(a){a=new l.Tween(a);this.addContext(a);return a}sequence(a){a=new n.Sequence(a);this.addContext(a);return a}delay(b){b=new a.Delay(b);this.addContext(b);return b}setTimeout(b,c){b=(new a.Delay(c)).onComplete(b);this.addContext(b);return b.start()}setInterval(b,c){b=(new a.Delay(c)).onRestart(b).setLoop(-1);this.addContext(b);return b.start()}addContext(a){this.initialized||this.init();a.setParent(this.manager);
0===this.settings.logLevel&&this.settings.safe||a.setSettings(this.settings);this.emitCreated(a)}ticker(){this.initialized||this.init();const a=new k.Ticker,b=a.tick.bind(a);a.setParent(this.manager,b);this.manager.addTick(b);a.start();this.emitCreated(a);return a}updateLoop(a){this.dt+=a-this.lastTime;this.dt>this.settings.maxDt/2&&0===this.lastTime?this.dt=0:this.dt>this.settings.maxDt&&(console.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`),this.dt=this.settings.maxDt);
if(this.settings.smooth){let a=0;for(;0<this.dt&&a<this.settings.maxFrameNumber;){const b=Math.min(this.dt,this.settings.maxFrameDt);this.update(b);this.dt-=b;a++}}else this.update(this.dt),this.dt=0;this.lastTime=a;h=m(this.updateLoop.bind(this))}loadPlugin(a){a.init(this);this.loadedPlugins.push(a);this.info(2,"Plugin Loaded",a.name)}info(a,b,c){a>this.settings.logLevel||(c?console.log(b,c):console.log(b))}emit(a,b){if(!this.settings.safe)return a(b);try{a(b)}catch(q){console.warn(q)}}emitCreated(a){for(const b of this.eventCreated)this.emit(b,
a)}addListenerCreated(a){this.eventCreated.push(a)}removeListenerCreated(a){a=this.eventCreated.indexOf(a);-1!==a&&this.eventCreated.splice(a,1)}setLog(a){this.settings.logLevel=a}setSafe(a){this.settings.safe=a}}c.Fatina=u},function(d,c,f){function g(a,b){return Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))}function b(a,b){return Math.atan2(b.y-a.y,b.x-a.x)}function k(a,b,c){var e=b.y-a.y,d=a.x-b.x,l=c.y-a.y,h=a.x-c.x,m=(a.x+c.x)/2;c=(a.y+c.y)/2;b=(e*(c-(a.y+b.y)/2)-d*(m-(a.x+b.x)/2))/(l*d-
h*e);l=m+b*l;h=c+b*h;m=l-a.x;a=h-a.y;return{x:l,y:h,r:Math.sqrt(m*m+a*a)}}Object.defineProperty(c,"__esModule",{value:!0});const a=f(1);(function(a){a.Cubic="cubic";a.Quadratic="quadratic";a.Catmull="catmull"})(c.BezierType||(c.BezierType={}));(function(a){a.Linear="linear";a.Catmull="catmull"})(c.PathType||(c.PathType={}));const n={cubic:(a,b,c,e)=>{const d=1-a;return d*d*d*b+a*(3*d*d*c[0]+a*(3*d*c[1]+a*e))},quadratic:(a,b,c,e)=>{const d=1-a;return d*d*b+a*(2*d*c[0]+a*e)},catmull:(a,b,c,e)=>{const d=
a*a,h=a*a*a;return c[0]*(-.5*h+d-.5*a)+b*(1.5*h-2.5*d+1)+e*(-1.5*h+2*d+.5*a)+c[1]*(.5*h-.5*d)}};c.curve=function(b,c,d){const e=Object.assign({},{posX:"position.x",posY:"position.y",rot:"rotation",rotAdd:Math.PI/2,autoRotate:!0,from:{x:0,y:0},ctr1:{x:0,y:0},ctr2:{x:0,y:0},to:{x:0,y:0},duration:2E3,method:"cubic"},d||{}),h=a.getRoot(c,e.posX),m=n[e.method],k=[e.ctr1.x,e.ctr2.x],g=[e.ctr1.y,e.ctr2.y];var f=0,l=0;return b.tween({}).to({},e.duration).onStart(()=>{0===e.from.x&&0===e.from.y&&(e.from={x:h[a.getProp(e.posX)],
y:h[a.getProp(e.posY)]})}).onUpdate((b,d)=>{h[a.getProp(e.posX)]=m(d,e.from.x,k,e.to.x);h[a.getProp(e.posY)]=m(d,e.from.y,g,e.to.y);e.autoRotate&&(b=h[a.getProp(e.posX)]-f,d=h[a.getProp(e.posY)]-l,c[e.rot]=Math.atan2(d,b)+e.rotAdd,f=h[a.getProp(e.posX)],l=h[a.getProp(e.posY)])}).onKilled(()=>{h[a.getProp(e.posX)]=e.to.x;h[a.getProp(e.posY)]=e.to.y})};c.path=function(b,c,d){const e=Object.assign({},{posX:"position.x",posY:"position.y",points:[],duration:2E3,method:"catmull"},d||{}),h=a.getRoot(c,e.posX);
d={x:h[a.getProp(e.posX)],y:h[a.getProp(e.posY)]};let m=0;for(var k=0;k<e.points.length;k++)m+=g(0===k?d:e.points[k-1],e.points[k]);k=b.sequence();for(let a=0;a<e.points.length;a++){const f=1>a?d:e.points[a-1],l=e.points[a],n=e.duration*g(f,l)/m;switch(e.method){case "linear":k.append(b.tween(h).to({x:e.points[a].x,y:e.points[a].y},n));break;case "catmull":k.append(b.curve(c,{ctr1:2>a?d:e.points[a-2],ctr2:a>=e.points.length-1?e.points[e.points.length-1]:e.points[a+1],from:f,to:l,method:"catmull",
duration:n}))}}k.onKilled(()=>{h[a.getProp(e.posX)]=e.points[e.points.length-1].x;h[a.getProp(e.posY)]=e.points[e.points.length-1].y});return k};c.arc=function(c,d,m){const e=Object.assign({},{posX:"position.x",posY:"position.y",rot:"rotation",rotAdd:Math.PI/2,autoRotate:!0,ctr1:{x:0,y:0},to:{x:0,y:0},duration:2E3},m||{}),h=a.getRoot(d,e.posX);var f={x:h[a.getProp(e.posX)],y:h[a.getProp(e.posY)]};const g=k(f,e.ctr1,e.to);m={x:g.x,y:g.y};var l=0,n=0;const p=b(m,f);f=b(m,e.ctr1);let t=b(m,e.to);m=(f+
2*Math.PI)%(2*Math.PI)>(p+2*Math.PI)%(2*Math.PI);f>p&&t>f||f>t&&p>f||(t+=m?2*Math.PI:2*-Math.PI);return c.tween({}).to({},e.duration).onUpdate((b,c)=>{b=(t-p)*c+p;h[a.getProp(e.posX)]=g.x+g.r*Math.cos(b);h[a.getProp(e.posY)]=g.y+g.r*Math.sin(b);e.autoRotate&&(b=h[a.getProp(e.posX)]-l,c=h[a.getProp(e.posY)]-n,d[e.rot]=Math.atan2(c,b)+e.rotAdd,l=h[a.getProp(e.posX)],n=h[a.getProp(e.posY)])}).onKilled(()=>{h[a.getProp(e.posX)]=e.to.x;h[a.getProp(e.posY)]=e.to.y})}},function(d,c,f){function g(a,b,c){const d=
Object.assign({},{scaleX:"scale.x",scaleY:"scale.y",amplitude:.5,duration:2E3,bounce:5,friction:2,sinX:0},c||{}),f=k.getRoot(b,d.scaleX),e=k.getProp(d.scaleX),g=k.getProp(d.scaleY);var l=f[e],n=f[g];return a.tween({}).to({},d.duration).setEasing("inOutCubic").onUpdate((a,b)=>{a=Math.pow(1-b,d.friction);b=b*d.bounce%d.duration;f[e]=l+Math.sin(d.sinX+b*Math.PI*2)*d.amplitude*a;f[g]=n+Math.sin(b*Math.PI*2)*d.amplitude*a}).onKilled(()=>{f[e]=l;f[g]=n})}Object.defineProperty(c,"__esModule",{value:!0});
const b=f(2),k=f(1);c.sonarPreset=function(a,c,d){const h=Object.assign({},{alpha:"alpha",scaleX:"scale.x",scaleY:"scale.y",amplitude:4,duration:2E3},d||{}),f=k.getRoot(c,h.scaleX),e=k.getRoot(c,h.alpha),g=k.getProp(h.scaleX),l=k.getProp(h.scaleY),n=k.getProp(h.alpha);var q=f[g],r=f[l];const p=b.easeNames.outCubic;return a.tween({}).to({},h.duration).onUpdate((a,c)=>{e[n]=1-b.easeNames.inSine(c);f[g]=q+h.amplitude*p(c);f[l]=r+h.amplitude*p(c)}).onKilled(()=>{e[n]=1;f[g]=q;f[l]=r})};c.pulsePreset=
function(a,b,c){const d=Object.assign({},{alpha:"alpha",duration:2E3},c||{}),f=k.getRoot(b,d.alpha);return a.tween(f).to(k.getData(d.alpha,0),d.duration/2).setEasing("inOutQuad").toSequence().append(a.tween(f).to(k.getData(d.alpha,1),d.duration/2).setEasing("inOutQuad")).onKilled(()=>f[k.getProp(d.alpha)]=1)};c.scalePreset=g;c.wobblePreset=function(a,b,c){return g(a,b,Object.assign({},{sinX:Math.PI},c||{}))};c.shakePreset=function(a,b,c){const d=Object.assign({},{posX:"position.x",posY:"position.y",
amplitude:1.5,duration:2E3,bounce:10,friction:2},c||{}),f=k.getRoot(b,d.posX),e=k.getProp(d.posX),g=k.getProp(d.posY);var l=f[e],n=f[g],q=.5+Math.random(),r=.5+Math.random();return a.tween({}).to({},d.duration).onUpdate((a,b)=>{a=Math.pow(1-b,d.friction);b=b*d.bounce%d.duration;f[e]=l+Math.sin(Math.PI+(b+q)*Math.PI*2)*d.amplitude*a;f[g]=n+Math.sin((b+r)*Math.PI*2)*d.amplitude*a}).onKilled(()=>{f[e]=l;f[g]=n})}},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});class g{constructor(){this.state=
0;this.timescale=1;this.duration=this.elapsed=0;this.ticks=new Set;this.newTicks=new Set;this.dt=0}setParent(b,c){this.tickCb=c;this.parent=b}setTimescale(b){this.timescale=b}addTick(b){this.newTicks.add(b)}removeTick(b){this.ticks.delete(b)||this.newTicks.delete(b)}tick(b){1===this.state&&(this.dt=b*this.timescale,0<this.newTicks.size&&(this.newTicks.forEach(b=>this.ticks.add(b)),this.newTicks.clear()),this.ticks.forEach(b=>b(this.dt)),this.elapsed+=this.dt)}start(){0===this.state&&(this.state=1)}pause(){1===
this.state&&(this.state=2)}resume(){2===this.state&&(this.state=1)}kill(){3<=this.state||(this.parent&&this.tickCb&&this.parent.removeTick(this.tickCb),this.state=4)}skip(){}reset(){this.state=0}get isIdle(){return 0===this.state}get isRunning(){return 1===this.state}get isFinished(){return 3<=this.state}get isPaused(){return 2===this.state}}c.Ticker=g},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});d=f(0);class g extends d.BaseTween{constructor(b){super();this.callback=b;this.tickCb=
this.tick.bind(this)}tick(b){this.elapsed+=b;this.duration=0;this.callback();this.emitEvent(this.events.update,[b,1]);this.complete()}}c.Callback=g},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});const g=f(2);d=f(0);const b=f(4);class k extends d.BaseTween{constructor(a){super();this.prop=[];this.steps=0;this.relative=!1;this.remains=this.v=this.p=0;this.obj=a;this.tickCb=this.tick.bind(this)}init(a){this.obj=a;this.prop.length=0}validate(){if(!this.obj)throw Error("undefined object");
if(!this.parent)throw Error("no ticker");this.ease||(this.ease=g.easeNames.linear);this.check()}check(){this.cf||(this.cf={});this.ct||(this.ct={});for(const a of this.prop)this.f?(this.cf[a]=this.f[a],this.obj[a]=this.f[a]):this.cf[a]=this.obj[a],this.ct[a]=this.relative?this.obj[a]+this.t[a]:this.t[a]}tick(a){if(!(3<=this.state))for(this.remains=a*this.timescale;0<this.remains;){this.elapsed+=this.remains;this.p=Math.max(Math.min(this.elapsed/this.duration,1),0);this.v=this.ease(this.p);this.yo&&
1===(this.yo.original-this.yo.value)%2&&(this.v=1-this.ease(1-this.p));0!==this.steps&&(this.v=Math.round(this.v*this.steps)/this.steps);for(const a of this.prop)this.obj[a]=this.cf[a]+(this.ct[a]-this.cf[a])*this.v;this.events.update&&this.emitEvent(this.events.update,[this.remains,this.v]);if(this.elapsed<this.duration)break;this.remains=this.elapsed-this.duration;if(this.yo&&0!==this.yo.value)this.reverse(),this.resetAndStart(0),this.yo.value--;else{if(this.loop&&(this.loop.value--,0!==this.loop.value)){this.check();
this.resetAndStart(0);continue}this.complete();break}}}from(a){this.f=a;this.updateProp();return this}to(a,b){this.t=a;this.duration=b;this.updateProp();return this}updateProp(){if(this.obj){for(const a in this.t)this.t.hasOwnProperty(a)&&this.prop.push(a);this.prop.filter((a,b,c)=>b===c.indexOf(a))}}setRelative(a){this.relative=a;return this}modify(a,b){for(const c of this.prop)a.hasOwnProperty(c)&&(this.obj[c]+=a[c],b?this.ct[c]+=a[c]:this.cf[c]+=a[c])}reset(a){if(this.yo){if(1===(this.yo.original-
this.yo.value)%2){let a=this.cf;this.cf=this.ct;this.ct=a;a=this.f;this.f=this.t;this.t=a;this.elapsed=Math.round((1-this.elapsed/this.duration)*this.duration*1E3)/1E3}this.yo.value=this.yo.original}super.reset(a)}reverse(){let a=this.cf;this.cf=this.ct;this.ct=a;a=this.f;this.f=this.t;this.t=a;this.elapsed=Math.round((1-this.elapsed/this.duration)*this.duration*1E3)/1E3;3===this.state&&(this.reset(!0),this.start())}yoyo(a){this.yo||(this.yo={original:0,value:0});this.yo.original=a;this.yo.value=
a;return this}setSteps(a){this.steps=a;return this}toSequence(){if(!this.parent)throw Error("parent ticker not defined");return(new b.Sequence).setParent(this.parent).append(this)}setEasing(a){if(!(a in g.easeNames))throw Error(`unknown easing method ${a}`);this.ease=g.easeNames[a];return this}loopInit(){this.elapsed=0}}c.Tween=k},function(d,c,f){Object.defineProperty(c,"__esModule",{value:!0});d=c.EasingType||(c.EasingType={});d.Linear="linear";d.InQuad="inQuad";d.OutQuad="outQuad";d.InOutQuad="inOutQuad";
d.InCubic="inCubic";d.OutCubic="outCubic";d.InOutCubic="inOutCubic";d.InQuart="inQuart";d.OutQuart="outQuart";d.InOutQuart="inOutQuart";d.InSine="inSine";d.OutSine="outSine";d.InOutSine="inOutSine";d.InCirc="inCirc";d.OutCirc="outCirc";d.InOutCirc="inOutCirc";d.InQuint="inQuint";d.OutQuint="outQuint";d.InOutQuint="inOutQuint";d.InExponential="inExponential";d.OutExponential="outExponential";d.InOutExponential="inOutExponential";d.InElastic="inElastic";d.OutElastic="outElastic";d.InOutElastic="inOutElastic";
d.InBack="inBack";d.OutBack="outBack";d.InOutBack="inOutBack";d.InBounce="inBounce";d.OutBounce="outBounce";d.InOutBounce="inOutBounce"}])});}).call(this || window)
 