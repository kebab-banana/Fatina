!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fatina",[],e):"object"==typeof exports?exports.fatina=e():t.fatina=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){var e=t-w;c&&c.Tick(e),w=t,l=O(i)}function r(t){v||(c||(c=new d.Ticker,c.Start()),t||(l=O(i)),h=new y.Pooling(2500),v=!0)}function o(t){v&&c&&c.Tick(t)}function s(){l&&T(l),c&&(c.Kill(),c=void 0),v=!1}function a(){return c}function u(t,e){v||r();var n=h.PopTween();return n.Init(t,e),n.SetParent(c),n}function p(){return v||r(),(new f.Sequence).SetParent(c)}Object.defineProperty(e,"__esModule",{value:!0});var c,h,l,f=n(1),d=n(7),y=n(8),v=!1,O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,T=window.cancelAnimationFrame||window.mozCancelAnimationFrame,w=0;e.Init=r,e.Update=o,e.Deinit=s,e.Ticker=a,e.Tween=u,e.Sequence=p},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(4),s=n(6),a=n(5),u=function(t){function e(){var e=t.call(this)||this;return e.eventTick=[],e.eventStepStart=[],e.eventStepEnd=[],e.tweens=[],e.sequenceIndex=0,e.tickCb=function(t){var n=t*e.timescale;e.elapsed+=n,e.Tick(n)},e}return i(e,t),Object.defineProperty(e.prototype,"Type",{get:function(){return a.TweenType.Sequence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CurrentTween",{get:function(){return this.currentTween},enumerable:!0,configurable:!0}),e.prototype.Validate=function(){},e.prototype.LoopInit=function(){this.sequenceIndex=0;for(var t=0,e=this.tweens;t<e.length;t++)for(var n=e[t],i=0,r=n;i<r.length;i++){var o=r[i];o.Reset(!0)}},e.prototype.SetParent=function(e){return t.prototype.SetParent.call(this,e),this},e.prototype.AddTickListener=function(t){this.eventTick.unshift(t)},e.prototype.RemoveTickListener=function(t){var e=this.eventTick.indexOf(t);e!==-1&&this.eventTick.splice(e,1)},e.prototype.Tick=function(e,n){if(!this.currentTween&&(this.currentTween=this.tweens[this.sequenceIndex],this.currentTween)){for(var i=0,r=this.currentTween;i<r.length;i++){var o=r[i];o.Start()}for(var s=0;s<this.eventStepStart.length;s++)this.eventStepStart[s](this.currentTween[0])}for(var s=this.eventTick.length-1;s>=0;s--)this.eventTick[s](e);if(n!==!0&&t.prototype.Updated.call(this,e,0),this.currentTween){if(this.currentTween.some(function(t){return!t.IsCompleted()}))return;for(var a=this.currentTween[0],u=a.Elapsed-a.Duration,s=0;s<this.eventStepEnd.length;s++)this.eventStepEnd[s](this.currentTween[0]);if(this.currentTween=void 0,this.sequenceIndex++,u>.01)return void this.Tick(u,!0)}this.currentTween||this.tweens.length!==this.sequenceIndex||(this.loop--,0===this.loop?this.Complete():this.ResetAndStart())},e.prototype.Append=function(t){return t.SetParent(this),this.tweens.push([t]),this},e.prototype.AppendCallback=function(t){var e=new o.Callback(t);return e.SetParent(this),this.tweens.push([e]),this},e.prototype.AppendInterval=function(t){var e=new s.Delay(t);return e.SetParent(this),this.tweens.push([e]),this},e.prototype.Prepend=function(t){return t.SetParent(this),this.tweens.unshift([t]),this},e.prototype.PrependCallback=function(t){var e=new o.Callback(t);return e.SetParent(this),this.tweens.unshift([e]),this},e.prototype.PrependInterval=function(t){var e=new s.Delay(t);return e.SetParent(this),this.tweens.unshift([e]),this},e.prototype.Kill=function(){t.prototype.Kill.call(this);for(var e=0,n=this.tweens;e<n.length;e++)for(var i=n[e],r=0,o=i;r<o.length;r++){var s=o[r];s.IsKilled()||s.IsCompleted()||s.Kill()}},e.prototype.Join=function(t){return 0===this.tweens.length?this.Append(t):(t.SetParent(this),this.tweens[this.tweens.length-1].push(t),this)},e.prototype.SetTimescale=function(t){return this.timescale=t,this},e.prototype.SetLoop=function(t){return this.loop=Math.round(t),this},e.prototype.OnStart=function(e){return t.prototype.OnStart.call(this,e),this},e.prototype.OnUpdate=function(e){return t.prototype.OnUpdate.call(this,e),this},e.prototype.OnKilled=function(e){return t.prototype.OnKilled.call(this,e),this},e.prototype.OnComplete=function(e){return t.prototype.OnComplete.call(this,e),this},e.prototype.OnStepStart=function(t){return this.eventStepStart.push(t),this},e.prototype.OnStepEnd=function(t){return this.eventStepEnd.push(t),this},e}(r.BaseTween);e.Sequence=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(){this.elapsed=0,this.duration=0,this.timescale=1,this.loop=1,this.state=i.State.Idle,this.eventStart=[],this.eventUpdate=[],this.eventKill=[],this.eventComplete=[],this.firstStart=!0}return Object.defineProperty(t.prototype,"Elapsed",{get:function(){return this.elapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Duration",{get:function(){return this.duration},enumerable:!0,configurable:!0}),t.prototype.SetParent=function(t){this.parent&&this.parent.RemoveTickListener(this.tickCb),this.parent=t},t.prototype.IsRunning=function(){return this.state===i.State.Run},t.prototype.IsCompleted=function(){return this.state===i.State.Finished},t.prototype.IsKilled=function(){return this.state===i.State.Killed},t.prototype.Start=function(){return this.state!==i.State.Idle?void console.warn("cant start this tween, already in state",this.state):(this.firstStart&&this.Validate(),this.state=i.State.Run,this.parent.AddTickListener(this.tickCb),void(this.firstStart&&(this.Started(),this.firstStart=!1)))},t.prototype.Reset=function(t){this.state=i.State.Idle,this.parent&&this.parent.RemoveTickListener(this.tickCb),t===!0&&(this.loop=1),this.LoopInit()},t.prototype.ResetAndStart=function(t){t===!0&&(this.loop=1),this.LoopInit(),this.state=i.State.Run},t.prototype.Pause=function(){return this.state!==i.State.Run?void console.warn("cant pause this tween, already in state",this.state):(this.state=i.State.Pause,void(this.parent&&this.parent.RemoveTickListener(this.tickCb)))},t.prototype.Resume=function(){return this.state!==i.State.Pause?void console.warn("cant resume this tween, already in state",this.state):(this.state=i.State.Run,void this.parent.AddTickListener(this.tickCb))},t.prototype.Kill=function(){return this.state===i.State.Killed||this.state===i.State.Finished?void console.warn("cant kill this tween, already in state",this.state):(this.parent&&this.parent.RemoveTickListener(this.tickCb),this.state=i.State.Killed,void this.Killed())},t.prototype.Complete=function(){return this.state===i.State.Killed||this.state===i.State.Finished?void console.warn("cant complete this tween, already in state",this.state):(this.parent&&this.parent.RemoveTickListener(this.tickCb),this.state=i.State.Finished,void this.Completed())},t.prototype.Started=function(){for(var t=0;t<this.eventStart.length;t++)this.eventStart[t]();this.eventStart=[]},t.prototype.Updated=function(t,e){for(var n=0;n<this.eventUpdate.length;n++)this.eventUpdate[n](t,e)},t.prototype.Killed=function(){for(var t=0;t<this.eventKill.length;t++)this.eventKill[t]();this.eventKill=[]},t.prototype.Completed=function(){for(var t=0;t<this.eventComplete.length;t++)this.eventComplete[t]();this.eventComplete=[]},t.prototype.OnStart=function(t){this.eventStart.push(t)},t.prototype.OnUpdate=function(t){this.eventUpdate.push(t)},t.prototype.OnKilled=function(t){this.eventKill.push(t)},t.prototype.OnComplete=function(t){this.eventComplete.push(t)},t}();e.BaseTween=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Pause=2]="Pause",t[t.Finished=3]="Finished",t[t.Killed=4]="Killed"}(n=e.State||(e.State={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(5),s=function(t){function e(e){var n=t.call(this)||this;return n.tickCb=function(t){n.elapsed+=t,n.duration=0,e(),n.Updated(t,1),n.Complete()},n}return i(e,t),Object.defineProperty(e.prototype,"Type",{get:function(){return o.TweenType.Callback},enumerable:!0,configurable:!0}),e.prototype.Validate=function(){},e.prototype.LoopInit=function(){this.elapsed=0},e}(r.BaseTween);e.Callback=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Ticker=0]="Ticker",t[t.Sequence=1]="Sequence",t[t.Tween=2]="Tween",t[t.Callback=3]="Callback",t[t.Delay=4]="Delay",t[t.None=5]="None"}(n=e.TweenType||(e.TweenType={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(5),s=function(t){function e(e){var n=t.call(this)||this;return n.duration=e,n.tickCb=function(e){n.elapsed+=e;var i=Math.max(Math.min(n.elapsed/n.duration,1),0);t.prototype.Updated.call(n,e,i),n.elapsed>=n.duration&&n.Complete()},n}return i(e,t),Object.defineProperty(e.prototype,"Type",{get:function(){return o.TweenType.Delay},enumerable:!0,configurable:!0}),e.prototype.Validate=function(){},e.prototype.LoopInit=function(){this.elapsed=0},e}(r.BaseTween);e.Delay=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(5),o=function(){function t(){this.state=i.State.Idle,this.timescale=1,this.elapsed=0,this.eventTick=[]}return Object.defineProperty(t.prototype,"Type",{get:function(){return r.TweenType.Ticker},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Elapsed",{get:function(){return this.elapsed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Duration",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.AddTickListener=function(t){this.eventTick.unshift(t)},t.prototype.RemoveTickListener=function(t){var e=this.eventTick.indexOf(t);e!==-1&&this.eventTick.splice(e,1)},t.prototype.Tick=function(t){if(this.state===i.State.Run){for(var e=t*this.timescale,n=this.eventTick.length-1;n>=0;n--)this.eventTick[n](e);this.elapsed+=e}},t.prototype.IsCompleted=function(){return this.state===i.State.Finished},t.prototype.IsRunning=function(){return this.state===i.State.Run},t.prototype.IsKilled=function(){return this.state===i.State.Killed},t.prototype.Start=function(){this.state===i.State.Idle&&(this.state=i.State.Run)},t.prototype.Pause=function(){this.state===i.State.Run&&(this.state=i.State.Pause)},t.prototype.Resume=function(){this.state===i.State.Pause&&(this.state=i.State.Run)},t.prototype.Kill=function(){this.state!==i.State.Killed&&this.state!==i.State.Finished&&(this.state=i.State.Killed)},t.prototype.Reset=function(){this.state=i.State.Idle},t}();e.Ticker=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t){this.tweens=[];for(var e=0;e<t;e++)this.CreateTween()}return t.prototype.CreateTween=function(){return new i.Tween(null,[])},t.prototype.PopTween=function(){return 0===this.tweens.length&&this.tweens.push(this.CreateTween()),this.tweens.pop()},t.prototype.PushTween=function(t){void 0!==t&&this.tweens.push(t)},t}();e.Pooling=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(10),s=n(11),a=n(1),u=n(5),p=function(t){function e(e,n){var i=t.call(this)||this;return i.relative=!1,i.object=e,i.properties=n,i.tickCb=function(t){var e=t*i.timescale;i.elapsed+=e;var n=Math.max(Math.min(i.elapsed/i.duration,1),0);i.Update(e,n),i.elapsed>=i.duration&&(i.loop--,0===i.loop?i.Complete():i.ResetAndStart())},i}return i(e,t),Object.defineProperty(e.prototype,"Type",{get:function(){return u.TweenType.Tween},enumerable:!0,configurable:!0}),e.prototype.Init=function(t,e){this.object=t,this.properties=e},e.prototype.Validate=function(){if(!this.object)throw new Error("Cant Tween a undefined object");for(var t=0,e=this.properties;t<e.length;t++){var n=e[t];if(!(n in this.object))throw new Error("Cant Tween an unknown property"+n)}if(!this.parent)throw new Error("Cant Start a tween without ticker");if(this.ease||(this.ease=s.easeTypes[o.EasingType.Linear]),this.from)for(var i=0,r=this.properties;i<r.length;i++){var n=r[i];this.object[n]=this.from[n]}else{this.from={};for(var a=0,u=this.properties;a<u.length;a++){var n=u[a];this.from[n]=this.object[n]}}if(this.relative)for(var p=0,c=this.properties;p<c.length;p++){var n=c[p];this.to[n]=this.object[n]+this.to[n]}},e.prototype.LoopInit=function(){if(this.elapsed=0,this.from)for(var t=0,e=this.properties;t<e.length;t++){var n=e[t];this.object[n]=this.from[n]}},e.prototype.Update=function(e,n){for(var i=this.ease(n),r=0,o=this.properties;r<o.length;r++){var s=o[r];this.object[s]=this.from[s]+(this.to[s]-this.from[s])*i}t.prototype.Updated.call(this,e,n)},e.prototype.SetParent=function(e){return t.prototype.SetParent.call(this,e),this},e.prototype.From=function(t){return this.from=t,this},e.prototype.To=function(t,e){return this.to=t,this.duration=e,this},e.prototype.SetLoop=function(t){return this.loop=Math.round(t),this},e.prototype.SetRelative=function(t){return this.relative=t,this},e.prototype.SetTimescale=function(t){return this.timescale=t,this},e.prototype.ToSequence=function(){if(!this.parent)throw new Error("Cant convert to a sequence, parent ticker not defined");return(new a.Sequence).SetParent(this.parent).Append(this)},e.prototype.Easing=function(t,e){var n=t,i=!isNaN(parseFloat(n));if(i){var r=parseInt(n,10);if(r in s.easeTypes)return s.easeTypes[r]}if(n in s.easeNames)return s.easeNames[n];throw new Error("Unknown ease method "+t)},e.prototype.SetEasing=function(t,e){return this.ease=this.Easing(t,e),this},e.prototype.OnStart=function(e){return t.prototype.OnStart.call(this,e),this},e.prototype.OnUpdate=function(e){return t.prototype.OnUpdate.call(this,e),this},e.prototype.OnKilled=function(e){return t.prototype.OnKilled.call(this,e),this},e.prototype.OnComplete=function(e){return t.prototype.OnComplete.call(this,e),this},e}(r.BaseTween);e.Tween=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Linear=0]="Linear",t[t.InQuad=1]="InQuad",t[t.OutQuad=2]="OutQuad",t[t.InOutQuad=3]="InOutQuad",t[t.InCubic=4]="InCubic",t[t.OutCubic=5]="OutCubic",t[t.InOutCubic=6]="InOutCubic",t[t.InQuart=7]="InQuart",t[t.OutQuart=8]="OutQuart",t[t.InOutQuart=9]="InOutQuart",t[t.InSine=10]="InSine",t[t.OutSine=11]="OutSine",t[t.InOutSine=12]="InOutSine",t[t.InCirc=13]="InCirc",t[t.OutCirc=14]="OutCirc",t[t.InOutCirc=15]="InOutCirc",t[t.InQuint=16]="InQuint",t[t.OutQuint=17]="OutQuint",t[t.InOutQuint=18]="InOutQuint",t[t.InExponential=19]="InExponential",t[t.OutExponential=20]="OutExponential",t[t.InOutExponential=21]="InOutExponential",t[t.InElastic=22]="InElastic",t[t.OutElastic=23]="OutElastic",t[t.InOutElastic=24]="InOutElastic",t[t.InBack=25]="InBack",t[t.OutBack=26]="OutBack",t[t.InOutBack=27]="InOutBack",t[t.InBounce=28]="InBounce",t[t.OutBounce=29]="OutBounce",t[t.InOutBounce=30]="InOutBounce"}(n=e.EasingType||(e.EasingType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=Math.PI,o=Math.PI/2,s=1.70158,a=[],u={};a[i.EasingType.Linear]=u.linear=function(t){return t},a[i.EasingType.InQuad]=u.inQuad=function(t){return t*t},a[i.EasingType.OutQuad]=u.outQuad=function(t){return 2*t-t*t},a[i.EasingType.InOutQuad]=u.inOutQuad=function(t){return t<.5?2*t*t:2*(2*t-t*t)-1},a[i.EasingType.InCubic]=u.inCubic=function(t){return t*t*t},a[i.EasingType.OutCubic]=u.outCubic=function(t){return 3*t-3*t*t+t*t*t},a[i.EasingType.InOutCubic]=u.inOutCubic=function(t){return t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3},a[i.EasingType.InQuart]=u.inQuart=function(t){return t*t*t*t},a[i.EasingType.OutQuart]=u.outQuart=function(t){var e=t*t;return 4*t-6*e+4*e*t-e*e},a[i.EasingType.InOutQuart]=u.inOutQuart=function(t){if(t<.5)return 8*t*t*t*t;var e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7},a[i.EasingType.InSine]=u.inSine=function(t){return 1===t?1:1-Math.cos(o*t)},a[i.EasingType.OutSine]=u.outSine=function(t){return Math.sin(o*t)},a[i.EasingType.InOutSine]=u.inOutSine=function(t){return t<.5?(1-Math.cos(r*t))/2:(1+Math.sin(r*(t-.5)))/2},a[i.EasingType.InCirc]=u.inCirc=function(t){return 1-Math.sqrt(1-Math.pow(t,2))},a[i.EasingType.OutCirc]=u.outCirc=function(t){return Math.sqrt(1-Math.pow(1-t,2))},a[i.EasingType.InOutCirc]=u.inOutCirc=function(t){return t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(-3+8*t-4*t*t))/2},a[i.EasingType.InQuint]=u.inQuint=function(t){return t*t*t*t*t},a[i.EasingType.OutQuint]=u.outQuint=function(t){return--t*t*t*t*t+1},a[i.EasingType.InOutQuint]=u.inOutQuint=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},a[i.EasingType.InExponential]=u.inExponential=function(t){return 1===t?1:0===t?0:Math.pow(1024,t-1)},a[i.EasingType.OutExponential]=u.outExponential=function(t){return 1===t?1:1-Math.pow(2,-10*t)},a[i.EasingType.InOutExponential]=u.inOutExponential=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},a[i.EasingType.InElastic]=u.inElastic=function(t){return 0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},a[i.EasingType.OutElastic]=u.outElastic=function(t){return 1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},a[i.EasingType.InOutElastic]=u.inOutElastic=function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)},a[i.EasingType.InBack]=u.inBack=function(t){var e=s;return 1===t?1:t*t*((e+1)*t-e)},a[i.EasingType.OutBack]=u.outBack=function(t){var e=s;return 0===t?0:--t*t*((e+1)*t+e)+1},a[i.EasingType.InOutBack]=u.inOutBack=function(t){var e=1.525*s;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},a[i.EasingType.OutBounce]=u.outBounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},a[i.EasingType.InBounce]=u.inBounce=function(t){return 1-a[i.EasingType.OutBounce](1-t)},a[i.EasingType.InOutBounce]=u.inOutBounce=function(t){return t<.5?.5*a[i.EasingType.InBounce](2*t):.5*a[i.EasingType.OutBounce](2*t-1)+.5},e.easeTypes=a,e.easeNames=u}])});
//# sourceMappingURL=fatina.min.js.map