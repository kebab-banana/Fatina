!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Fatina",[],e):"object"==typeof exports?exports.Fatina=e():t.Fatina=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Pause=2]="Pause",t[t.Finished=3]="Finished",t[t.Killed=4]="Killed"}(e.State||(e.State={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(0),s=function(){function t(){this.elapsed=0,this.duration=0,this.timescale=1,this.state=r.State.Idle,this.loopOriginal=1,this.loop=1,this.firstStart=!0,this.recycled=!1,this.safe=!0,this.logLevel=i.Log.None}return t.prototype.Start=function(){return this.state!==r.State.Idle?this:(this.firstStart?this.Validate():this.CheckPosition(),this.state=r.State.Run,this.recycled?(this.parent.CheckTickListener(this.tickCb)||this.parent.AddTickListener(this.tickCb),this.recycled=!1):this.parent.AddTickListener(this.tickCb),this.firstStart&&(this.EmitEvent(this.eventStart),this.firstStart=!1),this)},t.prototype.Recycle=function(){this.Reset(!0),this.firstStart=!0,this.recycled=!0},t.prototype.Reset=function(t){this.state=r.State.Idle,t||this.RemoveParentListener(),this.loop=this.loopOriginal,this.LoopInit(),this.EmitEvent(this.eventRestart)},t.prototype.ResetAndStart=function(t){this.LoopInit(),this.EmitEvent(this.eventRestart),this.state=r.State.Run,t>0&&this.tickCb(t)},t.prototype.SetParent=function(t){return this.RemoveParentListener(),this.parent=t,this},t.prototype.SetTimescale=function(t){return this.timescale=t,this},t.prototype.Pause=function(){this.state===r.State.Run&&(this.state=r.State.Pause,this.RemoveParentListener())},t.prototype.Resume=function(){this.state===r.State.Pause&&(this.state=r.State.Run,this.parent.AddTickListener(this.tickCb))},t.prototype.Skip=function(t){if(this.state!==r.State.Killed&&this.state!==r.State.Finished){if(this.state===r.State.Idle&&this.EmitEvent(this.eventStart),t)return void this.tickCb(this.duration-this.elapsed);this.elapsed=this.duration,this.Complete()}},t.prototype.Kill=function(){this.state!==r.State.Killed&&(this.state=r.State.Killed,this.RemoveParentListener(),this.EmitEvent(this.eventKill))},t.prototype.SetLoop=function(t){return this.loopOriginal=Math.round(t),this.loop=this.loopOriginal,this},t.prototype.IsRunning=function(){return this.state===r.State.Run},t.prototype.IsFinished=function(){return this.state===r.State.Killed||this.state===r.State.Finished},t.prototype.IsPaused=function(){return this.state===r.State.Pause},t.prototype.Complete=function(){this.state!==r.State.Killed&&this.state!==r.State.Finished&&(this.state=r.State.Finished,this.RemoveParentListener(),this.EmitEvent(this.eventComplete))},t.prototype.RemoveParentListener=function(){this.parent&&this.parent.RemoveTickListener(this.tickCb)},t.prototype.CheckPosition=function(){},t.prototype.Validate=function(){},t.prototype.LoopInit=function(){this.elapsed=0},t.prototype.Default=function(){this.elapsed=0,this.duration=0,this.timescale=1,this.loop=1,this.firstStart=!0,this.state=r.State.Idle},t.prototype.SetSafe=function(t){return this.safe=t,this},t.prototype.SetLog=function(t){return this.logLevel=t,this},t.prototype.Emit=function(t,e){if(!this.safe)return t.apply(this,e);try{t.apply(this,e)}catch(t){console.warn(t)}},t.prototype.EmitEvent=function(t,e){if(t)for(var n=0;n<t.length;n++)this.Emit(t[n],e)},t.prototype.OnStart=function(t){return this.eventStart||(this.eventStart=new Array(0)),this.eventStart[this.eventStart.length]=t,this},t.prototype.OnRestart=function(t){return this.eventRestart||(this.eventRestart=new Array(0)),this.eventRestart[this.eventRestart.length]=t,this},t.prototype.OnUpdate=function(t){return this.eventUpdate||(this.eventUpdate=new Array(0)),this.eventUpdate[this.eventUpdate.length]=t,this},t.prototype.OnKilled=function(t){return this.eventKill||(this.eventKill=new Array(0)),this.eventKill[this.eventKill.length]=t,this},t.prototype.OnComplete=function(t){return this.eventComplete||(this.eventComplete=new Array(0)),this.eventComplete[this.eventComplete.length]=t,this},t}();e.BaseTween=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Linear=0]="Linear",t[t.InQuad=1]="InQuad",t[t.OutQuad=2]="OutQuad",t[t.InOutQuad=3]="InOutQuad",t[t.InCubic=4]="InCubic",t[t.OutCubic=5]="OutCubic",t[t.InOutCubic=6]="InOutCubic",t[t.InQuart=7]="InQuart",t[t.OutQuart=8]="OutQuart",t[t.InOutQuart=9]="InOutQuart",t[t.InSine=10]="InSine",t[t.OutSine=11]="OutSine",t[t.InOutSine=12]="InOutSine",t[t.InCirc=13]="InCirc",t[t.OutCirc=14]="OutCirc",t[t.InOutCirc=15]="InOutCirc",t[t.InQuint=16]="InQuint",t[t.OutQuint=17]="OutQuint",t[t.InOutQuint=18]="InOutQuint",t[t.InExponential=19]="InExponential",t[t.OutExponential=20]="OutExponential",t[t.InOutExponential=21]="InOutExponential",t[t.InElastic=22]="InElastic",t[t.OutElastic=23]="OutElastic",t[t.InOutElastic=24]="InOutElastic",t[t.InBack=25]="InBack",t[t.OutBack=26]="OutBack",t[t.InOutBack=27]="InOutBack",t[t.InBounce=28]="InBounce",t[t.OutBounce=29]="OutBounce",t[t.InOutBounce=30]="InOutBounce"}(e.EasingType||(e.EasingType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.None=0]="None",t[t.Info=1]="Info",t[t.Debug=2]="Debug"}(e.Log||(e.Log={}))},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=function(t){function e(e){var n=t.call(this)||this;return n.duration=e,n.tickCb=n.Tick.bind(n),n}return i(e,t),e.prototype.Tick=function(t){for(this.remainsDt=t*this.timescale;this.remainsDt>0;){this.elapsed+=this.remainsDt;var e=Math.max(Math.min(this.elapsed/this.duration,1),0);if(this.EmitEvent(this.eventUpdate,[this.remainsDt,e]),this.elapsed<this.duration)return;if(this.remainsDt=this.elapsed-this.duration,0===--this.loop)return void this.Complete();this.ResetAndStart(0)}},e}(r.BaseTween);e.Delay=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(1),o=n(13),a=n(4),u=function(t){function e(){var e=t.call(this)||this;return e.eventTick=[],e.tweens=[],e.sequenceIndex=0,e.tickCb=e.Tick.bind(e),e}return i(e,t),Object.defineProperty(e.prototype,"Count",{get:function(){return this.tweens.length},enumerable:!0,configurable:!0}),e.prototype.LoopInit=function(){this.sequenceIndex=0;for(var t=0;t<this.tweens.length;t++)for(var e=this.tweens[t],n=0;n<e.length;n++)e[n].Reset()},e.prototype.AddTickListener=function(t){this.eventTick.unshift(t)},e.prototype.RemoveTickListener=function(t){var e=this.eventTick.indexOf(t);-1!==e&&this.eventTick.splice(e,1)},e.prototype.CheckTickListener=function(t){return!1},e.prototype.Tick=function(t){if(this.state!==r.State.Finished&&this.state!==r.State.Killed){var e=t*this.timescale;this.elapsed+=e,this.LocalTick(e)}},e.prototype.LocalTick=function(t,e){if(this.currentTween||this.NextTween(),this.currentTween){for(var n=this.eventTick.length-1;n>=0;n--)this.eventTick[n](t);!0!==e&&this.EmitEvent(this.eventUpdate,[t,0])}var i=t;if(this.currentTween){for(var n=0;n<this.currentTween.length;n++)if(this.currentTween[n].state!==r.State.Finished)return;var s=this.currentTween[0];if(i=s.elapsed-s.duration,this.EmitEvent(this.eventStepEnd,[this.currentTween[0]]),this.currentTween=void 0,this.sequenceIndex++,i>.01)return void this.LocalTick(i,!0)}this.currentTween||this.tweens.length!==this.sequenceIndex||(this.loop--,0===this.loop?this.Complete():this.ResetAndStart(i))},e.prototype.NextTween=function(){if(this.currentTween=this.tweens[this.sequenceIndex],this.currentTween){for(var t=0;t<this.currentTween.length;t++){this.currentTween[t].Start()}this.EmitEvent(this.eventStepStart,[this.currentTween[0]])}},e.prototype.Append=function(t){return t.SetParent(this),this.tweens[this.tweens.length]=[t],this},e.prototype.AppendCallback=function(t){var e=new o.Callback(t);return e.SetParent(this),this.tweens[this.tweens.length]=[e],this},e.prototype.AppendInterval=function(t){var e=new a.Delay(t);return e.SetParent(this),this.tweens[this.tweens.length]=[e],this},e.prototype.Prepend=function(t){return t.SetParent(this),this.tweens.unshift([t]),this},e.prototype.PrependCallback=function(t){var e=new o.Callback(t);return e.SetParent(this),this.tweens.unshift([e]),this},e.prototype.PrependInterval=function(t){var e=new a.Delay(t);return e.SetParent(this),this.tweens.unshift([e]),this},e.prototype.Skip=function(e){if(this.state!==r.State.Killed&&this.state!==r.State.Finished){for(var n=0;n<this.tweens.length;n++)for(var i=this.tweens[n],s=0;s<i.length;s++){var o=i[s];o.state!==r.State.Killed&&o.state!==r.State.Finished&&(0===o.elapsed&&this.EmitEvent(this.eventStepStart,[o]),o.Skip(e),this.EmitEvent(this.eventStepEnd,[o]))}t.prototype.Skip.call(this)}},e.prototype.Kill=function(){if(this.state!==r.State.Killed){for(var e=0;e<this.tweens.length;e++)for(var n=this.tweens[e],i=0;i<n.length;i++)n[i].Kill();t.prototype.Kill.call(this)}},e.prototype.Join=function(t){return 0===this.tweens.length?this.Append(t):(t.SetParent(this),this.tweens[this.tweens.length-1].push(t),this)},e.prototype.Default=function(){t.prototype.Default.call(this),this.tweens.length=0,this.currentTween=void 0,this.sequenceIndex=0},e.prototype.OnStepStart=function(t){return this.eventStepStart||(this.eventStepStart=new Array(0)),this.eventStepStart[this.eventStepStart.length]=t,this},e.prototype.OnStepEnd=function(t){return this.eventStepEnd||(this.eventStepEnd=new Array(0)),this.eventStepEnd[this.eventStepEnd.length]=t,this},e}(s.BaseTween);e.Sequence=u},function(t,e,n){"use strict";function i(){return b.elapsed}function r(){return A||s(),b}function s(t){return!A&&(b||(b=new P.Ticker,b.Start()),"undefined"==typeof window||t||(_=K(O)),A=!0,!0)}function o(t){A||s(),b.SetTimescale(t)}function a(){A||s(),b.Pause()}function u(){A||s(),b.Resume()}function h(t){x=t}function p(t){F=t}function c(){b&&b.Kill(),_&&D(_),A=!1}function l(t){A&&b&&(b.Tick(t),e.time+=t)}function f(t,e){A||s();var n=new C.Tween(t,e).SetLog(x).SetSafe(F).SetParent(b);return w(E.Log.Debug,"[Fatina.Manager] Tween Instantiated",n),n}function d(){A||s();var t=(new R.Sequence).SetLog(x).SetSafe(F).SetParent(b);return w(E.Log.Debug,"[Fatina.Manager] Sequence Instantiated",t),t}function v(t){A||s();var e=new M.Delay(t).SetLog(x).SetSafe(F).SetParent(b);return w(E.Log.Debug,"[Fatina.Manager] Sequence Instantiated",e),e}function y(t,e){A||s();var n=new M.Delay(e).SetLog(x).SetSafe(F).SetParent(b).OnComplete(t).Start();return w(E.Log.Debug,"[Fatina.Manager] SetTimeout Instantiated",n),n}function m(t,e){A||s();var n=new M.Delay(e).SetLog(x).SetSafe(F).SetParent(b).OnRestart(t).SetLoop(-1).Start();return w(E.Log.Debug,"[Fatina.Manager] SetInterval Instantiated",n),n}function S(){return new k.FatinaPluginAnimator}function g(){A||s();var t=new P.Ticker,e=t.Tick.bind(t);return t.SetParent(b,e),b.AddTickListener(e),t.Start(),w(E.Log.Debug,"[Fatina.Manager] Ticker Instantiated",t),t}function T(t){t.Init(this),Q.push(t),w(E.Log.Debug,"[Fatina.Manager] Plugin Loaded",t.name)}function w(t,e,n){t>x||(n?console.log(e,n):console.log(e))}function O(t){var e=t-j;L&&(e=1,L=!1),e>500&&(console.warn("[Fatina] Delta between two update was too high "+Math.round(e)+"ms. , Capped to 500ms."),e=500),l(e),j=t,_=K(O)}Object.defineProperty(e,"__esModule",{value:!0});var k=n(7),E=n(3),I=n(2);e.Easing=I.EasingType;var b,_,P=n(11),M=n(4),R=n(5),C=n(14),A=!1,L=!0,j=0,x=E.Log.None,F=!0,Q=[];e.plugin={},e.time=0,e.Elapsed=i,e.MainTicker=r,e.Init=s,e.SetTimescale=o,e.Pause=a,e.Resume=u,e.SetLog=h,e.SetSafe=p,e.Destroy=c,e.Update=l,e.Tween=f,e.Sequence=d,e.Delay=v,e.SetTimeout=y,e.SetInterval=m,e.GetPlugin=S,e.Ticker=g,e.LoadPlugin=T;var K,D;"undefined"!=typeof window&&(K=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,D=window.cancelAnimationFrame||window.mozCancelAnimationFrame)},function(t,e,n){"use strict";function i(){return new o}Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),s=n(10);e.Get=i;var o=function(){function t(){this.name="fatina-plugin-animator",this.init=!1}return Object.defineProperty(t.prototype,"TickerManager",{get:function(){return this.fatina.plugin.TickerManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AnimatorManager",{get:function(){return this.fatina.plugin.AnimatorManager},enumerable:!0,configurable:!0}),t.prototype.Init=function(t){if(this.init)throw new Error("Try to init the plugin twice : "+name);if(void 0===t||null===t||null===t.plugin)throw new Error("Try to init the plugin without fatina : "+name);this.fatina=t,this.init=!0,t.plugin.AnimatorManager=new r.AnimatorManager(this),t.plugin.TickerManager=new s.TickerManager(this)},t}();e.FatinaPluginAnimator=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=function(){function t(t){this.animations={},this.tickerMap={},this.plugin=t}return Object.defineProperty(t.prototype,"Animations",{get:function(){return Object.keys(this.animations)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Labels",{get:function(){var t=this;return Object.keys(this.tickerMap).map(function(e){return t.tickerMap[e]}).filter(function(t,e,n){return n.indexOf(t)===e})},enumerable:!0,configurable:!0}),t.prototype.Register=function(t,e,n){return this.animations[t]&&this.tickerMap[t]&&delete this.tickerMap[t],this.animations[t]=e,n&&(this.tickerMap[t]=n),this},t.prototype.Instantiate=function(t,e,n){if(!(t in this.animations))throw new Error("this animation doesnt exist "+t);var i=this.animations[t](e,n);return this.tickerMap[t]&&i.SetParent(this.plugin.TickerManager.Get(this.tickerMap[t])),i},t.prototype.AddAnimatorTo=function(t){return t.Animator||(t.Animator=new i.Animator(t,this)),t.Animator},t}();e.AnimatorManager=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.animations={},this.current={},this.layers=["default"],this.layerMap={},this.skipMap={},this.lastAnimName={},this.object=t,this.animatorManager=e}return t.prototype.AddAnimation=function(t,e,n,i,r){var s=this,o=this.animatorManager.Instantiate(e,this.object,r);return o.OnStart(function(){return console.log("OnStart",t,e,s.object.name,s.object.position)}),o.OnComplete(function(){return console.log("OnComplete",t,e,s.object.name,s.object.position)}),o.OnKilled(function(){return o.Recycle()}),o.OnComplete(function(){return o.Recycle()}),this.animations[t]=o,this.skipMap[t]=!!n,this.layerMap[t]=i||"default",-1===this.layers.indexOf(this.layerMap[t])&&this.layers.push(this.layerMap[t]),this},t.prototype.Play=function(t){if(!(t in this.animations))throw new Error("this animation doesnt exist "+t);var e=this.layerMap[t],n=this.current[e];if(n&&!n.IsFinished()){var i=this.lastAnimName[e];n.Skip(this.skipMap[i]),this.current[e]=void 0}return n=this.animations[t],this.current[e]=n,this.lastAnimName[e]=t,n.Start(),n},t.prototype.Pause=function(t){var e=t||"default",n=this.current[e];n&&n.IsRunning()&&n.Pause()},t.prototype.PauseAll=function(){for(var t=0,e=this.layers;t<e.length;t++){var n=e[t];this.Pause(n)}},t.prototype.Resume=function(t){var e=t||"default",n=this.current[e];n&&n.IsPaused()&&n.Resume()},t.prototype.ResumeAll=function(){for(var t=0,e=this.layers;t<e.length;t++){var n=e[t];this.Resume(n)}},t.prototype.Stop=function(t){var e=t||"default",n=this.current[e];if(n&&!n.IsFinished()){var i=this.lastAnimName[e];n.Skip(this.skipMap[i]),this.current[e]=void 0}},t.prototype.StopAll=function(){for(var t=0,e=this.layers;t<e.length;t++){var n=e[t];this.Stop(n)}},t.prototype.Destroy=function(){for(var t=0,e=this.layers;t<e.length;t++){var n=e[t],i=this.current[n];i&&!i.IsFinished()&&i.Kill()}this.animations={},this.layerMap={},this.skipMap={},this.current={},this.lastAnimName={},delete this.object.Animator},t}();e.Animator=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.tickers={},this.plugin=t}return t.prototype.Get=function(t){return this.tickers[t]?this.tickers[t]:(this.tickers[t]=this.plugin.fatina.Ticker(),this.tickers[t])},t.prototype.PauseAll=function(t){this.tickers[t]&&this.tickers[t].Pause()},t.prototype.ResumeAll=function(t){this.tickers[t]&&this.tickers[t].Resume()},t.prototype.KillAll=function(t){this.tickers[t]&&(this.tickers[t].Kill(),delete this.tickers[t])},t}();e.TickerManager=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(12),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=r.State.Idle,e.timescale=1,e.elapsed=0,e.duration=0,e.update=0,e.eventToAdd=[],e.eventToRemove=[],e}return i(e,t),e.prototype.SetParent=function(t,e){this.tick=e,this.parent=t},e.prototype.SetTimescale=function(t){this.timescale=t},e.prototype.AddTickListener=function(t){this.eventToAdd.push(t)},e.prototype.RemoveTickListener=function(t){this.eventToRemove.push(t)},e.prototype.CheckTickListener=function(t){for(var e=!1;;){var n=this.eventToRemove.indexOf(t);if(-1===n)return e;this.eventToRemove.splice(n,1),e=!0}},e.prototype.UpdateListener=function(){if(this.eventToAdd.length>0){for(var t=0;t<this.eventToAdd.length;t++)this.Add(this.eventToAdd[t]);this.eventToAdd=[]}if(this.eventToRemove.length>0){for(var t=0;t<this.eventToRemove.length;t++)this.Remove(this.eventToRemove[t]);this.eventToRemove=[]}},e.prototype.Tick=function(t){if(this.state===r.State.Run){this.UpdateListener();for(var e=t*this.timescale,n=this.first;n;n=n.node_next)n(e);this.elapsed+=e,this.update++,this.UpdateListener()}},e.prototype.Start=function(){this.state===r.State.Idle&&(this.state=r.State.Run)},e.prototype.Pause=function(){this.state===r.State.Run&&(this.state=r.State.Pause)},e.prototype.Resume=function(){this.state===r.State.Pause&&(this.state=r.State.Run)},e.prototype.Kill=function(){this.state!==r.State.Killed&&this.state!==r.State.Finished&&(this.parent&&this.tick&&this.parent.RemoveTickListener(this.tick),this.state=r.State.Killed)},e.prototype.Skip=function(){throw new Error("The main ticker cannot be skipped")},e.prototype.Reset=function(){this.state=r.State.Idle},e.prototype.IsRunning=function(){return this.state===r.State.Run},e.prototype.IsFinished=function(){return this.state===r.State.Killed||this.state===r.State.Finished},e.prototype.IsPaused=function(){return this.state===r.State.Pause},e}(s.EventList);e.Ticker=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.length=0}return t.prototype.Add=function(t){var e=this.GetNode(t,this.last,void 0,this);void 0===this.first?(this.first=e,this.last=e):void 0!==this.last&&(this.last.node_next=e,this.last=e),this.length+=1},t.prototype.Remove=function(t){var e=t;void 0!==e&&e.node_list===this&&(void 0===e.node_next?this.last=e.node_previous:e.node_next.node_previous=e.node_previous,void 0===e.node_previous?this.first=e.node_next:e.node_previous.node_next=e.node_next,e.node_valid=!1,e.node_previous=void 0,e.node_next=void 0,e.node_list=void 0,this.length-=1)},t.prototype.GetNode=function(t,e,n,i){var r=t;return r.node_valid||(r.node_valid=!0,r.node_previous=e,r.node_next=n,r.node_list=i),r},t}();e.EventList=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),s=function(t){function e(e){var n=t.call(this)||this;return n.callback=e,n.tickCb=n.Tick.bind(n),n}return i(e,t),e.prototype.Tick=function(t){this.elapsed+=t,this.duration=0,this.callback(),this.EmitEvent(this.eventUpdate,[t,1]),this.Complete()},e}(r.BaseTween);e.Callback=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(15),o=n(2),a=n(1),u=n(5),h=function(t){function e(e,n,i){var r=t.call(this)||this;return r.yoyo=0,r.steps=0,r.relative=!1,r.object=e,r.properties=n,r.tickCb=r.Tick.bind(r),i&&r.Unserialize(i),r}return i(e,t),e.prototype.Init=function(t,e){this.object=t,this.properties=e},e.prototype.Serialize=function(){return{elapsed:this.elapsed,duration:this.duration,loop:this.loop,timescale:this.timescale,properties:this.properties,from:this.from,to:this.to,yoyo:this.yoyo,steps:this.steps,relative:this.relative,ease:this.easeId,eventStart:this.eventStart,eventRestart:this.eventRestart,eventUpdate:this.eventUpdate,eventKill:this.eventKill,eventComplete:this.eventComplete}},e.prototype.Unserialize=function(t){this.elapsed=t.elapsed||0,this.duration=t.duration||0,this.loop=t.loop||1,this.timescale=t.timescale||1,this.properties=t.properties||[],this.from=t.from,this.to=t.to,this.yoyo=t.yoyo||0,this.steps=t.steps||0,this.relative=t.relative||!1,this.SetEasing(t.ease||o.EasingType.Linear),this.eventStart=t.eventStart,this.eventRestart=t.eventRestart,this.eventUpdate=t.eventUpdate,this.eventKill=t.eventKill,this.eventComplete=t.eventComplete},e.prototype.Validate=function(){if(!this.object)throw new Error("Cant Tween a undefined object");for(var t=0;t<this.properties.length;t++){var e=this.properties[t];if(!(e in this.object))throw new Error("Cant Tween an unknown property"+e)}if(!this.parent)throw new Error("Cant Start a tween without ticker");this.ease||(this.easeId=o.EasingType.Linear,this.ease=s.easeTypes[o.EasingType.Linear]),this.CheckPosition()},e.prototype.CheckPosition=function(){this.currentFrom||(this.currentFrom={}),this.currentTo||(this.currentTo={});for(var t=0;t<this.properties.length;t++){var e=this.properties[t];this.from?(this.currentFrom[e]=this.from[e],this.object[e]=this.from[e]):this.currentFrom[e]=this.object[e],this.relative?this.currentTo[e]=this.object[e]+this.to[e]:this.currentTo[e]=this.to[e]}},e.prototype.Tick=function(t){if(this.state!==r.State.Finished&&this.state!==r.State.Killed)for(this.remainsDt=t*this.timescale;this.remainsDt>0;){this.elapsed+=this.remainsDt;var e=Math.max(Math.min(this.elapsed/this.duration,1),0),n=this.ease(e);if(0!==this.steps&&(n=Math.round(n*this.steps)/this.steps),this.object)for(var i=0;i<this.properties.length;i++){var s=this.properties[i];this.object[s]=this.currentFrom[s]+(this.currentTo[s]-this.currentFrom[s])*n}if(this.EmitEvent(this.eventUpdate,[this.remainsDt,e]),this.elapsed<this.duration)return;if(this.remainsDt=this.elapsed-this.duration,this.yoyo>0)this.Reverse(),this.ResetAndStart(0),this.yoyo--;else{if(0===--this.loop)return void this.Complete();this.CheckPosition(),this.ResetAndStart(0)}}},e.prototype.From=function(t){return this.from=t,this},e.prototype.To=function(t,e){return this.to=t,this.duration=e,this},e.prototype.SetRelative=function(t){return this.relative=t,this},e.prototype.Modify=function(t,e){for(var n=0;n<this.properties.length;n++){var i=this.properties[n];t.hasOwnProperty(i)&&(this.object[i]+=t[i],e?this.currentTo[i]+=t[i]:this.currentFrom[i]+=t[i])}},e.prototype.Reverse=function(){var t=this.currentFrom;this.currentFrom=this.currentTo,this.currentTo=t,t=this.from,this.from=this.to,this.to=t;var e=(1-this.elapsed/this.duration)*this.duration;this.elapsed=Math.round(1e3*e)/1e3,this.state===r.State.Finished&&(this.Reset(!0),this.Start())},e.prototype.Yoyo=function(t){return this.yoyo=t,this},e.prototype.SetSteps=function(t){return this.steps=t,this},e.prototype.ToSequence=function(){if(!this.parent)throw new Error("Cant convert to a sequence, parent ticker not defined");return(new u.Sequence).SetParent(this.parent).Append(this)},e.prototype.Easing=function(t){var e=t;if(!isNaN(parseFloat(e))){var n=parseInt(e,10);if(n in s.easeTypes)return s.easeTypes[n]}if(e in s.easeNames)return s.easeNames[e];throw new Error("Unknown ease method "+t)},e.prototype.SetEasing=function(t){return this.easeId=t,this.ease=this.Easing(t),this},e.prototype.LoopInit=function(){this.elapsed=0},e.prototype.Default=function(){t.prototype.Default.call(this),this.object=void 0,this.properties.length=0,this.from=void 0,this.to=void 0,this.currentFrom=void 0,this.currentTo=void 0,this.relative=!1},e}(a.BaseTween);e.Tween=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=Math.PI,s=Math.PI/2,o=[],a={};o[i.EasingType.Linear]=a.linear=function(t){return t},o[i.EasingType.InQuad]=a.inQuad=function(t){return t*t},o[i.EasingType.OutQuad]=a.outQuad=function(t){return 2*t-t*t},o[i.EasingType.InOutQuad]=a.inOutQuad=function(t){return t<.5?2*t*t:2*(2*t-t*t)-1},o[i.EasingType.InCubic]=a.inCubic=function(t){return t*t*t},o[i.EasingType.OutCubic]=a.outCubic=function(t){return 3*t-3*t*t+t*t*t},o[i.EasingType.InOutCubic]=a.inOutCubic=function(t){return t<.5?4*t*t*t:4*(3*t-3*t*t+t*t*t)-3},o[i.EasingType.InQuart]=a.inQuart=function(t){return t*t*t*t},o[i.EasingType.OutQuart]=a.outQuart=function(t){var e=t*t;return 4*t-6*e+4*e*t-e*e},o[i.EasingType.InOutQuart]=a.inOutQuart=function(t){if(t<.5)return 8*t*t*t*t;var e=t*t;return 8*(4*t-6*e+4*e*t-e*e)-7},o[i.EasingType.InSine]=a.inSine=function(t){return 1===t?1:1-Math.cos(s*t)},o[i.EasingType.OutSine]=a.outSine=function(t){return Math.sin(s*t)},o[i.EasingType.InOutSine]=a.inOutSine=function(t){return t<.5?(1-Math.cos(r*t))/2:(1+Math.sin(r*(t-.5)))/2},o[i.EasingType.InCirc]=a.inCirc=function(t){return 1-Math.sqrt(1-Math.pow(t,2))},o[i.EasingType.OutCirc]=a.outCirc=function(t){return Math.sqrt(1-Math.pow(1-t,2))},o[i.EasingType.InOutCirc]=a.inOutCirc=function(t){return t<.5?(1-Math.sqrt(1-4*t*t))/2:(1+Math.sqrt(8*t-3-4*t*t))/2},o[i.EasingType.InQuint]=a.inQuint=function(t){return t*t*t*t*t},o[i.EasingType.OutQuint]=a.outQuint=function(t){return--t*t*t*t*t+1},o[i.EasingType.InOutQuint]=a.inOutQuint=function(t){return t*=2,t<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},o[i.EasingType.InExponential]=a.inExponential=function(t){return 1===t?1:0===t?0:Math.pow(1024,t-1)},o[i.EasingType.OutExponential]=a.outExponential=function(t){return 1===t?1:1-Math.pow(2,-10*t)},o[i.EasingType.InOutExponential]=a.inOutExponential=function(t){return 0===t?0:1===t?1:(t*=2,t<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1))))},o[i.EasingType.InElastic]=a.inElastic=function(t){return 0===t?0:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},o[i.EasingType.OutElastic]=a.outElastic=function(t){return 1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},o[i.EasingType.InOutElastic]=a.inOutElastic=function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)},o[i.EasingType.InBack]=a.inBack=function(t){var e=1.70158;return 1===t?1:t*t*((e+1)*t-e)},o[i.EasingType.OutBack]=a.outBack=function(t){var e=1.70158;return 0===t?0:--t*t*((e+1)*t+e)+1},o[i.EasingType.InOutBack]=a.inOutBack=function(t){var e=2.5949095;return t*=2,t<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},o[i.EasingType.OutBounce]=a.outBounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},o[i.EasingType.InBounce]=a.inBounce=function(t){return 1-o[i.EasingType.OutBounce](1-t)},o[i.EasingType.InOutBounce]=a.inOutBounce=function(t){return t<.5?.5*o[i.EasingType.InBounce](2*t):.5*o[i.EasingType.OutBounce](2*t-1)+.5},e.easeTypes=o,e.easeNames=a}])});
//# sourceMappingURL=fatina.min.js.map