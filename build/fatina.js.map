{"version":3,"sources":["webpack://Fatina/webpack/universalModuleDefinition","webpack://Fatina/webpack/bootstrap","webpack://Fatina/./src/fatina/core/enum/log.ts","webpack://Fatina/./src/fatina/core/enum/state.ts","webpack://Fatina/./src/fatina/easing/easing.ts","webpack://Fatina/./src/fatina/easing/easingType.ts","webpack://Fatina/./src/fatina/index.ts","webpack://Fatina/./src/fatina/ticker.ts","webpack://Fatina/./src/fatina/tweens/baseTween.ts","webpack://Fatina/./src/fatina/tweens/callback.ts","webpack://Fatina/./src/fatina/tweens/delay.ts","webpack://Fatina/./src/fatina/tweens/sequence.ts","webpack://Fatina/./src/fatina/tweens/tween.ts"],"names":[],"mappings":"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","file":"fatina.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/fatina/index.ts\");\n","/**\r\n * Enum use to set the verbosity level of fatina and tweens\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum Log {\r\n\tNone = 0,\r\n\tInfo = 1,\r\n\tDebug = 2\r\n}\r\n","/**\r\n * Possible states of a Tween / Sequence\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum State {\r\n\tIdle,\r\n\tRun,\r\n\tPause,\r\n\tFinished,\r\n\tKilled\r\n}\r\n","/**\r\n * List of easing method\r\n *\r\n * Mostly based on http://easings.net/\r\n */\r\nimport { EasingType } from './easingType';\r\n\r\nconst PI = Math.PI;\r\nconst PI_OVER_TWO = Math.PI / 2;\r\nconst BACK = 1.70158;\r\nconst easingByName: { [id: string]: (t: number) => number } = {};\r\n\r\n// Linear\r\neasingByName[EasingType.Linear] = (t: number): number => {\r\n\treturn t;\r\n};\r\n\r\n// Quad\r\neasingByName[EasingType.InQuad] = (t: number): number => {\r\n\treturn t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuad] = (t: number): number => {\r\n\treturn 2 * t - t * t;\r\n};\r\n\r\neasingByName[EasingType.InOutQuad] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 2 * t * t;\r\n\t} else {\r\n\t\treturn 2 * (2 * t - t * t) - 1;\r\n\t}\r\n};\r\n\r\n// Cubic\r\neasingByName[EasingType.InCubic] = (t: number): number => {\r\n\treturn t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutCubic] = (t: number): number => {\r\n\treturn 3 * t - 3 * t * t + t * t * t;\r\n};\r\n\r\neasingByName[EasingType.InOutCubic] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 4 * t * t * t;\r\n\t} else {\r\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t}\r\n};\r\n\r\n// Quart\r\neasingByName[EasingType.InQuart] = (t: number): number => {\r\n\treturn t * t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuart] = (t: number): number => {\r\n\tconst t2 = t * t;\r\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\n\r\neasingByName[EasingType.InOutQuart] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 8 * t * t * t * t;\r\n\t} else {\r\n\t\tconst t2 = t * t;\r\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t}\r\n};\r\n\r\n// Sine\r\neasingByName[EasingType.InSine] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByName[EasingType.OutSine] = (t: number): number => {\r\n\treturn Math.sin(PI_OVER_TWO * t);\r\n};\r\n\r\neasingByName[EasingType.InOutSine] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.cos(PI * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t}\r\n};\r\n\r\n// Circular\r\neasingByName[EasingType.InCirc] = (t: number): number => {\r\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\n\r\neasingByName[EasingType.OutCirc] = (t: number): number => {\r\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\n\r\neasingByName[EasingType.InOutCirc] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t}\r\n};\r\n\r\n// Quint\r\neasingByName[EasingType.InQuint] = (t: number): number => {\r\n\treturn t * t * t * t * t;\r\n};\r\n\r\neasingByName[EasingType.OutQuint] = (t: number): number => {\r\n\treturn --t * t * t * t * t + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutQuint] = (t: number): number => {\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * t * t * t * t * t;\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\n\r\n// Exponential\r\neasingByName[EasingType.InExponential] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\n\r\neasingByName[EasingType.OutExponential] = (t: number): number => {\r\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\r\n};\r\n\r\neasingByName[EasingType.InOutExponential] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * Math.pow(1024, t - 1);\r\n\t}\r\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\r\n};\r\n\r\n// Elastic\r\neasingByName[EasingType.InElastic] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\n\r\neasingByName[EasingType.OutElastic] = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutElastic] = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t}\r\n\r\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\n// Back\r\neasingByName[EasingType.InBack] = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n\r\n};\r\n\r\neasingByName[EasingType.OutBack] = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\n\r\neasingByName[EasingType.InOutBack] = (t: number): number => {\r\n\tconst s = BACK * 1.525;\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\n\r\n// Bounce\r\neasingByName[EasingType.OutBounce] = (t: number): number => {\r\n\tif (t < (1 / 2.75)) {\r\n\t\treturn 7.5625 * t * t;\r\n\t} else if (t < (2 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t} else if (t < (2.5 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t} else {\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t}\r\n};\r\n\r\neasingByName[EasingType.InBounce] = (t: number): number => {\r\n\treturn 1 - easingByName[EasingType.OutBounce](1 - t);\r\n};\r\n\r\neasingByName[EasingType.InOutBounce] = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn easingByName[EasingType.InBounce](t * 2) * 0.5;\r\n\t}\r\n\treturn easingByName[EasingType.OutBounce](t * 2 - 1) * 0.5 + 0.5;\r\n};\r\n\r\nexport let easeNames = easingByName;\r\n","\r\n/**\r\n * List of all easing methods\r\n *\r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum EasingType {\r\n\tLinear = 'linear',\r\n\tInQuad = 'inQuad',\r\n\tOutQuad = 'outQuad',\r\n\tInOutQuad = 'inOutQuad',\r\n\tInCubic = 'inCubic',\r\n\tOutCubic = 'outCubic',\r\n\tInOutCubic = 'inOutCubic',\r\n\tInQuart = 'inQuart',\r\n\tOutQuart = 'outQuart',\r\n\tInOutQuart = 'inOutQuart',\r\n\tInSine = 'inSine',\r\n\tOutSine = 'outSine',\r\n\tInOutSine = 'inOutSine',\r\n\tInCirc = 'inCirc',\r\n\tOutCirc = 'outCirc',\r\n\tInOutCirc = 'inOutCirc',\r\n\tInQuint = 'inQuint',\r\n\tOutQuint = 'outQuint',\r\n\tInOutQuint = 'inOutQuint',\r\n\tInExponential = 'inExponential',\r\n\tOutExponential = 'outExponential',\r\n\tInOutExponential = 'inOutExponential',\r\n\tInElastic = 'inElastic',\r\n\tOutElastic = 'outElastic',\r\n\tInOutElastic = 'inOutElastic',\r\n\tInBack = 'inBack',\r\n\tOutBack = 'outBack',\r\n\tInOutBack = 'inOutBack',\r\n\tInBounce = 'inBounce',\r\n\tOutBounce = 'outBounce',\r\n\tInOutBounce = 'inOutBounce'\r\n}\r\n","import { Log } from './core/enum/log';\nimport { IControl } from './core/interfaces/IControl';\nimport { IPlayable } from './core/interfaces/IPlayable';\nimport { IPlugin } from './core/interfaces/IPlugin';\nimport { ISequence } from './core/interfaces/ISequence';\nimport { ITicker } from './core/interfaces/ITicker';\nimport { ITween } from './core/interfaces/ITween';\nimport { ISettings } from './core/interfaces/ISettings';\nimport { EasingType } from './easing/easingType';\nimport { Ticker as ticker } from './ticker';\nimport { Delay as delay } from './tweens/delay';\nimport { Sequence as sequence } from './tweens/sequence';\nimport { Tween as tween } from './tweens/tween';\n\nlet tickerManager: ticker;\nlet initialized = false;\nlet isFirstUpdate = true;\nlet lastFrame: any;\nlet lastTime = 0;\nconst settings = { logLevel: Log.None, safe: true } as ISettings;\nconst eventCreated: {(control: IControl): void}[] = [];\nconst loadedPlugins: IPlugin[] = [];\n\n// Area for plugins to add helpers / dynamic method\nexport let plugin: any = {};\n\n// Expose the easing enum\nexport { EasingType as Easing };\n\n// real time of Fatina (not affected by timescale, pause, ...)\nexport let time = 0;\n\n// time updated internally (affected by timescale, pause, ...)\nexport function Elapsed(): number {\n\treturn tickerManager.elapsed;\n}\n\nexport function MainTicker(): ITicker {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\treturn tickerManager;\n}\n\n/**\n * Add a listener method on tween/sequence creation\n *\n * @export\n * @param {(control: IControl) => void} cb\n */\nexport function AddListenerCreated(cb: (control: IControl) => void): void {\n\teventCreated.push(cb);\n}\n\n/**\n * Remove a listener method on tween/sequence creation\n *\n * @export\n * @param {(control: IControl) => void} cb\n */\nexport function RemoveListenerCreated(cb: (control: IControl) => void): void {\n\tconst index = eventCreated.indexOf(cb);\n\tif (index !== -1) {\n\t\teventCreated.splice(index, 1);\n\t}\n}\n\n/**\n * Method used when Fatina is used for the first time.\n * Can take few ms. (pool initialization & object creation)\n *\n * @export\n * @param {boolean} [disableAutoTick]\n * @returns {boolean}\n */\nexport function Init(disableAutoTick?: boolean): boolean {\n\tif (initialized) {\n\t\treturn false;\n\t}\n\n\tif (!tickerManager) {\n\t\ttickerManager = new ticker();\n\t\ttickerManager.Start();\n\t}\n\n\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\n\t\tlastFrame = requestFrame(updateLoop);\n\t}\n\n\tinitialized = true;\n\treturn true;\n}\n\n/**\n * Used to change the timescale of the whole game\n *\n * @export\n * @param {number} scale\n */\nexport function SetTimescale(scale: number): void {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\ttickerManager.SetTimescale(scale);\n}\n\n/**\n * This method pause the update loop (update are not called anymore)\n *\n * @export\n */\nexport function Pause(): void {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\ttickerManager.Pause();\n}\n\n/**\n * This method resume the update loop (works only if the game was paused before)\n *\n * @export\n */\nexport function Resume(): void {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\ttickerManager.Resume();\n}\n\n/**\n * This method is used to change the log level\n *\n * @export\n * @param {Log} level\n */\nexport function SetLog(level: Log) {\n\tsettings.logLevel = level;\n}\n\n/**\n * This method is used to enable / disable the callback try/catch\n *\n * @export\n * @param {boolean} isSafe\n */\nexport function SetSafe(isSafe: boolean) {\n\tsettings.safe = isSafe;\n}\n\n/**\n * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\n *\n * @export\n */\nexport function Destroy() {\n\tif (tickerManager) {\n\t\ttickerManager.Kill();\n\t}\n\n\tif (lastFrame) {\n\t\tcancelFrame(lastFrame);\n\t}\n\n\tinitialized = false;\n}\n\n/**\n * Method used to tick all the child (tween or sequence)\n * This takes cares of recycling the old tween/sequence\n *\n * @export\n * @param {number} timestamp\n * @returns {*}\n */\nexport function Update(timestamp: number): any {\n\tif (!initialized || !tickerManager) {\n\t\treturn;\n\t}\n\ttickerManager.Tick(timestamp);\n\ttime += timestamp;\n}\n\n/**\n * Helper to create a tween (use the tween pool)\n *\n * @export\n * @param {*} obj\n * @param {string[]} properties\n * @returns {ITween}\n */\nexport function Tween(obj: any, properties: string[]): ITween {\n\tconst t = new tween(obj, properties);\n\tAddContext(t);\n\tInfo(Log.Debug, '[Fatina.Manager] Tween Instantiated', t);\n\treturn t;\n}\n\n/**\n * Helper to create a Sequence (use the sequence pool)\n *\n * @export\n * @param {(tween[] | sequence[])} [list]\n * @returns {ISequence}\n */\nexport function Sequence(list?: tween[] | sequence[] | IPlayable[]): ISequence {\n\tconst s = new sequence(list);\n\tAddContext(s);\n\tInfo(Log.Debug, '[Fatina.Manager] Sequence Instantiated', s);\n\treturn s;\n}\n\n/**\n * Helper to create a Delay\n *\n * @export\n * @param {number} duration\n * @returns {IPlayable}\n */\nexport function Delay(duration: number): IPlayable {\n\tconst d = new delay(duration);\n\tAddContext(d);\n\tInfo(Log.Debug, '[Fatina.Manager] Sequence Instantiated', d);\n\treturn d;\n}\n\n/**\n * Helper used to replace usage of normal js setTimeout() by a tween\n * https://www.w3schools.com/jsref/met_win_settimeout.asp\n *\n * @export\n * @param {() => void} fn\n * @param {number} duration\n * @returns {IPlayable}\n */\nexport function SetTimeout(fn: () => void, duration: number): IPlayable {\n\tconst timeout = new delay(duration).OnComplete(fn);\n\tAddContext(timeout);\n\tInfo(Log.Debug, '[Fatina.Manager] SetTimeout Instantiated', timeout);\n\treturn timeout.Start();\n}\n\n/**\n * Helper used to replace usage of normal js setInterval() by a tween\n * https://www.w3schools.com/jsref/met_win_setinterval.asp\n *\n * @export\n * @param {() => void} fn\n * @param {number} duration\n * @returns {IPlayable}\n */\nexport function SetInterval(fn: () => void, duration: number): IPlayable {\n\tconst interval = new delay(duration).OnRestart(fn).SetLoop(-1);\n\tAddContext(interval);\n\tInfo(Log.Debug, '[Fatina.Manager] SetInterval Instantiated', interval);\n\treturn interval.Start();\n}\n\n/**\n * Private method to set common data to every object (the parent ticker, safe mode, verbose mode)\n *\n * @param {(IPlayable | ITween | ISequence)} obj\n */\nfunction AddContext(obj: IPlayable | ITween | ISequence): void {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\n\tobj.SetParent(tickerManager as ITicker);\n\n\tif (settings.logLevel !== Log.None || !settings.safe) {\n\t\tobj.SetSettings(settings);\n\t}\n\n\tEmitCreated(obj);\n}\n\n/**\n * Create or Get a ticker with a defined name\n * This ticker is a child of the main ticker\n *\n * @export\n * @param {string} name\n * @returns {ITicker}\n */\nexport function Ticker(): ITicker {\n\tif (!initialized) {\n\t\tInit();\n\t}\n\n\tconst tick = new ticker();\n\tconst handler = tick.Tick.bind(tick);\n\ttick.SetParent(tickerManager, handler);\n\ttickerManager.AddTickListener(handler);\n\ttick.Start();\n\n\tEmitCreated(tick);\n\tInfo(Log.Debug, '[Fatina.Manager] Ticker Instantiated', tick);\n\treturn tick;\n}\n\n/**\n * Initialize a plugin by passing fatina object to it\n *\n * @export\n * @param {IPlugin} newPlugin\n */\nexport function LoadPlugin(newPlugin: IPlugin) {\n\tnewPlugin.Init(this);\n\tloadedPlugins.push(newPlugin);\n\tInfo(Log.Debug, '[Fatina.Manager] Plugin Loaded', newPlugin.name);\n}\n\nfunction Info(level: Log, message: string, data?: any) {\n\tif (level > settings.logLevel) {\n\t\treturn;\n\t}\n\tif (data) {\n\t\tconsole.log(message, data);\n\t} else {\n\t\tconsole.log(message);\n\t}\n}\n\nfunction Emit(func: any, control: IControl) {\n\tif (!settings.safe) {\n\t\treturn func(control);\n\t}\n\n\ttry {\n\t\tfunc(control);\n\t} catch (e) {\n\t\tconsole.warn(e);\n\t}\n}\n\nfunction EmitCreated(control: IControl) {\n\tfor (let i = 0; i < eventCreated.length; i++) {\n\t\tEmit(eventCreated[i], control);\n\t}\n}\n\n/**\n * This part manage the auto-update loop if necessary (browser only)\n */\nlet requestFrame: any;\nlet cancelFrame: any;\nif (typeof(window) !== 'undefined') {\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame || window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\n}\n\nfunction updateLoop(timestamp: number) {\n\tlet dt = timestamp - lastTime;\n\tif (isFirstUpdate) {\n\t\tdt = 1;\n\t\tisFirstUpdate = false;\n\t}\n\n\t// cap to 500 ms\n\tif (dt > 350) {\n\t\tconsole.warn('[Fatina] Delta between two update was too high ' + Math.round(dt) + 'ms. , Capped to 350ms.');\n\t\tdt = 350;\n\t}\n\n\tUpdate(dt);\n\tlastTime = timestamp;\n\tlastFrame = requestFrame(updateLoop);\n}\n","import { State } from './core/enum/state';\nimport { ITicker } from './core/interfaces/ITicker';\n\n/**\n * Main Fatina Ticker\n * Parent of all the normal tween and sequence\n *\n * @export\n * @class Ticker\n * @extends {EventList}\n * @implements {ITicker}\n */\nexport class Ticker implements ITicker {\n\tpublic state = State.Idle;\n\tprivate timescale = 1;\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\tprivate update = 0;\n\tpublic tick: (dt: number) => void | undefined;\n\tprivate ticks: Set<(dt: number) => void> = new Set();\n\tprivate parent: ITicker;\n\n\tpublic SetParent(parent: ITicker, tick: (dt: number) => void) {\n\t\tthis.tick = tick;\n\t\tthis.parent = parent;\n\t}\n\n\t/**\n\t * Method used to change the timescale\n\t *\n\t * @param {number} scale\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic SetTimescale(scale: number): void {\n\t\tthis.timescale = scale;\n\t}\n\n\t/**\n\t * Method used by the child to be updated\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.ticks.add(cb);\n\t}\n\n\t/**\n\t * Method used by the child to not receive update anymore\n\t *\n\t * @param {(dt: number) => void} cb\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tthis.ticks.delete(cb);\n\t}\n\n\t/**\n\t * Method used to tick all the child (tick listeners)\n\t *\n\t * @param {number} dt\n\t * @returns\n\t *\n\t * @memberOf Ticker\n\t */\n\tpublic Tick(dt: number) {\n\t\tif (this.state !== State.Run) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst localDt = dt * this.timescale;\n\t\tfor (const tick of this.ticks) {\n\t\t\ttick(localDt);\n\t\t}\n\t\tthis.elapsed += localDt;\n\t\tthis.update++;\n\t}\n\n\tpublic Start(): void {\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.state = State.Run;\n\t\t}\n\t}\n\n\tpublic Pause(): void {\n\t\tif (this.state === State.Run) {\n\t\t\tthis.state = State.Pause;\n\t\t}\n\t}\n\n\tpublic Resume(): void {\n\t\tif (this.state === State.Pause) {\n\t\t\tthis.state = State.Run;\n\t\t}\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.parent && this.tick) {\n\t\t\tthis.parent.RemoveTickListener(this.tick);\n\t\t}\n\n\t\tthis.state = State.Killed;\n\t}\n\n\tpublic Skip(): void {\n\t\tthrow new Error('The main ticker cannot be skipped');\n\t}\n\n\tpublic Reset(): void {\n\t\tthis.state = State.Idle;\n\t}\n\n\tpublic IsIdle(): boolean {\n\t\treturn this.state === State.Idle;\n\t}\n\n\tpublic IsRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\n\tpublic IsFinished(): boolean {\n\t\treturn this.state === State.Killed || this.state === State.Finished;\n\t}\n\n\tpublic IsPaused(): boolean {\n\t\treturn this. state === State.Pause;\n\t}\n}\n","import { Log } from '../core/enum/log';\nimport { State } from '../core/enum/state';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ISettings } from '../core/interfaces/ISettings';\nimport { ITweenProperty } from '../core/interfaces/ITweenProperty';\n\n/**\n * Shared behaviors between different types of tweens and sequence\n * Used mostly to manage:\n *  - events\n *  - state\n *  - loop and restart\n *\n * @export\n * @abstract\n * @class BaseTween\n */\nexport abstract class BaseTween<T extends BaseTween<any>>  {\n\t// events\n\tprotected eventStart: {(): void}[] | undefined;\n\tprotected eventRestart: {(): void}[] | undefined;\n\tprotected eventUpdate: {(dt: number, progress: number): void}[] | undefined;\n\tprotected eventKill: {(): void}[] | undefined;\n\tprotected eventComplete: {(): void}[] | undefined;\n\n\t// public properties\n\tpublic elapsed = 0;\n\tpublic duration = 0;\n\tpublic timescale = 1;\n\tpublic state: State = State.Idle;\n\n\t// private properties\n\tprotected loop: ITweenProperty | undefined;\n\tprotected yoyo: ITweenProperty | undefined;\n\tprotected parent: ITicker;\n\tprotected tickCb: (dt: number) => void;\n\tprivate firstStart = true;\n\tprivate settings?: ISettings;\n\n\t/**\n\t * Method used to start a tween\n\t *\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic Start(): T {\n\t\tif (this.state !== State.Idle) {\n\t\t\treturn this as any;\n\t\t}\n\n\t\tif (this.firstStart) {\n\t\t\tthis.Validate();\n\t\t} else {\n\t\t\tthis.CheckPosition();\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\n\t\tif (this.firstStart) {\n\t\t\tthis.EmitEvent(this.eventStart);\n\t\t\tthis.firstStart = false;\n\t\t}\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * To Reset a Tween already finished (example looping sequence)\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic Reset(skipParent?: boolean): void {\n\t\tthis.state = State.Idle;\n\n\t\tif (!skipParent) {\n\t\t\tthis.RemoveParentListener();\n\t\t}\n\n\t\tif (this.loop) {\n\t\t\tthis.loop.value = this.loop.original;\n\t\t}\n\t\tthis.LoopInit();\n\t\tthis.EmitEvent(this.eventRestart);\n\t}\n\n\t/**\n\t * To immediately Reset a tween without stopping/restarting it\n\t * This is faster than calling manually Reset() & Start() & Tick()\n\t *\n\t * @param {number} dtRemains\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic ResetAndStart(dtRemains: number) {\n\t\tthis.LoopInit();\n\t\tthis.EmitEvent(this.eventRestart);\n\n\t\tthis.state = State.Run;\n\t\tif (dtRemains > 0) {\n\t\t\tthis.tickCb(dtRemains);\n\t\t}\n\t}\n\n\t/**\n\t * Method used to define the ticker of this tween\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\n\t *\n\t * @param {ITicker} ticker\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic SetParent(ticker: ITicker): T {\n\t\tthis.RemoveParentListener();\n\t\tthis.parent = ticker;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Method used to change the timescale of the tween\n\t *\n\t * @param {number} scale\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic SetTimescale(scale: number): T {\n\t\tthis.timescale = scale;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Method used to pause a tween or a sequence (only work if the tween runs)\n\t *\n\t * @returns {void}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic Pause(): void {\n\t\tif (this.state !== State.Run) {\n\t\t\tthis.Info(Log.Info, 'Cannot pause this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Pause;\n\t\tthis.RemoveParentListener();\n\t}\n\n\t/**\n\t * Method used to resume a tween or a sequence (only work if the tween is paused)\n\t *\n\t * @returns {void}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic Resume(): void {\n\t\tif (this.state !== State.Pause) {\n\t\t\tthis.Info(Log.Info, 'Cannot resume this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Run;\n\t\tthis.parent.AddTickListener(this.tickCb);\n\t}\n\n\t/**\n\t * Method used to Skip this tween or sequence and directly finish it\n\t *\n\t * @param {boolean} [finalValue]\n\t * @returns {void}\n\t * @memberOf BaseTween\n\t */\n\tpublic Skip(finalValue?: boolean): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tthis.Info(Log.Info, 'Cannot skip this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.state === State.Idle) {\n\t\t\tthis.EmitEvent(this.eventStart);\n\t\t}\n\n\t\tif (finalValue) {\n\t\t\tconst duration = this.yoyo ? (this.yoyo.value * this.duration) : 0;\n\t\t\tthis.tickCb(this.duration - this.elapsed + duration);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.elapsed = this.duration;\n\t\tthis.Complete();\n\t}\n\n\t/**\n\t * Method used to Stop/Kill a tween or a sequence\n\t *\n\t * @returns {void}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed) {\n\t\t\tthis.Info(Log.Info, 'Cannot kill this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Killed;\n\t\tthis.RemoveParentListener();\n\t\tthis.EmitEvent(this.eventKill);\n\t}\n\n\t/**\n\t * Method used to define how many time the tween has to loop\n\t * Extra: if -1 the tween will loop forever\n\t *\n\t * @param {number} loop\n\t * @returns {ITween}\n\t *\n\t * @memberOf Tween\n\t */\n\tpublic SetLoop(loop: number): T {\n\t\tif (!this.loop) {\n\t\t\tthis.loop = { original: 1, value: 1 };\n\t\t}\n\t\tthis.loop.original = Math.round(loop);\n\t\tthis.loop.value = this.loop.original;\n\t\treturn this as any;\n\t}\n\n\tpublic SetSettings(settings: ISettings): T {\n\t\tthis.settings = settings;\n\t\treturn this as any;\n\t}\n\n\tpublic IsIdle(): boolean {\n\t\treturn this.state === State.Idle;\n\t}\n\n\tpublic IsRunning(): boolean {\n\t\treturn this.state === State.Run;\n\t}\n\n\tpublic IsFinished(): boolean {\n\t\treturn this.state === State.Killed || this.state === State.Finished;\n\t}\n\n\tpublic IsPaused(): boolean {\n\t\treturn this. state === State.Pause;\n\t}\n\n\tprotected Complete(): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tthis.Info(Log.Info, 'Cannot complete this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.state = State.Finished;\n\t\tthis.RemoveParentListener();\n\t\tthis.EmitEvent(this.eventComplete);\n\t}\n\n\tprotected RemoveParentListener() {\n\t\tif (this.parent) {\n\t\t\tthis.parent.RemoveTickListener(this.tickCb);\n\t\t}\n\t}\n\n\tprotected CheckPosition(): void {}\n\tprotected Validate(): void {}\n\tprotected LoopInit(): void {\n\t\tthis.elapsed = 0;\n\t}\n\n\tprotected Info(level: Log, message: string, data?: any) {\n\t\tif (!this.settings || level > this.settings.logLevel) {\n\t\t\treturn;\n\t\t}\n\t\tif (data) {\n\t\t\tconsole.log(message, data);\n\t\t} else {\n\t\t\tconsole.log(message);\n\t\t}\n\t}\n\n\tprivate Emit(func: any, args: any) {\n\t\tif (this.settings && !this.settings.safe) {\n\t\t\treturn func.apply(this, args);\n\t\t}\n\t\ttry {\n\t\t\tfunc.apply(this, args);\n\t\t} catch (e) {\n\t\t\tconsole.warn(e);\n\t\t}\n\t}\n\n\tprotected EmitEvent(listeners: any, args?: any) {\n\t\tif (!listeners) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < listeners.length; i++) {\n\t\t\tthis.Emit(listeners[i], args);\n\t\t}\n\t}\n\n\t/**\n\t *  Callback called when the tween started\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic OnStart(cb: () => void): T {\n\t\tif (!this.eventStart) {\n\t\t\tthis.eventStart = new Array(0);\n\t\t}\n\t\tthis.eventStart[this.eventStart.length] = cb;\n\t\tthis.Info(Log.Debug, 'onStart');\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Callback called when the tween restart (loop)\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic OnRestart(cb: () => void): T {\n\t\tif (!this.eventRestart) {\n\t\t\tthis.eventRestart = new Array(0);\n\t\t}\n\t\tthis.eventRestart[this.eventRestart.length] = cb;\n\t\tthis.Info(Log.Debug, 'onRestart');\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Callback called when the tween is updated\n\t *\n\t * @param {(dt: number, progress: number) => void} cb\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic OnUpdate(cb: (dt: number, progress: number) => void): T {\n\t\tif (!this.eventUpdate) {\n\t\t\tthis.eventUpdate = new Array(0);\n\t\t}\n\t\tthis.eventUpdate[this.eventUpdate.length] = cb;\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Callback called when the tween is manually killed\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic OnKilled(cb: () => void): T {\n\t\tif (!this.eventKill) {\n\t\t\tthis.eventKill = new Array(0);\n\t\t}\n\t\tthis.eventKill[this.eventKill.length] = cb;\n\t\tthis.Info(Log.Debug, 'onKilled');\n\t\treturn this as any;\n\t}\n\n\t/**\n\t * Callback called when the tween is finished\n\t *\n\t * @param {() => void} cb\n\t * @returns {T}\n\t *\n\t * @memberOf BaseTween\n\t */\n\tpublic OnComplete(cb: () => void): T {\n\t\tif (!this.eventComplete) {\n\t\t\tthis.eventComplete = new Array(0);\n\t\t}\n\t\tthis.eventComplete[this.eventComplete.length] = cb;\n\t\tthis.Info(Log.Debug, 'onComplete');\n\t\treturn this as any;\n\t}\n}\n","import { IPlayable } from '../core/interfaces/IPlayable';\nimport { BaseTween } from './baseTween';\n\n/**\n * Fake tween used to append or join callback in a sequence\n *\n * @export\n * @class Callback\n * @extends {BaseTween}\n * @implements {IPlayable}\n */\nexport class Callback extends BaseTween<Callback> implements IPlayable {\n\tprivate callback: () => void;\n\n\tconstructor(cb: () => void) {\n\t\tsuper();\n\t\tthis.callback = cb;\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tthis.elapsed += dt;\n\t\tthis.duration = 0;\n\t\tthis.callback();\n\t\tthis.EmitEvent(this.eventUpdate, [dt, 1]);\n\t\tthis.Complete();\n\t}\n}\n","import { IPlayable } from '../core/interfaces/IPlayable';\nimport { BaseTween } from './baseTween';\n\n/**\n * Fake tween used to delay other tweens in a sequence\n *\n * @export\n * @class Delay\n * @extends {BaseTween}\n * @implements {IPlayable}\n */\nexport class Delay extends BaseTween<Delay> implements IPlayable {\n\tprivate remainsDt: number;\n\n\tconstructor(duration: number) {\n\t\tsuper();\n\t\tthis.duration = duration;\n\t\tthis.tickCb = this.Tick.bind(this);\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tthis.remainsDt = dt * this.timescale;\n\n\t\twhile (this.remainsDt > 0) {\n\t\t\tthis.elapsed += this.remainsDt;\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\n\t\t\tthis.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\n\n\t\t\tif (this.elapsed < this.duration) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.remainsDt = this.elapsed - this.duration;\n\n\t\t\tif (this.loop) {\n\t\t\t\tthis.loop.value--;\n\t\t\t\tif (this.loop.value !== 0) {\n\t\t\t\t\tthis.ResetAndStart(0);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.Complete();\n\t\t\treturn;\n\t\t}\n\t}\n}\n","import { Log } from '../core/enum/log';\nimport { State } from '../core/enum/state';\nimport { IPlayable } from '../core/interfaces/IPlayable';\nimport { ISequence } from '../core/interfaces/ISequence';\nimport { ITicker } from '../core/interfaces/ITicker';\nimport { ITween } from '../core/interfaces/ITween';\nimport { BaseTween } from './baseTween';\nimport { Callback } from './callback';\nimport { Delay } from './delay';\n\n/**\n * Sequence: used to animate other tweens or sequence\n * Can play them sequentially or in parallel\n *\n * @export\n * @class Sequence\n * @extends {BaseTween}\n * @implements {ISequence}\n * @implements {ITicker}\n * @implements {IPlayable}\n */\nexport class Sequence extends BaseTween<Sequence> implements ISequence, ITicker, IPlayable {\n\t// events\n\tprivate eventStepStart: {(tween: ITween | IPlayable): void}[] | undefined;\n\tprivate eventStepEnd: {(tween: ITween | IPlayable): void}[] | undefined;\n\n\t// public properties\n\tpublic currentTween: (ITween | IPlayable)[] | undefined;\n\n\t// private properties\n\tprivate eventTick: {(dt: number): void}[] = [];\n\tprivate tweens: ((ITween | IPlayable)[])[] = [];\n\tprivate sequenceIndex = 0;\n\n\tpublic get Count(): number {\n\t\treturn this.tweens.length;\n\t}\n\n\tconstructor(tweens?: ITween[] | ISequence[] | IPlayable[]) {\n\t\tsuper();\n\t\tthis.tickCb = this.Tick.bind(this);\n\n\t\tif (tweens) {\n\t\t\tthis.tweens = new Array(tweens.length);\n\t\t\tfor (let i = 0; i < tweens.length; i++) {\n\t\t\t\ttweens[i].SetParent(this);\n\t\t\t\tthis.tweens[i] = [tweens[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected LoopInit() {\n\t\tthis.sequenceIndex = 0;\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tconst tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\ttweenArray[j].Reset();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic AddTickListener(cb: (dt: number) => void): void {\n\t\tthis.eventTick.unshift(cb);\n\t}\n\n\tpublic RemoveTickListener(cb: (dt: number) => void): void {\n\t\tconst index = this.eventTick.indexOf(cb);\n\t\tif (index !== -1) {\n\t\t\tthis.eventTick.splice(index, 1);\n\t\t}\n\t}\n\n\tprivate Tick(dt: number) {\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\n\t\t\treturn;\n\t\t}\n\t\tconst localDt = dt * this.timescale;\n\t\tthis.elapsed += localDt;\n\t\tthis.LocalTick(localDt);\n\t}\n\n\tprivate LocalTick(dt: number, remains?: boolean) {\n\t\t// If no current tween, take the first one and start it\n\t\tif (!this.currentTween) {\n\t\t\tthis.NextTween();\n\t\t}\n\n\t\tif (this.currentTween) {\n\t\t\t// Tick every listener\n\t\t\tfor (let i = this.eventTick.length - 1; i >= 0; i--) {\n\t\t\t\tthis.eventTick[i](dt);\n\t\t\t}\n\n\t\t\t// Dont emit update event for remains dt\n\t\t\tif (remains !== true) {\n\t\t\t\tthis.EmitEvent(this.eventUpdate, [dt, 0]);\n\t\t\t}\n\t\t}\n\n\t\tlet remainsDt = dt;\n\n\t\t// Current tween over\n\t\tif (this.currentTween) {\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\tif (this.currentTween[i].state !== State.Finished) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst first = this.currentTween[0];\n\t\t\tremainsDt = first.elapsed - first.duration;\n\n\t\t\tthis.EmitEvent(this.eventStepEnd, [this.currentTween[0]]);\n\t\t\tthis.Info(Log.Debug, 'OnStepEnd', this.eventStepEnd);\n\t\t\tthis.currentTween = undefined;\n\t\t\tthis.sequenceIndex++;\n\n\t\t\tif (remainsDt > 0.01) {\n\t\t\t\tthis.LocalTick(remainsDt, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Complete\n\t\tif (!this.currentTween && this.tweens.length === this.sequenceIndex) {\n\t\t\tif (this.loop) {\n\t\t\t\tthis.loop.value--;\n\t\t\t\tif (this.loop.value !== 0) {\n\t\t\t\t\tthis.ResetAndStart(remainsDt);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.Complete();\n\t\t}\n\t}\n\n\tprivate NextTween() {\n\t\tthis.currentTween = this.tweens[this.sequenceIndex];\n\t\tif (this.currentTween) {\n\t\t\tfor (let i = 0; i < this.currentTween.length; i++) {\n\t\t\t\tconst tween = this.currentTween[i];\n\t\t\t\ttween.Start();\n\t\t\t}\n\n\t\t\tthis.EmitEvent(this.eventStepStart, [this.currentTween[0]]);\n\t\t\tthis.Info(Log.Debug, 'OnStepStart', this.eventStepStart);\n\t\t}\n\t}\n\n\tpublic Append(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [tween];\n\t\treturn this;\n\t}\n\n\tpublic AppendCallback(cb: () => void): ISequence {\n\t\tconst playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic AppendInterval(duration: number): ISequence {\n\t\tconst playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens[this.tweens.length] = [playable];\n\t\treturn this;\n\t}\n\n\tpublic Prepend(tween: ITween | ISequence): ISequence {\n\t\ttween.SetParent(this);\n\t\tthis.tweens.unshift([tween]);\n\t\treturn this;\n\t}\n\n\tpublic PrependCallback(cb: () => void): ISequence {\n\t\tconst playable = new Callback(cb);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic PrependInterval(duration: number): ISequence {\n\t\tconst playable = new Delay(duration);\n\t\tplayable.SetParent(this);\n\t\tthis.tweens.unshift([playable]);\n\t\treturn this;\n\t}\n\n\tpublic Skip(finalValue?: boolean): void {\n\t\tif (this.state === State.Killed || this.state === State.Finished) {\n\t\t\tthis.Info(Log.Info, 'Cannot skip this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tconst tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\tconst tween = tweenArray[j];\n\t\t\t\tif (tween.elapsed === 0) {\n\t\t\t\t\tthis.EmitEvent(this.eventStepStart, [tween]);\n\t\t\t\t\tthis.Info(Log.Debug, 'OnStepStart', this.eventStepStart);\n\t\t\t\t}\n\t\t\t\ttween.Skip(finalValue);\n\t\t\t\tthis.EmitEvent(this.eventStepEnd, [tween]);\n\t\t\t\tthis.Info(Log.Debug, 'OnStepEnd', this.eventStepEnd);\n\t\t\t}\n\t\t}\n\t\tsuper.Skip();\n\t}\n\n\tpublic Kill(): void {\n\t\tif (this.state === State.Killed) {\n\t\t\tthis.Info(Log.Info, 'Cannot kill this tween ', this.state);\n\t\t\treturn;\n\t\t}\n\n\t\tfor (let i = 0; i < this.tweens.length; i++) {\n\t\t\tconst tweenArray = this.tweens[i];\n\t\t\tfor (let j = 0; j < tweenArray.length; j++) {\n\t\t\t\ttweenArray[j].Kill();\n\t\t\t}\n\t\t}\n\n\t\tsuper.Kill();\n\t}\n\n\tpublic Join(tween: ITween | ISequence): ISequence {\n\t\tif (this.tweens.length === 0) {\n\t\t\treturn this.Append(tween);\n\t\t}\n\t\ttween.SetParent(this);\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\n\t\treturn this;\n\t}\n\n\tpublic OnStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tif (!this.eventStepStart) {\n\t\t\tthis.eventStepStart = new Array(0);\n\t\t}\n\t\tthis.eventStepStart[this.eventStepStart.length] = cb;\n\t\treturn this;\n\t}\n\n\tpublic OnStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\n\t\tif (!this.eventStepEnd) {\n\t\t\tthis.eventStepEnd = new Array(0);\n\t\t}\n\t\tthis.eventStepEnd[this.eventStepEnd.length] = cb;\n\t\treturn this;\n\t}\n}\n","import { State } from '../core/enum/state';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { easeNames } from '../easing/easing';\r\nimport { EasingType } from '../easing/easingType';\r\nimport { BaseTween } from './baseTween';\r\nimport { Sequence } from './sequence';\r\n\r\n/**\r\n * Tween: Used to animate values of an object\r\n *\r\n * @export\r\n * @class Tween\r\n * @extends {BaseTween}\r\n * @implements {ITween}\r\n */\r\nexport class Tween extends BaseTween<Tween> implements ITween {\r\n\tprivate object: any;\r\n\tprivate properties: string[];\r\n\tprivate from: any;\r\n\tprivate to: any;\r\n\tprivate steps = 0;\r\n\tprivate currentFrom: any;\r\n\tprivate currentTo: any;\r\n\tprivate remainsDt: number;\r\n\tprivate relative = false;\r\n\tprivate ease: (t: number) => number;\r\n\tprivate easeId: EasingType | string;\r\n\r\n\tconstructor(object: any, properties: string[]) {\r\n\t\tsuper();\r\n\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\t\tthis.tickCb = this.Tick.bind(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Used to define the object and the properties modified by this tween\r\n\t *\r\n\t * @param {*} object\r\n\t * @param {string[]} properties\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Init(object: any, properties: string[]) {\r\n\t\tthis.object = object;\r\n\t\tthis.properties = properties;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used on start to check the values of this tween\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected Validate() {\r\n\t\t// Check the object\r\n\t\tif (!this.object) {\r\n\t\t\tthrow new Error('Cant Tween a undefined object');\r\n\t\t}\r\n\r\n\t\t// Check the properties of that object\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\t\t\tif (!(prop in this.object)) {\r\n\t\t\t\tthrow new Error('Cant Tween an unknown property' + prop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check this tween will be updated\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant Start a tween without ticker');\r\n\t\t}\r\n\r\n\t\t// Easing\r\n\t\tif (!this.ease) {\r\n\t\t\tthis.easeId = EasingType.Linear;\r\n\t\t\tthis.ease = easeNames[EasingType.Linear];\r\n\t\t}\r\n\r\n\t\tthis.CheckPosition();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to calculate currentFrom/currentTo based on the config\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected CheckPosition() {\r\n\t\tif (!this.currentFrom) {\r\n\t\t\tthis.currentFrom = {};\r\n\t\t}\r\n\t\tif (!this.currentTo) {\r\n\t\t\tthis.currentTo = {};\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\r\n\t\t\t// From\r\n\t\t\tif (!this.from) {\r\n\t\t\t\tthis.currentFrom[prop] = this.object[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentFrom[prop] = this.from[prop];\r\n\t\t\t\tthis.object[prop] = this.from[prop];\r\n\t\t\t}\r\n\r\n\t\t\t// Relative\r\n\t\t\tif (this.relative) {\r\n\t\t\t\tthis.currentTo[prop] = this.object[prop] + this.to[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentTo[prop] = this.to[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Tick(dt: number) {\r\n\t\tif (this.state === State.Finished || this.state === State.Killed) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.remainsDt = dt * this.timescale;\r\n\t\twhile (this.remainsDt > 0) {\r\n\t\t\tthis.elapsed += this.remainsDt;\r\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tlet val = this.ease(progress);\r\n\r\n\t\t\t// Yoyo easing (need to be reversed)\r\n\t\t\tif (this.yoyo && (this.yoyo.original - this.yoyo.value) % 2 === 1) {\r\n\t\t\t\tval = 1 - this.ease(1 - progress);\r\n\t\t\t}\r\n\r\n\t\t\t// Steps behaviour\r\n\t\t\tif (this.steps !== 0) {\r\n\t\t\t\tval = Math.round(val * this.steps) / this.steps;\r\n\t\t\t}\r\n\r\n\t\t\t// Update if the object still exist\r\n\t\t\tif (this.object) {\r\n\t\t\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\t\t\tconst prop = this.properties[i];\r\n\t\t\t\t\tthis.object[prop] = this.currentFrom[prop] + (this.currentTo[prop] - this.currentFrom[prop]) * val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.EmitEvent(this.eventUpdate, [this.remainsDt, progress]);\r\n\r\n\t\t\tif (this.elapsed < this.duration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.remainsDt = this.elapsed - this.duration;\r\n\r\n\t\t\t// Yoyo effect ( A -> B -> A )\r\n\t\t\tif (this.yoyo && this.yoyo.value > 0) {\r\n\t\t\t\tthis.Reverse();\r\n\t\t\t\tthis.ResetAndStart(0);\r\n\t\t\t\tthis.yoyo.value--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Loop management\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tthis.loop.value--;\r\n\t\t\t\tif (this.loop.value !== 0) {\r\n\t\t\t\t\tthis.CheckPosition();\r\n\t\t\t\t\tthis.ResetAndStart(0);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.Complete();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the beginning of the tween\r\n\t *\r\n\t * @param {*} from\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic From(from: any): ITween {\r\n\t\tthis.from = from;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the end of the tween\r\n\t *\r\n\t * @param {*} to\r\n\t * @param {number} duration\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic To(to: any, duration: number): ITween {\r\n\t\tthis.to = to;\r\n\t\tthis.duration = duration;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define if the tween as to work in relative or not\r\n\t *\r\n\t * @param {boolean} relative\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetRelative(relative: boolean): ITween {\r\n\t\tthis.relative = relative;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * To apply a modifier on a current tween\r\n\t *\r\n\t * @param {*} diff\r\n\t * @param {boolean} updateTo\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Modify(diff: any, updateTo: boolean): void {\r\n\t\tfor (let i = 0; i < this.properties.length; i++) {\r\n\t\t\tconst prop = this.properties[i];\r\n\t\t\tif (!diff.hasOwnProperty(prop)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.object[prop] += diff[prop];\r\n\r\n\t\t\tif (updateTo) {\r\n\t\t\t\tthis.currentTo[prop] += diff[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentFrom[prop] += diff[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Overwrite the Reset (just for yoyo)\r\n\t *\r\n\t * @param {boolean} [skipParent]\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Reset(skipParent?: boolean): void {\r\n\t\tif (this.yoyo) {\r\n\t\t\tif ((this.yoyo.original - this.yoyo.value) % 2 === 1) {\r\n\t\t\t\tlet previous = this.currentFrom;\r\n\t\t\t\tthis.currentFrom = this.currentTo;\r\n\t\t\t\tthis.currentTo = previous;\r\n\r\n\t\t\t\tprevious = this.from;\r\n\t\t\t\tthis.from = this.to;\r\n\t\t\t\tthis.to = previous;\r\n\r\n\t\t\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\t\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\t\t\t}\r\n\r\n\t\t\tthis.yoyo.value = this.yoyo.original;\r\n\t\t}\r\n\t\tsuper.Reset(skipParent);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Reverse(): void {\r\n\t\tlet previous = this.currentFrom;\r\n\t\tthis.currentFrom = this.currentTo;\r\n\t\tthis.currentTo = previous;\r\n\r\n\t\tprevious = this.from;\r\n\t\tthis.from = this.to;\r\n\t\tthis.to = previous;\r\n\r\n\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\r\n\t\tif (this.state === State.Finished) {\r\n\t\t\tthis.Reset(true);\r\n\t\t\tthis.Start();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween N times at the end\r\n\t *\r\n\t * @param {number} time\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic Yoyo(time: number): ITween {\r\n\t\tif (!this.yoyo) {\r\n\t\t\tthis.yoyo = { original: 0, value: 0 };\r\n\t\t}\r\n\t\tthis.yoyo.original = time;\r\n\t\tthis.yoyo.value = time;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Quantify the tween value to a certain amount of steps\r\n\t *\r\n\t * @param {number} steps\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetSteps(steps: number): ITween {\r\n\t\tthis.steps = steps;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to create a sequence with this tween as first value.\r\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\r\n\t *\r\n\t * @returns {ISequence}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic ToSequence(): ISequence {\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('Cant convert to a sequence, parent ticker not defined');\r\n\t\t}\r\n\t\treturn new Sequence().SetParent(this.parent).Append(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Private easing method (resolve the right method and set it)\r\n\t *\r\n\t * @private\r\n\t * @param {(EasingType | string)} type\r\n\t * @returns {(t: number) => number}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprivate Easing(type: EasingType | string): (t: number) => number {\r\n\t\tconst name = type as string;\r\n\r\n\t\tif (name in easeNames) {\r\n\t\t\treturn easeNames[name];\r\n\t\t}\r\n\r\n\t\tthrow new Error('Unknown ease method ' + type);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the type of easing for this tween\r\n\t *\r\n\t * @param {(EasingType | string)} type\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic SetEasing(type: EasingType | string): ITween {\r\n\t\tthis.easeId = type;\r\n\t\tthis.ease = this.Easing(type);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used when the tween is reset (loop)\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected LoopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n}\r\n"],"sourceRoot":""}