{"version":3,"sources":["webpack://Fatina/webpack/universalModuleDefinition","webpack://Fatina/webpack/bootstrap","webpack://Fatina/./src/easing/easing.ts","webpack://Fatina/./src/fatina.ts","webpack://Fatina/./src/index.ts","webpack://Fatina/./src/ticker.ts","webpack://Fatina/./src/tweens/baseTween.ts","webpack://Fatina/./src/tweens/callback.ts","webpack://Fatina/./src/tweens/delay.ts","webpack://Fatina/./src/tweens/sequence.ts","webpack://Fatina/./src/tweens/tween.ts"],"names":[],"mappings":"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","file":"fatina.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Fatina\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Fatina\"] = factory();\n\telse\n\t\troot[\"Fatina\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","/**\r\n * List of easing method\r\n *\r\n * Mostly based on http://easings.net/\r\n */\r\n// tslint:disable:no-parameter-reassignment\r\nconst PI = Math.PI;\r\nconst PI_OVER_TWO = Math.PI / 2;\r\nconst BACK = 1.70158;\r\nconst e: { [id: string]: (t: number) => number } = {};\r\n\r\n// Linear\r\ne.linear = (t: number): number => {\r\n\treturn t;\r\n};\r\n\r\n// Quad\r\ne.inQuad = (t: number): number => {\r\n\treturn t * t;\r\n};\r\n\r\ne.outQuad = (t: number): number => {\r\n\treturn 2 * t - t * t;\r\n};\r\n\r\ne.inOutQuad = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 2 * t * t;\r\n\t} else {\r\n\t\treturn 2 * (2 * t - t * t) - 1;\r\n\t}\r\n};\r\n\r\n// Cubic\r\ne.inCubic = (t: number): number => {\r\n\treturn t * t * t;\r\n};\r\n\r\ne.outCubic = (t: number): number => {\r\n\treturn 3 * t - 3 * t * t + t * t * t;\r\n};\r\n\r\ne.inOutCubic = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 4 * t * t * t;\r\n\t} else {\r\n\t\treturn 4 * (3 * t - 3 * t * t + t * t * t) - 3;\r\n\t}\r\n};\r\n\r\n// Quart\r\ne.inQuart = (t: number): number => {\r\n\treturn t * t * t * t;\r\n};\r\n\r\ne.outQuart = (t: number): number => {\r\n\tconst t2 = t * t;\r\n\treturn 4 * t - 6 * t2 + 4 * t2 * t - t2 * t2;\r\n};\r\n\r\ne.inOutQuart = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn 8 * t * t * t * t;\r\n\t} else {\r\n\t\tconst t2 = t * t;\r\n\t\treturn 8 * (4 * t - 6 * t2 + 4 * t2 * t - t2 * t2) - 7;\r\n\t}\r\n};\r\n\r\n// Sine\r\ne.inSine = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 1 - Math.cos(PI_OVER_TWO * t);\r\n};\r\n\r\ne.outSine = (t: number): number => {\r\n\treturn Math.sin(PI_OVER_TWO * t);\r\n};\r\n\r\ne.inOutSine = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.cos(PI * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sin(PI * (t - 0.5))) / 2;\r\n\t}\r\n};\r\n\r\n// Circular\r\ne.inCirc = (t: number): number => {\r\n\treturn 1 - Math.sqrt(1 - Math.pow(t, 2));\r\n};\r\n\r\ne.outCirc = (t: number): number => {\r\n\treturn Math.sqrt(1 - Math.pow(1 - t, 2));\r\n};\r\n\r\ne.inOutCirc = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn (1 - Math.sqrt(1 - 4 * t * t)) / 2;\r\n\t} else {\r\n\t\treturn (1 + Math.sqrt(-3 + 8 * t - 4 * t * t)) / 2;\r\n\t}\r\n};\r\n\r\n// Quint\r\ne.inQuint = (t: number): number => {\r\n\treturn t * t * t * t * t;\r\n};\r\n\r\ne.outQuint = (t: number): number => {\r\n\treturn --t * t * t * t * t + 1;\r\n};\r\n\r\ne.InOutQuint = (t: number): number => {\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * t * t * t * t * t;\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\r\n};\r\n\r\n// Exponential\r\ne.inExponential = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn t === 0 ? 0 : Math.pow(1024, t - 1);\r\n};\r\n\r\ne.outExponential = (t: number): number => {\r\n\treturn t === 1 ? 1 : 1 - Math.pow(2, - 10 * t);\r\n};\r\n\r\ne.inOutExponential = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * Math.pow(1024, t - 1);\r\n\t}\r\n\treturn 0.5 * (- Math.pow(2, - 10 * (t - 1)) + 2);\r\n};\r\n\r\n// Elastic\r\ne.inElastic = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn -Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n};\r\n\r\ne.outElastic = (t: number): number => {\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn Math.pow(2, -10 * t) * Math.sin((t - 0.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\ne.inOutElastic = (t: number): number => {\r\n\tif (t === 0) {\r\n\t\treturn 0;\r\n\t}\r\n\tif (t === 1) {\r\n\t\treturn 1;\r\n\t}\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn -0.5 * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI);\r\n\t}\r\n\r\n\treturn 0.5 * Math.pow(2, -10 * (t - 1)) * Math.sin((t - 1.1) * 5 * Math.PI) + 1;\r\n};\r\n\r\n// Back\r\ne.inBack = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 1 ? 1 : t * t * ((s + 1) * t - s);\r\n};\r\n\r\ne.outBack = (t: number): number => {\r\n\tconst s = BACK;\r\n\treturn t === 0 ? 0 : --t * t * ((s + 1) * t + s) + 1;\r\n};\r\n\r\ne.inOutBack = (t: number): number => {\r\n\tconst s = BACK * 1.525;\r\n\tt *= 2;\r\n\tif (t < 1) {\r\n\t\treturn 0.5 * (t * t * ((s + 1) * t - s));\r\n\t}\r\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\r\n};\r\n\r\n// Bounce\r\ne.outBounce = (t: number): number => {\r\n\tif (t < (1 / 2.75)) {\r\n\t\treturn 7.5625 * t * t;\r\n\t} else if (t < (2 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (1.5 / 2.75)) * t + 0.75;\r\n\t} else if (t < (2.5 / 2.75)) {\r\n\t\treturn 7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375;\r\n\t} else {\r\n\t\treturn 7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375;\r\n\t}\r\n};\r\n\r\ne.inBounce = (t: number): number => {\r\n\treturn 1 - e.outBounce(1 - t);\r\n};\r\n\r\ne.inOutBounce = (t: number): number => {\r\n\tif (t < 0.5) {\r\n\t\treturn e.inBounce(t * 2) * 0.5;\r\n\t}\r\n\treturn e.outBounce(t * 2 - 1) * 0.5 + 0.5;\r\n};\r\n\r\nexport const easeNames = e;\r\n","\r\nimport { Log } from './core/enum/log';\r\nimport { IControl } from './core/interfaces/IControl';\r\nimport { IPlayable } from './core/interfaces/IPlayable';\r\nimport { IPlugin } from './core/interfaces/IPlugin';\r\nimport { ISequence } from './core/interfaces/ISequence';\r\nimport { ISettings } from './core/interfaces/ISettings';\r\nimport { ITicker } from './core/interfaces/ITicker';\r\nimport { ITween } from './core/interfaces/ITween';\r\nimport { Ticker } from './ticker';\r\nimport { Delay } from './tweens/delay';\r\nimport { Sequence } from './tweens/sequence';\r\nimport { Tween } from './tweens/tween';\r\n\r\n/**\r\n * This part manage the auto-update loop if necessary (browser only)\r\n */\r\nlet lastFrame: any;\r\nlet requestFrame: any;\r\nlet cancelFrame: any;\r\nif (typeof(window) !== 'undefined') {\r\n\trequestFrame = window.requestAnimationFrame || (window as any).mozRequestAnimationFrame\r\n\t\t|| window.webkitRequestAnimationFrame || (window as any).msRequestAnimationFrame;\r\n\tcancelFrame = window.cancelAnimationFrame || (window as any).mozCancelAnimationFrame;\r\n}\r\n\r\n/**\r\n * Main class exposed as fatina library\r\n *\r\n * @export\r\n * @class Fatina\r\n */\r\nexport class Fatina {\r\n\t// plugins\r\n\tpublic plugin: any = {};\r\n\tprivate readonly loadedPlugins: IPlugin[] = [];\r\n\tprivate readonly eventCreated: {(control: IControl): void}[] = [];\r\n\r\n\t// settings\r\n\tprivate readonly settings = {\r\n\t\tlogLevel: Log.None,\r\n\t\tsafe: true,\r\n\t\tsmooth: true,\r\n\t\tmaxFrameDt: 50, // 3 frames\r\n\t\tmaxFrameNumber: 40, // 40 x 3 frames ~2s.\r\n\t\tmaxDt: 15000 // 15s of animation\r\n\t} as ISettings;\r\n\r\n\t// properties\r\n\tpublic time = 0;\r\n\tprivate dt = 0;\r\n\tprivate lastTime = 0;\r\n\tprivate initialized = false;\r\n\tpublic manager: Ticker;\r\n\r\n\tpublic get elapsed(): number {\r\n\t\treturn this.manager.elapsed;\r\n\t}\r\n\r\n\tpublic get mainTicker(): ITicker {\r\n\t\tif (!this.initialized) {\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t\treturn this.manager;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used when Fatina is used for the first time.\r\n\t * Can take few ms. (pool initialization & object creation)\r\n\t *\r\n\t * @export\r\n\t * @param {boolean} [disableAutoTick]\r\n\t * @returns {boolean}\r\n\t */\r\n\tpublic init(disableAutoTick?: boolean): boolean {\r\n\t\tif (this.initialized) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (!this.manager) {\r\n\t\t\tthis.manager = new Ticker();\r\n\t\t\tthis.manager.start();\r\n\t\t}\r\n\r\n\t\tif (typeof(window) !== 'undefined' && !disableAutoTick) {\r\n\t\t\tlastFrame = requestFrame(this.updateLoop.bind(this));\r\n\t\t}\r\n\r\n\t\tthis.initialized = true;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Used to change the timescale of the whole game\r\n\t *\r\n\t * @export\r\n\t * @param {number} scale\r\n\t */\r\n\tpublic setTimescale(scale: number): void {\r\n\t\tthis.init();\r\n\t\tthis.manager.setTimescale(scale);\r\n\t}\r\n\r\n\t/**\r\n\t * This method pause the update loop (update are not called anymore)\r\n\t *\r\n\t * @export\r\n\t */\r\n\tpublic pause(): void {\r\n\t\tthis.init();\r\n\t\tthis.manager.pause();\r\n\t}\r\n\r\n\t/**\r\n\t * This method resume the update loop (works only if the game was paused before)\r\n\t *\r\n\t * @export\r\n\t */\r\n\tpublic resume(): void {\r\n\t\tthis.init();\r\n\t\tthis.manager.resume();\r\n\t}\r\n\r\n\t/**\r\n\t * This method kill the main ticker, the pool of tween and stop any requestAnimationFrame\r\n\t *\r\n\t * @export\r\n\t */\r\n\tpublic destroy() {\r\n\t\tif (this.manager) {\r\n\t\t\tthis.manager.kill();\r\n\t\t}\r\n\r\n\t\tif (lastFrame) {\r\n\t\t\tcancelFrame(lastFrame);\r\n\t\t}\r\n\r\n\t\tthis.initialized = false;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to tick all the child (tween or sequence)\r\n\t * This takes cares of recycling the old tween/sequence\r\n\t *\r\n\t * @export\r\n\t * @param {number} timestamp\r\n\t * @returns {*}\r\n\t */\r\n\tpublic update(timestamp: number): any {\r\n\t\tif (!this.initialized || !this.manager) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.manager.tick(timestamp);\r\n\t\tthis.time += timestamp;\r\n\t}\r\n\r\n\t/**\r\n\t * Helper to create a tween (use the tween pool)\r\n\t *\r\n\t * @export\r\n\t * @param {*} obj\r\n\t * @returns {ITween}\r\n\t */\r\n\tpublic tween(obj: any): ITween {\r\n\t\tconst t = new Tween(obj);\r\n\t\tthis.addContext(t);\r\n\t\treturn t;\r\n\t}\r\n\r\n\t/**\r\n\t * Helper to create a Sequence (use the sequence pool)\r\n\t *\r\n\t * @export\r\n\t * @param {(Tween[] | Sequence[])} [list]\r\n\t * @returns {ISequence}\r\n\t */\r\n\tpublic sequence(list?: Tween[] | Sequence[] | IPlayable[]): ISequence {\r\n\t\tconst s = new Sequence(list);\r\n\t\tthis.addContext(s);\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/**\r\n\t * Helper to create a Delay\r\n\t *\r\n\t * @export\r\n\t * @param {number} duration\r\n\t * @returns {IPlayable}\r\n\t */\r\n\tpublic delay(duration: number): IPlayable {\r\n\t\tconst d = new Delay(duration);\r\n\t\tthis.addContext(d);\r\n\t\treturn d;\r\n\t}\r\n\r\n\t/**\r\n\t * Helper used to replace usage of normal js setTimeout() by a tween\r\n\t * https://www.w3schools.com/jsref/met_win_settimeout.asp\r\n\t *\r\n\t * @export\r\n\t * @param {() => void} fn\r\n\t * @param {number} duration\r\n\t * @returns {IPlayable}\r\n\t */\r\n\tpublic setTimeout(fn: () => void, duration: number): IPlayable {\r\n\t\tconst timeout = new Delay(duration).onComplete(fn);\r\n\t\tthis.addContext(timeout);\r\n\t\treturn timeout.start();\r\n\t}\r\n\r\n\t/**\r\n\t * Helper used to replace usage of normal js setInterval() by a tween\r\n\t * https://www.w3schools.com/jsref/met_win_setinterval.asp\r\n\t *\r\n\t * @export\r\n\t * @param {() => void} fn\r\n\t * @param {number} duration\r\n\t * @returns {IPlayable}\r\n\t */\r\n\tpublic setInterval(fn: () => void, duration: number): IPlayable {\r\n\t\tconst interval = new Delay(duration).onRestart(fn).setLoop(-1);\r\n\t\tthis.addContext(interval);\r\n\t\treturn interval.start();\r\n\t}\r\n\r\n\t/**\r\n\t * Private method to set common data to every object (the parent ticker, safe mode, verbose mode)\r\n\t *\r\n\t * @param {(IPlayable | ITween | ISequence)} obj\r\n\t */\r\n\tprivate addContext(obj: IPlayable | ITween | ISequence): void {\r\n\t\tif (!this.initialized) {\r\n\t\t\tthis.init();\r\n\t\t}\r\n\r\n\t\tobj.setParent(this.manager as ITicker);\r\n\r\n\t\tif (this.settings.logLevel !== Log.None || !this.settings.safe) {\r\n\t\t\tobj.setSettings(this.settings);\r\n\t\t}\r\n\r\n\t\tthis.emitCreated(obj);\r\n\t}\r\n\r\n\t/**\r\n\t * Create or Get a ticker with a defined name\r\n\t * This ticker is a child of the main ticker\r\n\t *\r\n\t * @export\r\n\t * @param {string} name\r\n\t * @returns {ITicker}\r\n\t */\r\n\tpublic ticker(): ITicker {\r\n\t\tif (!this.initialized) {\r\n\t\t\tthis.init();\r\n\t\t}\r\n\r\n\t\tconst tick = new Ticker();\r\n\t\tconst handler = tick.tick.bind(tick);\r\n\t\ttick.setParent(this.manager, handler);\r\n\t\tthis.manager.addTick(handler);\r\n\t\ttick.start();\r\n\r\n\t\tthis.emitCreated(tick);\r\n\t\treturn tick;\r\n\t}\r\n\r\n\tprivate updateLoop(timestamp: number) {\r\n\t\tthis.dt += timestamp - this.lastTime;\r\n\t\tif (this.dt > this.settings.maxDt) {\r\n\t\t\tconsole.warn(`dt too high ${Math.round(this.dt)}ms. , Capped to ${this.settings.maxDt}ms.`);\r\n\t\t\tthis.dt = this.settings.maxDt;\r\n\t\t}\r\n\r\n\t\tif (!this.settings.smooth) {\r\n\t\t\t// use directly the delta time\r\n\t\t\tthis.update(this.dt);\r\n\t\t\tthis.dt = 0;\r\n\t\t} else {\r\n\t\t\t// split high dt in multiple smaller .update()\r\n\t\t\tlet frame = 0;\r\n\t\t\twhile (this.dt > 0 && frame < this.settings.maxFrameNumber) {\r\n\t\t\t\tconst currentDt = Math.min(this.dt, this.settings.maxFrameDt);\r\n\t\t\t\tthis.update(currentDt);\r\n\t\t\t\tthis.dt -= currentDt;\r\n\t\t\t\tframe++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.lastTime = timestamp;\r\n\t\tlastFrame = requestFrame(this.updateLoop.bind(this));\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize a plugin by passing fatina object to it\r\n\t *\r\n\t * @export\r\n\t * @param {IPlugin} newPlugin\r\n\t */\r\n\tpublic loadPlugin(newPlugin: IPlugin) {\r\n\t\tnewPlugin.init(this);\r\n\t\tthis.loadedPlugins.push(newPlugin);\r\n\t\tthis.info(Log.Debug, 'Plugin Loaded', newPlugin.name);\r\n\t}\r\n\r\n\tprivate info(level: Log, message: string, data?: any) {\r\n\t\tif (level > this.settings.logLevel) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (data) {\r\n\t\t\tconsole.log(message, data);\r\n\t\t} else {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate emit(func: any, control: IControl) {\r\n\t\tif (!this.settings.safe) {\r\n\t\t\treturn func(control);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tfunc(control);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate emitCreated(control: IControl) {\r\n\t\tfor (const event of this.eventCreated) {\r\n\t\t\tthis.emit(event, control);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Add a listener method on tween/sequence creation\r\n\t *\r\n\t * @export\r\n\t * @param {(control: IControl) => void} cb\r\n\t */\r\n\tpublic addListenerCreated(cb: (control: IControl) => void): void {\r\n\t\tthis.eventCreated.push(cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Remove a listener method on tween/sequence creation\r\n\t *\r\n\t * @export\r\n\t * @param {(control: IControl) => void} cb\r\n\t */\r\n\tpublic removeListenerCreated(cb: (control: IControl) => void): void {\r\n\t\tconst index = this.eventCreated.indexOf(cb);\r\n\t\tif (index !== -1) {\r\n\t\t\tthis.eventCreated.splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * This method is used to change the log level\r\n\t *\r\n\t * @export\r\n\t * @param {Log} level\r\n\t */\r\n\tpublic setLog(level: Log) {\r\n\t\tthis.settings.logLevel = level;\r\n\t}\r\n\r\n\t/**\r\n\t * This method is used to enable / disable the callback try/catch\r\n\t *\r\n\t * @export\r\n\t * @param {boolean} isSafe\r\n\t */\r\n\tpublic setSafe(isSafe: boolean) {\r\n\t\tthis.settings.safe = isSafe;\r\n\t}\r\n}\r\n","import { Fatina } from './fatina';\r\n\r\n// Expose fatina\r\nexport = new Fatina();\r\n","import { State } from './core/enum/state';\r\nimport { ITicker } from './core/interfaces/ITicker';\r\n\r\n/**\r\n * Main Fatina Ticker\r\n * Parent of all the normal tween and sequence\r\n *\r\n * @export\r\n * @class Ticker\r\n * @extends {EventList}\r\n * @implements {ITicker}\r\n */\r\nexport class Ticker implements ITicker {\r\n\tpublic state = State.Idle;\r\n\tprivate timescale = 1;\r\n\tpublic elapsed = 0;\r\n\tpublic duration = 0;\r\n\r\n\tprivate tickCb: (dt: number) => void | undefined;\r\n\tprivate readonly ticks: Set<(dt: number) => void> = new Set();\r\n\tprivate readonly newTicks: Set<(dt: number) => void> = new Set();\r\n\tprivate parent: ITicker;\r\n\tprivate dt: number = 0;\r\n\r\n\tpublic setParent(parent: ITicker, tick: (dt: number) => void) {\r\n\t\tthis.tickCb = tick;\r\n\t\tthis.parent = parent;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to change the timescale\r\n\t *\r\n\t * @param {number} scale\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic setTimescale(scale: number): void {\r\n\t\tthis.timescale = scale;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used by the child to be updated\r\n\t *\r\n\t * @param {(dt: number) => void} cb\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic addTick(cb: (dt: number) => void): void {\r\n\t\tthis.newTicks.add(cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used by the child to not receive update anymore\r\n\t *\r\n\t * @param {(dt: number) => void} cb\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic removeTick(cb: (dt: number) => void): void {\r\n\t\tif (!this.ticks.delete(cb)) {\r\n\t\t\tthis.newTicks.delete(cb);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to tick all the child (tick listeners)\r\n\t *\r\n\t * @param {number} dt\r\n\t * @returns\r\n\t *\r\n\t * @memberOf Ticker\r\n\t */\r\n\tpublic tick(dt: number) {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.dt = dt * this.timescale;\r\n\t\tif (this.newTicks.size > 0) {\r\n\t\t\tthis.newTicks.forEach((tick) => this.ticks.add(tick));\r\n\t\t\tthis.newTicks.clear();\r\n\t\t}\r\n\r\n\t\tthis.ticks.forEach((tick) => tick(this.dt));\r\n\t\tthis.elapsed += this.dt;\r\n\t}\r\n\r\n\tpublic start(): void {\r\n\t\tif (this.state === State.Idle) {\r\n\t\t\tthis.state = State.Run;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic pause(): void {\r\n\t\tif (this.state === State.Run) {\r\n\t\t\tthis.state = State.Pause;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic resume(): void {\r\n\t\tif (this.state === State.Pause) {\r\n\t\t\tthis.state = State.Run;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic kill(): void {\r\n\t\tif (this.state >= 3) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.parent && this.tickCb) {\r\n\t\t\tthis.parent.removeTick(this.tickCb);\r\n\t\t}\r\n\r\n\t\tthis.state = State.Killed;\r\n\t}\r\n\r\n\tpublic skip(): void {}\r\n\r\n\tpublic reset(): void {\r\n\t\tthis.state = State.Idle;\r\n\t}\r\n\r\n\tpublic get isIdle(): boolean {\r\n\t\treturn this.state === State.Idle;\r\n\t}\r\n\r\n\tpublic get isRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic get isFinished(): boolean {\r\n\t\treturn this.state >= 3;\r\n\t}\r\n\r\n\tpublic get isPaused(): boolean {\r\n\t\treturn this. state === State.Pause;\r\n\t}\r\n}\r\n","import { Log } from '../core/enum/log';\r\nimport { State } from '../core/enum/state';\r\nimport { ISettings } from '../core/interfaces/ISettings';\r\nimport { ITicker } from '../core/interfaces/ITicker';\r\nimport { ITweenProperty } from '../core/interfaces/ITweenProperty';\r\n\r\n/**\r\n * Shared behaviors between different types of tweens and sequence\r\n * Used mostly to manage:\r\n *  - events\r\n *  - state\r\n *  - loop and restart\r\n *\r\n * @export\r\n * @abstract\r\n * @class BaseTween\r\n */\r\nexport abstract class BaseTween<T extends BaseTween<any>> {\r\n\t// events\r\n\tprotected events: { [id: string]: any } = {};\r\n\r\n\t// public properties\r\n\tpublic elapsed = 0;\r\n\tpublic duration = 0;\r\n\tpublic timescale = 1;\r\n\tpublic state: State = State.Idle;\r\n\r\n\t// private properties\r\n\tprotected loop: ITweenProperty | undefined;\r\n\tprotected yo: ITweenProperty | undefined;\r\n\tprotected parent: ITicker;\r\n\tprotected tickCb: (dt: number) => void;\r\n\tprivate first = true;\r\n\tprivate settings?: ISettings;\r\n\r\n\tpublic get isIdle(): boolean {\r\n\t\treturn this.state === State.Idle;\r\n\t}\r\n\r\n\tpublic get isRunning(): boolean {\r\n\t\treturn this.state === State.Run;\r\n\t}\r\n\r\n\tpublic get isFinished(): boolean {\r\n\t\treturn this.state >= 3;\r\n\t}\r\n\r\n\tpublic get isPaused(): boolean {\r\n\t\treturn this. state === State.Pause;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to start a tween\r\n\t *\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic start(): T {\r\n\t\tif (this.state !== State.Idle) {\r\n\t\t\treturn this as any;\r\n\t\t}\r\n\r\n\t\tif (this.first) {\r\n\t\t\tthis.validate();\r\n\t\t} else {\r\n\t\t\tthis.check();\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tthis.parent.addTick(this.tickCb);\r\n\r\n\t\tif (this.first) {\r\n\t\t\tthis.emitEvent(this.events.start);\r\n\t\t\tthis.first = false;\r\n\t\t}\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Reset a tween to be reusable (with start)\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic recycle() {\r\n\t\tthis.reset(true);\r\n\t\tthis.first = true;\r\n\t}\r\n\r\n\t/**\r\n\t * To Reset a Tween already finished (example looping sequence)\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic reset(skipParent?: boolean): void {\r\n\t\tthis.state = State.Idle;\r\n\r\n\t\tif (!skipParent) {\r\n\t\t\tthis.removeParent();\r\n\t\t}\r\n\r\n\t\tif (this.loop) {\r\n\t\t\tthis.loop.value = this.loop.original;\r\n\t\t}\r\n\t\tthis.loopInit();\r\n\t\tthis.emitEvent(this.events.restart);\r\n\t}\r\n\r\n\t/**\r\n\t * To immediately Reset a tween without stopping/restarting it\r\n\t * This is faster than calling manually Reset() & Start() & Tick()\r\n\t *\r\n\t * @param {number} dtRemains\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic resetAndStart(dtRemains: number) {\r\n\t\tthis.loopInit();\r\n\t\tthis.emitEvent(this.events.restart);\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tif (dtRemains > 0) {\r\n\t\t\tthis.tickCb(dtRemains);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define the ticker of this tween\r\n\t * When Fatina.Tween is used, the main ticker is automatically defined as parent\r\n\t *\r\n\t * @param {ITicker} ticker\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic setParent(ticker: ITicker): T {\r\n\t\tthis.removeParent();\r\n\t\tthis.parent = ticker;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to change the timescale of the tween\r\n\t *\r\n\t * @param {number} scale\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic setTimescale(scale: number): T {\r\n\t\tthis.timescale = scale;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to pause a tween or a sequence (only work if the tween runs)\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic pause(): void {\r\n\t\tif (this.state !== State.Run) {\r\n\t\t\tthis.info(Log.Info, 'Cannot pause this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Pause;\r\n\t\tthis.removeParent();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to resume a tween or a sequence (only work if the tween is paused)\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic resume(): void {\r\n\t\tif (this.state !== State.Pause) {\r\n\t\t\tthis.info(Log.Info, 'Cannot resume this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Run;\r\n\t\tthis.parent.addTick(this.tickCb);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Skip this tween or sequence and directly finish it\r\n\t *\r\n\t * @param {boolean} [finalValue]\r\n\t * @returns {void}\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic skip(finalValue?: boolean): void {\r\n\t\tif (this.state >= 3) {\r\n\t\t\tthis.info(Log.Info, 'Cannot skip this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this.state === State.Idle) {\r\n\t\t\tthis.emitEvent(this.events.start);\r\n\t\t}\r\n\r\n\t\tif (finalValue) {\r\n\t\t\tconst duration = this.yo ? (this.yo.value * this.duration) : 0;\r\n\t\t\tthis.tickCb(this.duration - this.elapsed + duration);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.elapsed = this.duration;\r\n\t\tthis.complete();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Stop/Kill a tween or a sequence\r\n\t *\r\n\t * @returns {void}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic kill(): void {\r\n\t\tif (this.state === State.Killed) {\r\n\t\t\tthis.info(Log.Info, 'Cannot kill this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Killed;\r\n\t\tthis.removeParent();\r\n\t\tthis.emitEvent(this.events.kill);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define how many time the tween has to loop\r\n\t * Extra: if -1 the tween will loop forever\r\n\t *\r\n\t * @param {number} loop\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic setLoop(loop: number): T {\r\n\t\tif (!this.loop) {\r\n\t\t\tthis.loop = { original: 1, value: 1 };\r\n\t\t}\r\n\t\tthis.loop.original = Math.round(loop);\r\n\t\tthis.loop.value = this.loop.original;\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\tpublic setSettings(settings: ISettings): T {\r\n\t\tif (this.settings) {\r\n\t\t\tObject.assign(this.settings, settings);\r\n\t\t} else {\r\n\t\t\tthis.settings = settings;\r\n\t\t}\r\n\t\treturn this as any;\r\n\t}\r\n\r\n\tprotected complete(): void {\r\n\t\tif (this.state >= 3) {\r\n\t\t\tthis.info(Log.Info, 'Cannot complete this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.state = State.Finished;\r\n\t\tthis.removeParent();\r\n\t\tthis.emitEvent(this.events.complete);\r\n\t}\r\n\r\n\tprotected removeParent() {\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent.removeTick(this.tickCb);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected check(): void {}\r\n\tprotected validate(): void {}\r\n\tprotected loopInit(): void {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n\r\n\tprotected info(level: Log, message: string, data?: any) {\r\n\t\tif (!this.settings || level > this.settings.logLevel) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconsole.log(message, data);\r\n\t}\r\n\r\n\tprivate emit(func: any, args: any) {\r\n\t\tif (this.settings && !this.settings.safe) {\r\n\t\t\treturn func.apply(this, args);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tfunc.apply(this, args);\r\n\t\t} catch (e) {\r\n\t\t\tconsole.warn(e);\r\n\t\t}\r\n\t}\r\n\r\n\tprotected emitEvent(listeners: any, args?: any) {\r\n\t\tif (!listeners) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (listeners instanceof Array) {\r\n\t\t\tfor (const listener of listeners) {\r\n\t\t\t\tthis.emit(listener, args);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.emit(listeners, args);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *  Callback called when the tween started\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic onStart(cb: () => void): T {\r\n\t\treturn this.onEvent('start', cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween restart (loop)\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic onRestart(cb: () => void): T {\r\n\t\treturn this.onEvent('restart', cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is updated\r\n\t *\r\n\t * @param {(dt: number, progress: number) => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic onUpdate(cb: (dt: number, progress: number) => void): T {\r\n\t\treturn this.onEvent('update', cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is manually killed\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic onKilled(cb: () => void): T {\r\n\t\treturn this.onEvent('kill', cb);\r\n\t}\r\n\r\n\t/**\r\n\t * Callback called when the tween is finished\r\n\t *\r\n\t * @param {() => void} cb\r\n\t * @returns {T}\r\n\t *\r\n\t * @memberOf BaseTween\r\n\t */\r\n\tpublic onComplete(cb: () => void): T {\r\n\t\treturn this.onEvent('complete', cb);\r\n\t}\r\n\r\n\tprotected onEvent(name: string, cb: any): T {\r\n\t\tif (!this.events[name]) {\r\n\t\t\tthis.events[name] = cb;\r\n\t\t} else if (this.events[name] instanceof Array) {\r\n\t\t\tthis.events[name].push(cb);\r\n\t\t} else {\r\n\t\t\tthis.events[name] = [this.events[name], cb];\r\n \t\t}\r\n\t\treturn this as any;\r\n\t}\r\n}\r\n","import { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { BaseTween } from './baseTween';\r\n\r\n/**\r\n * Fake tween used to append or join callback in a sequence\r\n *\r\n * @export\r\n * @class Callback\r\n * @extends {BaseTween}\r\n * @implements {IPlayable}\r\n */\r\nexport class Callback extends BaseTween<Callback> implements IPlayable {\r\n\tprivate readonly callback: () => void;\r\n\r\n\tconstructor(cb: () => void) {\r\n\t\tsuper();\r\n\t\tthis.callback = cb;\r\n\t\tthis.tickCb = this.tick.bind(this);\r\n\t}\r\n\r\n\tprivate tick(dt: number) {\r\n\t\tthis.elapsed += dt;\r\n\t\tthis.duration = 0;\r\n\t\tthis.callback();\r\n\t\tthis.emitEvent(this.events.update, [dt, 1]);\r\n\t\tthis.complete();\r\n\t}\r\n}\r\n","import { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { BaseTween } from './baseTween';\r\n\r\n/**\r\n * Fake tween used to delay other tweens in a sequence\r\n *\r\n * @export\r\n * @class Delay\r\n * @extends {BaseTween}\r\n * @implements {IPlayable}\r\n */\r\nexport class Delay extends BaseTween<Delay> implements IPlayable {\r\n\tprivate remains = 0;\r\n\r\n\tconstructor(duration: number) {\r\n\t\tsuper();\r\n\t\tthis.duration = duration;\r\n\t\tthis.tickCb = this.tick.bind(this);\r\n\t}\r\n\r\n\tprivate tick(dt: number) {\r\n\t\tthis.remains = dt * this.timescale;\r\n\r\n\t\twhile (this.remains > 0) {\r\n\t\t\tthis.elapsed += this.remains;\r\n\t\t\tconst progress = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tif (this.events.update) {\r\n\t\t\t\tthis.emitEvent(this.events.update, [this.remains, progress]);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.elapsed < this.duration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.remains = this.elapsed - this.duration;\r\n\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tthis.loop.value--;\r\n\t\t\t\tif (this.loop.value !== 0) {\r\n\t\t\t\t\tthis.resetAndStart(0);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.complete();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n","import { Log } from '../core/enum/log';\r\nimport { State } from '../core/enum/state';\r\nimport { IPlayable } from '../core/interfaces/IPlayable';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { ITicker } from '../core/interfaces/ITicker';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { BaseTween } from './baseTween';\r\nimport { Callback } from './callback';\r\nimport { Delay } from './delay';\r\n\r\n/**\r\n * Sequence: used to animate other tweens or sequence\r\n * Can play them sequentially or in parallel\r\n *\r\n * @export\r\n * @class Sequence\r\n * @extends {BaseTween}\r\n * @implements {ISequence}\r\n * @implements {ITicker}\r\n * @implements {IPlayable}\r\n */\r\nexport class Sequence extends BaseTween<Sequence> implements ISequence, ITicker, IPlayable {\r\n\tprivate readonly evtTick: Set<{(dt: number): void}> = new Set();\r\n\tprivate readonly tweens: ((ITween | IPlayable)[])[] = [];\r\n\tprivate index = 0;\r\n\r\n\t// cache\r\n\tprivate cur: (ITween | IPlayable)[] | undefined;\r\n\tprivate remains = 0;\r\n\r\n\tpublic get count(): number {\r\n\t\treturn this.tweens.length;\r\n\t}\r\n\r\n\tconstructor(tweens?: ITween[] | ISequence[] | IPlayable[]) {\r\n\t\tsuper();\r\n\t\tthis.tickCb = this.tick.bind(this);\r\n\r\n\t\tif (tweens) {\r\n\t\t\tthis.tweens = new Array(tweens.length);\r\n\t\t\tfor (let i = 0; i < tweens.length; i++) {\r\n\t\t\t\ttweens[i].setParent(this);\r\n\t\t\t\tthis.tweens[i] = [tweens[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected loopInit() {\r\n\t\tthis.index = 0;\r\n\t\tfor (const tweenArray of this.tweens) {\r\n\t\t\tfor (const tween of tweenArray) {\r\n\t\t\t\ttween.reset();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addTick(cb: (dt: number) => void): void {\r\n\t\tthis.evtTick.add(cb);\r\n\t}\r\n\r\n\tpublic removeTick(cb: (dt: number) => void): void {\r\n\t\tthis.evtTick.delete(cb);\r\n\t}\r\n\r\n\tprivate tick(dt: number) {\r\n\t\tif (this.state >= 3) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.remains = dt * this.timescale;\r\n\t\tthis.elapsed += this.remains;\r\n\t\tthis.localTick(this.remains);\r\n\t}\r\n\r\n\tprivate localTick(dt: number, remains?: boolean) {\r\n\t\t// If no current tween, take the first one and start it\r\n\t\tif (!this.cur) {\r\n\t\t\tthis.nextTween();\r\n\t\t}\r\n\r\n\t\tif (this.cur) {\r\n\t\t\t// Tick every listener\r\n\t\t\tthis.evtTick.forEach(function (tick) { tick(dt); });\r\n\r\n\t\t\t// Dont emit update event for remains dt\r\n\t\t\tif (remains !== true && this.events.update) {\r\n\t\t\t\tthis.emitEvent(this.events.update, [dt, 0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.remains = dt;\r\n\r\n\t\t// Current tween over\r\n\t\tif (this.cur) {\r\n\t\t\tfor (const current of this.cur) {\r\n\t\t\t\tif (current.state !== State.Finished) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.remains = this.cur[0].elapsed - this.cur[0].duration;\r\n\r\n\t\t\tif (this.events.stepEnd) {\r\n\t\t\t\tthis.emitEvent(this.events.stepEnd, this.cur[0]);\r\n\t\t\t}\r\n\r\n\t\t\tthis.cur = undefined;\r\n\t\t\tthis.index++;\r\n\r\n\t\t\tif (this.remains > 0.01) {\r\n\t\t\t\tthis.localTick(this.remains, true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Complete\r\n\t\tif (!this.cur && this.tweens.length === this.index) {\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tthis.loop.value--;\r\n\t\t\t\tif (this.loop.value !== 0) {\r\n\t\t\t\t\tthis.resetAndStart(this.remains);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.complete();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate nextTween() {\r\n\t\tthis.cur = this.tweens[this.index];\r\n\t\tif (!this.cur) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const tween of this.cur) {\r\n\t\t\ttween.start();\r\n\t\t}\r\n\r\n\t\tif (this.events.stepStart) {\r\n\t\t\tthis.emitEvent(this.events.stepStart, this.cur[0]);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic append(tween: ITween | ISequence): ISequence {\r\n\t\ttween.setParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [tween];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic appendCallback(cb: () => void): ISequence {\r\n\t\tconst playable = new Callback(cb);\r\n\t\tplayable.setParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [playable];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic appendInterval(duration: number): ISequence {\r\n\t\tconst playable = new Delay(duration);\r\n\t\tplayable.setParent(this);\r\n\t\tthis.tweens[this.tweens.length] = [playable];\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic prepend(tween: ITween | ISequence): ISequence {\r\n\t\ttween.setParent(this);\r\n\t\tthis.tweens.unshift([tween]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic prependCallback(cb: () => void): ISequence {\r\n\t\tconst playable = new Callback(cb);\r\n\t\tplayable.setParent(this);\r\n\t\tthis.tweens.unshift([playable]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic prependInterval(duration: number): ISequence {\r\n\t\tconst playable = new Delay(duration);\r\n\t\tplayable.setParent(this);\r\n\t\tthis.tweens.unshift([playable]);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic skip(finalValue?: boolean): void {\r\n\t\tif (this.state >= 3) {\r\n\t\t\tthis.info(Log.Info, 'Cannot skip this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const tweenArray of this.tweens) {\r\n\t\t\tfor (const tween of tweenArray) {\r\n\t\t\t\tif (tween.elapsed === 0) {\r\n\t\t\t\t\tthis.emitEvent(this.events.stepStart, tween);\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttween.skip(finalValue);\r\n\t\t\t\tthis.emitEvent(this.events.stepEnd, tween);\r\n\t\t\t}\r\n\t\t}\r\n\t\tsuper.skip();\r\n\t}\r\n\r\n\tpublic kill(): void {\r\n\t\tif (this.state === State.Killed) {\r\n\t\t\tthis.info(Log.Info, 'Cannot kill this tween ', this.state);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const tweenArray of this.tweens) {\r\n\t\t\tfor (const tween of tweenArray) {\r\n\t\t\t\ttween.kill();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsuper.kill();\r\n\t}\r\n\r\n\tpublic join(tween: ITween | ISequence): ISequence {\r\n\t\tif (this.tweens.length === 0) {\r\n\t\t\treturn this.append(tween);\r\n\t\t}\r\n\t\ttween.setParent(this);\r\n\t\tthis.tweens[this.tweens.length - 1].push(tween);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic onStepStart(cb: (index: ITween | IPlayable) => void): ISequence {\r\n\t\treturn this.onEvent('stepStart', cb);\r\n\t}\r\n\r\n\tpublic onStepEnd(cb: (index: ITween | IPlayable) => void): ISequence {\r\n\t\treturn this.onEvent('stepEnd', cb);\r\n\t}\r\n}\r\n","import { State } from '../core/enum/state';\r\nimport { ISequence } from '../core/interfaces/ISequence';\r\nimport { ITween } from '../core/interfaces/ITween';\r\nimport { easeNames } from '../easing/easing';\r\nimport { EasingType } from '../easing/easingType';\r\nimport { BaseTween } from './baseTween';\r\nimport { Sequence } from './sequence';\r\n\r\n/**\r\n * Tween: Used to animate values of an object\r\n *\r\n * @export\r\n * @class Tween\r\n * @extends {BaseTween}\r\n * @implements {ITween}\r\n */\r\nexport class Tween extends BaseTween<Tween> implements ITween {\r\n\t// properties\r\n\tprivate obj: any;\r\n\tprivate readonly prop: string[] = [];\r\n\r\n\t// user from & to\r\n\tprivate f: any;\r\n\tprivate t: any;\r\n\r\n\t// current value from & to (can changed based on yoyo, reset, ...)\r\n\tprivate cf: any;\r\n\tprivate ct: any;\r\n\r\n\t// options\r\n\tprivate steps = 0;\r\n\tprivate relative = false;\r\n\tprivate ease: (t: number) => number;\r\n\r\n\t// cache\r\n\tprivate p = 0;\r\n\tprivate v = 0;\r\n\tprivate remains = 0;\r\n\r\n\tconstructor(object: any) {\r\n\t\tsuper();\r\n\r\n\t\tthis.obj = object;\r\n\t\tthis.tickCb = this.tick.bind(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Used to define the object and the properties modified by this tween\r\n\t *\r\n\t * @param {*} object\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic init(object: any) {\r\n\t\tthis.obj = object;\r\n\t\tthis.prop.length = 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used on start to check the values of this tween\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected validate() {\r\n\t\t// Check the object\r\n\t\tif (!this.obj) {\r\n\t\t\tthrow new Error('undefined object');\r\n\t\t}\r\n\r\n\t\t// Check this tween will be updated\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('no ticker');\r\n\t\t}\r\n\r\n\t\t// Easing\r\n\t\tif (!this.ease) {\r\n\t\t\tthis.ease = easeNames[EasingType.Linear];\r\n\t\t}\r\n\r\n\t\tthis.check();\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to calculate currentFrom/currentTo based on the config\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected check() {\r\n\t\tif (!this.cf) {\r\n\t\t\tthis.cf = {};\r\n\t\t}\r\n\t\tif (!this.ct) {\r\n\t\t\tthis.ct = {};\r\n\t\t}\r\n\r\n\t\tfor (const prop of this.prop) {\r\n\t\t\t// From\r\n\t\t\tif (!this.f) {\r\n\t\t\t\tthis.cf[prop] = this.obj[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.cf[prop] = this.f[prop];\r\n\t\t\t\tthis.obj[prop] = this.f[prop];\r\n\t\t\t}\r\n\r\n\t\t\t// Relative\r\n\t\t\tif (this.relative) {\r\n\t\t\t\tthis.ct[prop] = this.obj[prop] + this.t[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.ct[prop] = this.t[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate tick(dt: number) {\r\n\t\tif (this.state >= 3) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.remains = dt * this.timescale;\r\n\t\twhile (this.remains > 0) {\r\n\t\t\tthis.elapsed += this.remains;\r\n\t\t\tthis.p = Math.max(Math.min(this.elapsed / this.duration, 1), 0);\r\n\t\t\tthis.v = this.ease(this.p);\r\n\r\n\t\t\t// Yoyo easing (need to be reversed)\r\n\t\t\tif (this.yo && (this.yo.original - this.yo.value) % 2 === 1) {\r\n\t\t\t\tthis.v = 1 - this.ease(1 - this.p);\r\n\t\t\t}\r\n\r\n\t\t\t// Steps behaviour\r\n\t\t\tif (this.steps !== 0) {\r\n\t\t\t\tthis.v = Math.round(this.v * this.steps) / this.steps;\r\n\t\t\t}\r\n\r\n\t\t\t// Update if the object still exist\r\n\t\t\tfor (const prop of this.prop) {\r\n\t\t\t\tthis.obj[prop] = this.cf[prop] + (this.ct[prop] - this.cf[prop]) * this.v;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.events.update) {\r\n\t\t\t\tthis.emitEvent(this.events.update, [this.remains, this.p]);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.elapsed < this.duration) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.remains = this.elapsed - this.duration;\r\n\r\n\t\t\t// Yoyo effect ( A -> B -> A )\r\n\t\t\tif (this.yo && this.yo.value > 0) {\r\n\t\t\t\tthis.reverse();\r\n\t\t\t\tthis.resetAndStart(0);\r\n\t\t\t\tthis.yo.value--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Loop management\r\n\t\t\tif (this.loop) {\r\n\t\t\t\tthis.loop.value--;\r\n\t\t\t\tif (this.loop.value !== 0) {\r\n\t\t\t\t\tthis.check();\r\n\t\t\t\t\tthis.resetAndStart(0);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.complete();\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the beginning of the tween\r\n\t *\r\n\t * @param {*} from\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic from(from: any): ITween {\r\n\t\tthis.f = from;\r\n\t\tthis.updateProp();\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the values at the end of the tween\r\n\t *\r\n\t * @param {*} to\r\n\t * @param {number} duration\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic to(to: any, duration: number): ITween {\r\n\t\tthis.t = to;\r\n\t\tthis.duration = duration;\r\n\t\tthis.updateProp();\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Compute the properties\r\n\t *\r\n\t * @private\r\n\t */\r\n\tprivate updateProp() {\r\n\t\tif (!this.obj) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor (const index in this.t) {\r\n\t\t\tif (this.t.hasOwnProperty(index)) {\r\n\t\t\t\tthis.prop.push(index);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.prop.filter((el, i, a) => i === a.indexOf(el));\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to define if the tween as to work in relative or not\r\n\t *\r\n\t * @param {boolean} relative\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic setRelative(relative: boolean): ITween {\r\n\t\tthis.relative = relative;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * To apply a modifier on a current tween\r\n\t *\r\n\t * @param {*} diff\r\n\t * @param {boolean} updateTo\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic modify(diff: any, updateTo: boolean): void {\r\n\t\tfor (const prop of this.prop) {\r\n\t\t\tif (!diff.hasOwnProperty(prop)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.obj[prop] += diff[prop];\r\n\r\n\t\t\tif (updateTo) {\r\n\t\t\t\tthis.ct[prop] += diff[prop];\r\n\t\t\t} else {\r\n\t\t\t\tthis.cf[prop] += diff[prop];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Overwrite the Reset (just for yoyo)\r\n\t *\r\n\t * @param {boolean} [skipParent]\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic reset(skipParent?: boolean): void {\r\n\t\tif (this.yo) {\r\n\t\t\tif ((this.yo.original - this.yo.value) % 2 === 1) {\r\n\t\t\t\tlet previous = this.cf;\r\n\t\t\t\tthis.cf = this.ct;\r\n\t\t\t\tthis.ct = previous;\r\n\r\n\t\t\t\tprevious = this.f;\r\n\t\t\t\tthis.f = this.t;\r\n\t\t\t\tthis.t = previous;\r\n\r\n\t\t\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\t\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\t\t\t}\r\n\r\n\t\t\tthis.yo.value = this.yo.original;\r\n\t\t}\r\n\t\tsuper.reset(skipParent);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic reverse(): void {\r\n\t\tlet previous = this.cf;\r\n\t\tthis.cf = this.ct;\r\n\t\tthis.ct = previous;\r\n\r\n\t\tprevious = this.f;\r\n\t\tthis.f = this.t;\r\n\t\tthis.t = previous;\r\n\r\n\t\tconst elapsed = (1 - (this.elapsed / this.duration)) * this.duration;\r\n\t\tthis.elapsed = Math.round(elapsed * 1000) / 1000;\r\n\r\n\t\tif (this.state === State.Finished) {\r\n\t\t\tthis.reset(true);\r\n\t\t\tthis.start();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to reverse the tween N times at the end\r\n\t *\r\n\t * @param {number} time\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic yoyo(time: number): ITween {\r\n\t\tif (!this.yo) {\r\n\t\t\tthis.yo = { original: 0, value: 0 };\r\n\t\t}\r\n\t\tthis.yo.original = time;\r\n\t\tthis.yo.value = time;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to Quantify the tween value to a certain amount of steps\r\n\t *\r\n\t * @param {number} steps\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic setSteps(steps: number): ITween {\r\n\t\tthis.steps = steps;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to create a sequence with this tween as first value.\r\n\t * Usually used with .AppendInterval(1250) or .PrependInterval(160) to add a delay\r\n\t *\r\n\t * @returns {ISequence}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic toSequence(): ISequence {\r\n\t\tif (!this.parent) {\r\n\t\t\tthrow new Error('parent ticker not defined');\r\n\t\t}\r\n\t\treturn new Sequence().setParent(this.parent).append(this);\r\n\t}\r\n\r\n\t/**\r\n\t * Method used to set the type of easing for this tween\r\n\t *\r\n\t * @param {(EasingType | string)} type\r\n\t * @returns {ITween}\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tpublic setEasing(type: EasingType | string): ITween {\r\n\t\tif (!(type in easeNames)) {\r\n\t\t\tthrow new Error(`unknown easing method ${type}`);\r\n\t\t}\r\n\r\n\t\tthis.ease = easeNames[type];\r\n\t\treturn this;\r\n\t}\r\n\r\n\t/**\r\n\t * Method used when the tween is reset (loop)\r\n\t *\r\n\t * @protected\r\n\t *\r\n\t * @memberOf Tween\r\n\t */\r\n\tprotected loopInit() {\r\n\t\tthis.elapsed = 0;\r\n\t}\r\n}\r\n"],"sourceRoot":""}